function ck(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Wd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var nv={exports:{}},td={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function dk(){if(hT)return td;hT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return td.Fragment=e,td.jsx=n,td.jsxs=n,td}var mT;function fk(){return mT||(mT=1,nv.exports=dk()),nv.exports}var w=fk(),rv={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function hk(){if(pT)return ht;pT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function R(q,se,Te){this.props=q,this.context=se,this.refs=x,this.updater=Te||b}R.prototype.isReactComponent={},R.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=R.prototype;function O(q,se,Te){this.props=q,this.context=se,this.refs=x,this.updater=Te||b}var B=O.prototype=new I;B.constructor=O,T(B,R.prototype),B.isPureReactComponent=!0;var j=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function P(q,se,Te,fe,Re,ke){return Te=ke.ref,{$$typeof:t,type:q,key:se,ref:Te!==void 0?Te:null,props:ke}}function D(q,se){return P(q.type,se,void 0,void 0,void 0,q.props)}function k(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function z(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Te){return se[Te]})}var H=/\/+/g;function $(q,se){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):se.toString(36)}function N(){}function J(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(N,N):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function me(q,se,Te,fe,Re){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Oe=!1;if(q===null)Oe=!0;else switch(ke){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(q.$$typeof){case t:case e:Oe=!0;break;case g:return Oe=q._init,me(Oe(q._payload),se,Te,fe,Re)}}if(Oe)return Re=Re(q),Oe=fe===""?"."+$(q,0):fe,j(Re)?(Te="",Oe!=null&&(Te=Oe.replace(H,"$&/")+"/"),me(Re,se,Te,"",function(Mt){return Mt})):Re!=null&&(k(Re)&&(Re=D(Re,Te+(Re.key==null||q&&q.key===Re.key?"":(""+Re.key).replace(H,"$&/")+"/")+Oe)),se.push(Re)),1;Oe=0;var pt=fe===""?".":fe+":";if(j(q))for(var st=0;st<q.length;st++)fe=q[st],ke=pt+$(fe,st),Oe+=me(fe,se,Te,ke,Re);else if(st=v(q),typeof st=="function")for(q=st.call(q),st=0;!(fe=q.next()).done;)fe=fe.value,ke=pt+$(fe,st++),Oe+=me(fe,se,Te,ke,Re);else if(ke==="object"){if(typeof q.then=="function")return me(J(q),se,Te,fe,Re);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function K(q,se,Te){if(q==null)return q;var fe=[],Re=0;return me(q,fe,"","",function(ke){return se.call(Te,ke,Re++)}),fe}function ue(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(Te){(q._status===0||q._status===-1)&&(q._status=1,q._result=Te)},function(Te){(q._status===0||q._status===-1)&&(q._status=2,q._result=Te)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function xe(){}return ht.Children={map:K,forEach:function(q,se,Te){K(q,function(){se.apply(this,arguments)},Te)},count:function(q){var se=0;return K(q,function(){se++}),se},toArray:function(q){return K(q,function(se){return se})||[]},only:function(q){if(!k(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ht.Component=R,ht.Fragment=n,ht.Profiler=a,ht.PureComponent=O,ht.StrictMode=r,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ht.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},ht.cache=function(q){return function(){return q.apply(null,arguments)}},ht.cloneElement=function(q,se,Te){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=T({},q.props),Re=q.key,ke=void 0;if(se!=null)for(Oe in se.ref!==void 0&&(ke=void 0),se.key!==void 0&&(Re=""+se.key),se)!V.call(se,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&se.ref===void 0||(fe[Oe]=se[Oe]);var Oe=arguments.length-2;if(Oe===1)fe.children=Te;else if(1<Oe){for(var pt=Array(Oe),st=0;st<Oe;st++)pt[st]=arguments[st+2];fe.children=pt}return P(q.type,Re,void 0,void 0,ke,fe)},ht.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},ht.createElement=function(q,se,Te){var fe,Re={},ke=null;if(se!=null)for(fe in se.key!==void 0&&(ke=""+se.key),se)V.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Re[fe]=se[fe]);var Oe=arguments.length-2;if(Oe===1)Re.children=Te;else if(1<Oe){for(var pt=Array(Oe),st=0;st<Oe;st++)pt[st]=arguments[st+2];Re.children=pt}if(q&&q.defaultProps)for(fe in Oe=q.defaultProps,Oe)Re[fe]===void 0&&(Re[fe]=Oe[fe]);return P(q,ke,void 0,void 0,null,Re)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(q){return{$$typeof:d,render:q}},ht.isValidElement=k,ht.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ue}},ht.memo=function(q,se){return{$$typeof:h,type:q,compare:se===void 0?null:se}},ht.startTransition=function(q){var se=M.T,Te={};M.T=Te;try{var fe=q(),Re=M.S;Re!==null&&Re(Te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(xe,pe)}catch(ke){pe(ke)}finally{M.T=se}},ht.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ht.use=function(q){return M.H.use(q)},ht.useActionState=function(q,se,Te){return M.H.useActionState(q,se,Te)},ht.useCallback=function(q,se){return M.H.useCallback(q,se)},ht.useContext=function(q){return M.H.useContext(q)},ht.useDebugValue=function(){},ht.useDeferredValue=function(q,se){return M.H.useDeferredValue(q,se)},ht.useEffect=function(q,se,Te){var fe=M.H;if(typeof Te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(q,se)},ht.useId=function(){return M.H.useId()},ht.useImperativeHandle=function(q,se,Te){return M.H.useImperativeHandle(q,se,Te)},ht.useInsertionEffect=function(q,se){return M.H.useInsertionEffect(q,se)},ht.useLayoutEffect=function(q,se){return M.H.useLayoutEffect(q,se)},ht.useMemo=function(q,se){return M.H.useMemo(q,se)},ht.useOptimistic=function(q,se){return M.H.useOptimistic(q,se)},ht.useReducer=function(q,se,Te){return M.H.useReducer(q,se,Te)},ht.useRef=function(q){return M.H.useRef(q)},ht.useState=function(q){return M.H.useState(q)},ht.useSyncExternalStore=function(q,se,Te){return M.H.useSyncExternalStore(q,se,Te)},ht.useTransition=function(){return M.H.useTransition()},ht.version="19.1.1",ht}var gT;function fp(){return gT||(gT=1,rv.exports=hk()),rv.exports}var E=fp();const Pe=Wd(E),mk=ck({__proto__:null,default:Pe},[E]);var iv={exports:{}},nd={},av={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function pk(){return yT||(yT=1,(function(t){function e(K,ue){var pe=K.length;K.push(ue);e:for(;0<pe;){var xe=pe-1>>>1,q=K[xe];if(0<a(q,ue))K[xe]=ue,K[pe]=q,pe=xe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ue=K[0],pe=K.pop();if(pe!==ue){K[0]=pe;e:for(var xe=0,q=K.length,se=q>>>1;xe<se;){var Te=2*(xe+1)-1,fe=K[Te],Re=Te+1,ke=K[Re];if(0>a(fe,pe))Re<q&&0>a(ke,fe)?(K[xe]=ke,K[Re]=pe,xe=Re):(K[xe]=fe,K[Te]=pe,xe=Te);else if(Re<q&&0>a(ke,pe))K[xe]=ke,K[Re]=pe,xe=Re;else break e}}return ue}function a(K,ue){var pe=K.sortIndex-ue.sortIndex;return pe!==0?pe:K.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,_=null,v=3,b=!1,T=!1,x=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function j(K){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=K)r(h),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(h)}}function M(K){if(x=!1,j(K),!T)if(n(f)!==null)T=!0,V||(V=!0,$());else{var ue=n(h);ue!==null&&me(M,ue.startTime-K)}}var V=!1,P=-1,D=5,k=-1;function z(){return R?!0:!(t.unstable_now()-k<D)}function H(){if(R=!1,V){var K=t.unstable_now();k=K;var ue=!0;try{e:{T=!1,x&&(x=!1,O(P),P=-1),b=!0;var pe=v;try{t:{for(j(K),_=n(f);_!==null&&!(_.expirationTime>K&&z());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,v=_.priorityLevel;var q=xe(_.expirationTime<=K);if(K=t.unstable_now(),typeof q=="function"){_.callback=q,j(K),ue=!0;break t}_===n(f)&&r(f),j(K)}else r(f);_=n(f)}if(_!==null)ue=!0;else{var se=n(h);se!==null&&me(M,se.startTime-K),ue=!1}}break e}finally{_=null,v=pe,b=!1}ue=void 0}}finally{ue?$():V=!1}}}var $;if(typeof B=="function")$=function(){B(H)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=H,$=function(){J.postMessage(null)}}else $=function(){I(H,0)};function me(K,ue){P=I(function(){K(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var pe=v;v=ue;try{return K()}finally{v=pe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=v;v=K;try{return ue()}finally{v=pe}},t.unstable_scheduleCallback=function(K,ue,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=pe+q,K={id:g++,callback:ue,priorityLevel:K,startTime:pe,expirationTime:q,sortIndex:-1},pe>xe?(K.sortIndex=pe,e(h,K),n(f)===null&&K===n(h)&&(x?(O(P),P=-1):x=!0,me(M,pe-xe))):(K.sortIndex=q,e(f,K),T||b||(T=!0,V||(V=!0,$()))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var ue=v;return function(){var pe=v;v=ue;try{return K.apply(this,arguments)}finally{v=pe}}}})(sv)),sv}var vT;function gk(){return vT||(vT=1,av.exports=pk()),av.exports}var ov={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function yk(){if(_T)return sr;_T=1;var t=fp();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},sr.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},sr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},sr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},sr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,_=d(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},sr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,_=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},sr.requestFormReset=function(f){r.d.r(f)},sr.unstable_batchedUpdates=function(f,h){return f(h)},sr.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},sr.useFormStatus=function(){return u.H.useHostTransitionStatus()},sr.version="19.1.1",sr}var ET;function UC(){if(ET)return ov.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ov.exports=yk(),ov.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function vk(){if(wT)return nd;wT=1;var t=gk(),e=fp(),n=UC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),i;if(y===c)return d(p),s;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=y;else{for(var C=!1,L=p.child;L;){if(L===l){C=!0,l=p,c=y;break}if(L===c){C=!0,c=p,l=y;break}L=L.sibling}if(!C){for(L=y.child;L;){if(L===l){C=!0,l=y,c=p;break}if(L===c){C=!0,c=y,l=p;break}L=L.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),B=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case R:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case V:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case B:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return s=i.displayName||null,s!==null?s:J(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return J(i(s))}catch{}}return null}var me=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],q=-1;function se(i){return{current:i}}function Te(i){0>q||(i.current=xe[q],xe[q]=null,q--)}function fe(i,s){q++,xe[q]=i.current,i.current=s}var Re=se(null),ke=se(null),Oe=se(null),pt=se(null);function st(i,s){switch(fe(Oe,s),fe(ke,i),fe(Re,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?B0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=B0(s),i=z0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Te(Re),fe(Re,i)}function Mt(){Te(Re),Te(ke),Te(Oe)}function ft(i){i.memoizedState!==null&&fe(pt,i);var s=Re.current,l=z0(s,i.type);s!==l&&(fe(ke,i),fe(Re,l))}function Ct(i){ke.current===i&&(Te(Re),Te(ke)),pt.current===i&&(Te(pt),Wc._currentValue=pe)}var Zt=Object.prototype.hasOwnProperty,un=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,gt=t.unstable_shouldYield,Dn=t.unstable_requestPaint,Nt=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,F=t.unstable_UserBlockingPriority,Q=t.unstable_NormalPriority,X=t.unstable_LowPriority,we=t.unstable_IdlePriority,be=t.log,ye=t.unstable_setDisableYieldValue,Se=null,je=null;function it(i){if(typeof be=="function"&&ye(i),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Se,i)}catch{}}var xt=Math.clz32?Math.clz32:ca,ji=Math.log,cn=Math.LN2;function ca(i){return i>>>=0,i===0?32:31-(ji(i)/cn|0)|0}var Yn=256,pr=4194304;function gr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function jn(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var L=c&134217727;return L!==0?(c=L&~y,c!==0?p=gr(c):(C&=L,C!==0?p=gr(C):l||(l=L&~i,l!==0&&(p=gr(l))))):(L=c&~y,L!==0?p=gr(L):C!==0?p=gr(C):l||(l=c&~i,l!==0&&(p=gr(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function yr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ii(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var i=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),i}function Ui(){var i=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),i}function fa(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function rn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ho(i,s,l,c,p,y){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var L=i.entanglements,G=i.expirationTimes,re=i.hiddenUpdates;for(l=C&~l;0<l;){var de=31-xt(l),_e=1<<de;L[de]=0,G[de]=-1;var ie=re[de];if(ie!==null)for(re[de]=null,de=0;de<ie.length;de++){var ae=ie[de];ae!==null&&(ae.lane&=-536870913)}l&=~_e}c!==0&&Ur(i,c,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~s))}function Ur(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-xt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Fr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-xt(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function mo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function po(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Y(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:oT(i.type))}function ee(i,s){var l=ue.p;try{return ue.p=i,s()}finally{ue.p=l}}var oe=Math.random().toString(36).slice(2),ve="__reactFiber$"+oe,Ce="__reactProps$"+oe,Ue="__reactContainer$"+oe,ze="__reactEvents$"+oe,Ve="__reactListeners$"+oe,Qe="__reactHandles$"+oe,Ke="__reactResources$"+oe,Fe="__reactMarker$"+oe;function He(i){delete i[ve],delete i[Ce],delete i[ze],delete i[Ve],delete i[Qe]}function ct(i){var s=i[ve];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ue]||l[ve]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=G0(i);i!==null;){if(l=i[ve])return l;i=G0(i)}return s}i=l,l=i.parentNode}return null}function St(i){if(i=i[ve]||i[Ue]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ht(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function en(i){var s=i[Ke];return s||(s=i[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(i){i[Fe]=!0}var kt=new Set,vr={};function rr(i,s){Nn(i,s),Nn(i+"Capture",s)}function Nn(i,s){for(vr[i]=s,i=0;i<s.length;i++)kt.add(s[i])}var Un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},ai={};function bi(i){return Zt.call(ai,i)?!0:Zt.call(Cr,i)?!1:Un.test(i)?ai[i]=!0:(Cr[i]=!0,!1)}function si(i,s,l){if(bi(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function oi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function ut(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var tn,Br;function Qn(i){if(tn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);tn=s&&s[1]||"",Br=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+i+Br}var Kt=!1;function Si(i,s){if(!i||Kt)return"";Kt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ae){var ie=ae}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(ae){ie=ae}i.call(_e.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],L=y[1];if(C&&L){var G=C.split(`
`),re=L.split(`
`);for(p=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;if(c===G.length||p===re.length)for(c=G.length-1,p=re.length-1;1<=c&&0<=p&&G[c]!==re[p];)p--;for(;1<=c&&0<=p;c--,p--)if(G[c]!==re[p]){if(c!==1||p!==1)do if(c--,p--,0>p||G[c]!==re[p]){var de=`
`+G[c].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=c&&0<=p);break}}}finally{Kt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Qn(l):""}function hl(i){switch(i.tag){case 26:case 27:case 5:return Qn(i.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Si(i.type,!1);case 11:return Si(i.type.render,!1);case 1:return Si(i.type,!0);case 31:return Qn("Activity");default:return""}}function zr(i){try{var s="";do s+=hl(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xa(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function go(i){var s=Xa(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ja(i){i._valueTracker||(i._valueTracker=go(i))}function Ut(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Xa(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ha(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yo=/[\n"\\]/g;function Fn(i){return i.replace(yo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tc(i,s,l,c,p,y,C,L){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+an(s)):i.value!==""+an(s)&&(i.value=""+an(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?rc(i,C,an(s)):l!=null?rc(i,C,an(l)):c!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+an(L):i.removeAttribute("name")}function nc(i,s,l,c,p,y,C,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+an(l):"",s=s!=null?""+an(s):l,L||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=L?i.checked:!!c,i.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function rc(i,s,l){s==="number"&&ha(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Za(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+an(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Of(i,s,l){if(s!=null&&(s=""+an(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+an(l):""}function Mf(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(me(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=an(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function li(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||ma.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ac(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&ic(i,p,c)}else for(var y in s)s.hasOwnProperty(y)&&ic(i,y,s[y])}function ml(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(i){return Pf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sc=null;function oc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var es=null,_r=null;function Lf(i){var s=St(i);if(s&&(i=s.stateNode)){var l=i[Ce]||null;e:switch(i=s.stateNode,s.type){case"input":if(tc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[Ce]||null;if(!p)throw Error(r(90));tc(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Ut(c)}break e;case"textarea":Of(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Za(i,!!l.multiple,s,!1)}}}var vo=!1;function _o(i,s,l){if(vo)return i(s,l);vo=!0;try{var c=i(s);return c}finally{if(vo=!1,(es!==null||_r!==null)&&(Rh(),es&&(s=es,i=_r,_r=es=null,Lf(s),i)))for(s=0;s<i.length;s++)Lf(i[s])}}function ts(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Ce]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(Er)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){pa=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{pa=!1}var ui=null,Yt=null,pl=null;function Vf(){if(pl)return pl;var i,s=Yt,l=s.length,c,p="value"in ui?ui.value:ui.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var C=l-i;for(c=1;c<=C&&s[l-c]===p[y-c];c++);return pl=p.slice(i,1<c?1-c:void 0)}function Eo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wo(){return!0}function lc(){return!1}function On(i){function s(l,c,p,y,C){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(l=i[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wo:lc,this.isPropagationStopped=lc,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=On(ir),So=g({},ir,{view:0,detail:0}),To=On(So),gl,Ro,Fi,Ao=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(gl=i.screenX-Fi.screenX,Ro=i.screenY-Fi.screenY):Ro=gl=0,Fi=i),gl)},movementY:function(i){return"movementY"in i?i.movementY:Ro}}),Co=On(Ao),dg=g({},Ao,{dataTransfer:0}),jf=On(dg),xo=g({},So,{relatedTarget:0}),yl=On(xo),Uf=g({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=On(Uf),cc=g({},ir,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ff=On(cc),vl=g({},ir,{data:0}),dc=On(vl),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zf[i])?!!s[i]:!1}function _l(){return Hf}var $f=g({},So,{key:function(i){if(i.key){var s=Bf[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Eo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ga[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(i){return i.type==="keypress"?Eo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Eo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),El=On($f),wr=g({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=On(wr),qf=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),rs=On(qf),m=g({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=On(m),A=g({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),U=On(A),ne=g({},ir,{newState:0,oldState:0}),le=On(ne),De=[9,13,27,32],dt=Er&&"CompositionEvent"in window,Xt=null;Er&&"documentMode"in document&&(Xt=document.documentMode);var Pt=Er&&"TextEvent"in window&&!Xt,mn=Er&&(!dt||Xt&&8<Xt&&11>=Xt),Hr=" ",Bi=!1;function Ri(i,s){switch(i){case"keyup":return De.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ai(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ci=!1;function hc(i,s){switch(i){case"compositionend":return Ai(s);case"keypress":return s.which!==32?null:(Bi=!0,Hr);case"textInput":return i=s.data,i===Hr&&Bi?null:i;default:return null}}function VM(i,s){if(Ci)return i==="compositionend"||!dt&&Ri(i,s)?(i=Vf(),pl=Yt=ui=null,Ci=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mn&&s.locale!=="ko"?null:s.data;default:return null}}var jM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!jM[i.type]:s==="textarea"}function nb(i,s,l,c){es?_r?_r.push(c):_r=[c]:es=c,s=Nh(s,"onChange"),0<s.length&&(l=new bo("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var mc=null,pc=null;function UM(i){L0(i,0)}function Gf(i){var s=Ht(i);if(Ut(s))return i}function rb(i,s){if(i==="change")return s}var ib=!1;if(Er){var fg;if(Er){var hg="oninput"in document;if(!hg){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),hg=typeof ab.oninput=="function"}fg=hg}else fg=!1;ib=fg&&(!document.documentMode||9<document.documentMode)}function sb(){mc&&(mc.detachEvent("onpropertychange",ob),pc=mc=null)}function ob(i){if(i.propertyName==="value"&&Gf(pc)){var s=[];nb(s,pc,i,oc(i)),_o(UM,s)}}function FM(i,s,l){i==="focusin"?(sb(),mc=s,pc=l,mc.attachEvent("onpropertychange",ob)):i==="focusout"&&sb()}function BM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gf(pc)}function zM(i,s){if(i==="click")return Gf(s)}function HM(i,s){if(i==="input"||i==="change")return Gf(s)}function $M(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $r=typeof Object.is=="function"?Object.is:$M;function gc(i,s){if($r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Zt.call(s,p)||!$r(i[p],s[p]))return!1}return!0}function lb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ub(i,s){var l=lb(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lb(l)}}function cb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function db(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ha(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ha(i.document)}return s}function mg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var qM=Er&&"documentMode"in document&&11>=document.documentMode,wl=null,pg=null,yc=null,gg=!1;function fb(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gg||wl==null||wl!==ha(c)||(c=wl,"selectionStart"in c&&mg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yc&&gc(yc,c)||(yc=c,c=Nh(pg,"onSelect"),0<c.length&&(s=new bo("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=wl)))}function Io(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var bl={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},yg={},hb={};Er&&(hb=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Do(i){if(yg[i])return yg[i];if(!bl[i])return i;var s=bl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in hb)return yg[i]=s[l];return i}var mb=Do("animationend"),pb=Do("animationiteration"),gb=Do("animationstart"),GM=Do("transitionrun"),KM=Do("transitionstart"),YM=Do("transitioncancel"),yb=Do("transitionend"),vb=new Map,vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vg.push("scrollEnd");function xi(i,s){vb.set(i,s),rr(s,[i])}var _b=new WeakMap;function ci(i,s){if(typeof i=="object"&&i!==null){var l=_b.get(i);return l!==void 0?l:(s={value:i,source:s,stack:zr(s)},_b.set(i,s),s)}return{value:i,source:s,stack:zr(s)}}var di=[],Sl=0,_g=0;function Kf(){for(var i=Sl,s=_g=Sl=0;s<i;){var l=di[s];di[s++]=null;var c=di[s];di[s++]=null;var p=di[s];di[s++]=null;var y=di[s];if(di[s++]=null,c!==null&&p!==null){var C=c.pending;C===null?p.next=p:(p.next=C.next,C.next=p),c.pending=p}y!==0&&Eb(l,p,y)}}function Yf(i,s,l,c){di[Sl++]=i,di[Sl++]=s,di[Sl++]=l,di[Sl++]=c,_g|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Eg(i,s,l,c){return Yf(i,s,l,c),Qf(i)}function Tl(i,s){return Yf(i,null,null,s),Qf(i)}function Eb(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-xt(l),i=y.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),y):null}function Qf(i){if(50<zc)throw zc=0,Ay=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rl={};function QM(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(i,s,l,c){return new QM(i,s,l,c)}function wg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ya(i,s){var l=i.alternate;return l===null?(l=qr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function wb(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Wf(i,s,l,c,p,y){var C=0;if(c=i,typeof i=="function")wg(i)&&(C=1);else if(typeof i=="string")C=X2(i,l,Re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=qr(31,l,s,p),i.elementType=k,i.lanes=y,i;case T:return No(l.children,p,y,s);case x:C=8,p|=24;break;case R:return i=qr(12,l,s,p|2),i.elementType=R,i.lanes=y,i;case M:return i=qr(13,l,s,p),i.elementType=M,i.lanes=y,i;case V:return i=qr(19,l,s,p),i.elementType=V,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case B:C=10;break e;case O:C=9;break e;case j:C=11;break e;case P:C=14;break e;case D:C=16,c=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=qr(C,l,s,p),s.elementType=i,s.type=c,s.lanes=y,s}function No(i,s,l,c){return i=qr(7,i,c,s),i.lanes=l,i}function bg(i,s,l){return i=qr(6,i,null,s),i.lanes=l,i}function Sg(i,s,l){return s=qr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Al=[],Cl=0,Xf=null,Jf=0,fi=[],hi=0,Oo=null,va=1,_a="";function Mo(i,s){Al[Cl++]=Jf,Al[Cl++]=Xf,Xf=i,Jf=s}function bb(i,s,l){fi[hi++]=va,fi[hi++]=_a,fi[hi++]=Oo,Oo=i;var c=va;i=_a;var p=32-xt(c)-1;c&=~(1<<p),l+=1;var y=32-xt(s)+p;if(30<y){var C=p-p%5;y=(c&(1<<C)-1).toString(32),c>>=C,p-=C,va=1<<32-xt(s)+p|l<<p|c,_a=y+i}else va=1<<y|l<<p|c,_a=i}function Tg(i){i.return!==null&&(Mo(i,1),bb(i,1,0))}function Rg(i){for(;i===Xf;)Xf=Al[--Cl],Al[Cl]=null,Jf=Al[--Cl],Al[Cl]=null;for(;i===Oo;)Oo=fi[--hi],fi[hi]=null,_a=fi[--hi],fi[hi]=null,va=fi[--hi],fi[hi]=null}var br=null,dn=null,Ot=!1,ko=null,zi=!1,Ag=Error(r(519));function Po(i){var s=Error(r(418,""));throw Ec(ci(s,i)),Ag}function Sb(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[ve]=i,s[Ce]=c,l){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(l=0;l<$c.length;l++)_t($c[l],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":_t("invalid",s),nc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ja(s);break;case"select":_t("invalid",s);break;case"textarea":_t("invalid",s),Mf(s,c.value,c.defaultValue,c.children),Ja(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||F0(s.textContent,l)?(c.popover!=null&&(_t("beforetoggle",s),_t("toggle",s)),c.onScroll!=null&&_t("scroll",s),c.onScrollEnd!=null&&_t("scrollend",s),c.onClick!=null&&(s.onclick=Oh),s=!0):s=!1,s||Po(i)}function Tb(i){for(br=i.return;br;)switch(br.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:br=br.return}}function vc(i){if(i!==br)return!1;if(!Ot)return Tb(i),Ot=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||zy(i.type,i.memoizedProps)),l=!l),l&&dn&&Po(i),Tb(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){dn=Di(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}dn=null}}else s===27?(s=dn,_s(i.type)?(i=Gy,Gy=null,dn=i):dn=s):dn=br?Di(i.stateNode.nextSibling):null;return!0}function _c(){dn=br=null,Ot=!1}function Rb(){var i=ko;return i!==null&&(Dr===null?Dr=i:Dr.push.apply(Dr,i),ko=null),i}function Ec(i){ko===null?ko=[i]:ko.push(i)}var Cg=se(null),Lo=null,Ea=null;function is(i,s,l){fe(Cg,s._currentValue),s._currentValue=l}function wa(i){i._currentValue=Cg.current,Te(Cg)}function xg(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Ig(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var C=p.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=p;for(var G=0;G<s.length;G++)if(L.context===s[G]){y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),xg(y.return,l,i),c||(C=null);break e}y=L.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(r(341));C.lanes|=l,y=C.alternate,y!==null&&(y.lanes|=l),xg(C,l,i),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===i){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function wc(i,s,l,c){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var L=p.type;$r(p.pendingProps.value,C.value)||(i!==null?i.push(L):i=[L])}}else if(p===pt.current){if(C=p.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}p=p.return}i!==null&&Ig(s,i,l,c),s.flags|=262144}function Zf(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vo(i){Lo=i,Ea=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ar(i){return Ab(Lo,i)}function eh(i,s){return Lo===null&&Vo(i),Ab(i,s)}function Ab(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ea===null){if(i===null)throw Error(r(308));Ea=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ea=Ea.next=s;return l}var WM=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},XM=t.unstable_scheduleCallback,JM=t.unstable_NormalPriority,Mn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dg(){return{controller:new WM,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&XM(JM,function(){i.controller.abort()})}var Sc=null,Ng=0,xl=0,Il=null;function ZM(i,s){if(Sc===null){var l=Sc=[];Ng=0,xl=My(),Il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ng++,s.then(Cb,Cb),s}function Cb(){if(--Ng===0&&Sc!==null){Il!==null&&(Il.status="fulfilled");var i=Sc;Sc=null,xl=0,Il=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function e2(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var xb=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZM(i,s),xb!==null&&xb(i,s)};var jo=se(null);function Og(){var i=jo.current;return i!==null?i:Qt.pooledCache}function th(i,s){s===null?fe(jo,jo.current):fe(jo,s.pool)}function Ib(){var i=Og();return i===null?null:{parent:Mn._currentValue,pool:i}}var Tc=Error(r(460)),Db=Error(r(474)),nh=Error(r(542)),Mg={then:function(){}};function Nb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rh(){}function Ob(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(rh,rh),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,kb(i),i;default:if(typeof s.status=="string")s.then(rh,rh);else{if(i=Qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,kb(i),i}throw Rc=s,Tc}}var Rc=null;function Mb(){if(Rc===null)throw Error(r(459));var i=Rc;return Rc=null,i}function kb(i){if(i===Tc||i===nh)throw Error(r(483))}var as=!1;function kg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function os(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Lt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Qf(i),Eb(i,null,l),s}return Yf(i,c,s,l),Qf(i)}function Ac(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Fr(i,l)}}function Lg(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Vg=!1;function Cc(){if(Vg){var i=Il;if(i!==null)throw i}}function xc(i,s,l,c){Vg=!1;var p=i.updateQueue;as=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,L=p.shared.pending;if(L!==null){p.shared.pending=null;var G=L,re=G.next;G.next=null,C===null?y=re:C.next=re,C=G;var de=i.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==C&&(L===null?de.firstBaseUpdate=re:L.next=re,de.lastBaseUpdate=G))}if(y!==null){var _e=p.baseState;C=0,de=re=G=null,L=y;do{var ie=L.lane&-536870913,ae=ie!==L.lane;if(ae?(Tt&ie)===ie:(c&ie)===ie){ie!==0&&ie===xl&&(Vg=!0),de!==null&&(de=de.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var at=i,et=L;ie=s;var zt=l;switch(et.tag){case 1:if(at=et.payload,typeof at=="function"){_e=at.call(zt,_e,ie);break e}_e=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=et.payload,ie=typeof at=="function"?at.call(zt,_e,ie):at,ie==null)break e;_e=g({},_e,ie);break e;case 2:as=!0}}ie=L.callback,ie!==null&&(i.flags|=64,ae&&(i.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(re=de=ae,G=_e):de=de.next=ae,C|=ie;if(L=L.next,L===null){if(L=p.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);de===null&&(G=_e),p.baseState=G,p.firstBaseUpdate=re,p.lastBaseUpdate=de,y===null&&(p.shared.lanes=0),ps|=C,i.lanes=C,i.memoizedState=_e}}function Pb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Lb(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Pb(l[i],s)}var Dl=se(null),ih=se(0);function Vb(i,s){i=xa,fe(ih,i),fe(Dl,s),xa=i|s.baseLanes}function jg(){fe(ih,xa),fe(Dl,Dl.current)}function Ug(){xa=ih.current,Te(Dl),Te(ih)}var ls=0,mt=null,Ft=null,wn=null,ah=!1,Nl=!1,Uo=!1,sh=0,Ic=0,Ol=null,t2=0;function pn(){throw Error(r(321))}function Fg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!$r(i[l],s[l]))return!1;return!0}function Bg(i,s,l,c,p,y){return ls=y,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?ES:wS,Uo=!1,y=l(c,p),Uo=!1,Nl&&(y=Ub(s,l,c,p)),jb(i),y}function jb(i){K.H=fh;var s=Ft!==null&&Ft.next!==null;if(ls=0,wn=Ft=mt=null,ah=!1,Ic=0,Ol=null,s)throw Error(r(300));i===null||Bn||(i=i.dependencies,i!==null&&Zf(i)&&(Bn=!0))}function Ub(i,s,l,c){mt=i;var p=0;do{if(Nl&&(Ol=null),Ic=0,Nl=!1,25<=p)throw Error(r(301));if(p+=1,wn=Ft=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=l2,y=s(l,c)}while(Nl);return y}function n2(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Dc(s):s,i=i.useState()[0],(Ft!==null?Ft.memoizedState:null)!==i&&(mt.flags|=1024),s}function zg(){var i=sh!==0;return sh=0,i}function Hg(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function $g(i){if(ah){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ah=!1}ls=0,wn=Ft=mt=null,Nl=!1,Ic=sh=0,Ol=null}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?mt.memoizedState=wn=i:wn=wn.next=i,wn}function bn(){if(Ft===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Ft.next;var s=wn===null?mt.memoizedState:wn.next;if(s!==null)wn=s,Ft=i;else{if(i===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Ft=i,i={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},wn===null?mt.memoizedState=wn=i:wn=wn.next=i}return wn}function qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(i){var s=Ic;return Ic+=1,Ol===null&&(Ol=[]),i=Ob(Ol,i,s),s=mt,(wn===null?s.memoizedState:wn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?ES:wS),i}function oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dc(i);if(i.$$typeof===B)return ar(i)}throw Error(r(438,String(i)))}function Gg(i){var s=null,l=mt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=mt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=qg(),mt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=z;return s.index++,l}function ba(i,s){return typeof s=="function"?s(i):s}function lh(i){var s=bn();return Kg(s,Ft,i)}function Kg(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,y=c.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}s.baseQueue=p=y,c.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var L=C=null,G=null,re=s,de=!1;do{var _e=re.lane&-536870913;if(_e!==re.lane?(Tt&_e)===_e:(ls&_e)===_e){var ie=re.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),_e===xl&&(de=!0);else if((ls&ie)===ie){re=re.next,ie===xl&&(de=!0);continue}else _e={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=_e,C=y):G=G.next=_e,mt.lanes|=ie,ps|=ie;_e=re.action,Uo&&l(y,_e),y=re.hasEagerState?re.eagerState:l(y,_e)}else ie={lane:_e,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=ie,C=y):G=G.next=ie,mt.lanes|=_e,ps|=_e;re=re.next}while(re!==null&&re!==s);if(G===null?C=y:G.next=L,!$r(y,i.memoizedState)&&(Bn=!0,de&&(l=Il,l!==null)))throw l;i.memoizedState=y,i.baseState=C,i.baseQueue=G,c.lastRenderedState=y}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Yg(i){var s=bn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do y=i(y,C.action),C=C.next;while(C!==p);$r(y,s.memoizedState)||(Bn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function Fb(i,s,l){var c=mt,p=bn(),y=Ot;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var C=!$r((Ft||p).memoizedState,l);C&&(p.memoizedState=l,Bn=!0),p=p.queue;var L=Hb.bind(null,c,p,i);if(Nc(2048,8,L,[i]),p.getSnapshot!==s||C||wn!==null&&wn.memoizedState.tag&1){if(c.flags|=2048,Ml(9,uh(),zb.bind(null,c,p,l,s),null),Qt===null)throw Error(r(349));y||(ls&124)!==0||Bb(c,s,l)}return l}function Bb(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=mt.updateQueue,s===null?(s=qg(),mt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function zb(i,s,l,c){s.value=l,s.getSnapshot=c,$b(s)&&qb(i)}function Hb(i,s,l){return l(function(){$b(s)&&qb(i)})}function $b(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!$r(i,l)}catch{return!0}}function qb(i){var s=Tl(i,2);s!==null&&Wr(s,i,2)}function Qg(i){var s=xr();if(typeof i=="function"){var l=i;if(i=l(),Uo){it(!0);try{l()}finally{it(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:i},s}function Gb(i,s,l,c){return i.baseState=l,Kg(i,Ft,typeof c=="function"?c:ba)}function r2(i,s,l,c,p){if(dh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};K.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,Kb(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Kb(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var y=K.T,C={};K.T=C;try{var L=l(p,c),G=K.S;G!==null&&G(C,L),Yb(i,s,L)}catch(re){Wg(i,s,re)}finally{K.T=y}}else try{y=l(p,c),Yb(i,s,y)}catch(re){Wg(i,s,re)}}function Yb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Qb(i,s,c)},function(c){return Wg(i,s,c)}):Qb(i,s,l)}function Qb(i,s,l){s.status="fulfilled",s.value=l,Wb(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Kb(i,l)))}function Wg(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Wb(s),s=s.next;while(s!==c)}i.action=null}function Wb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Xb(i,s){return s}function Jb(i,s){if(Ot){var l=Qt.formState;if(l!==null){e:{var c=mt;if(Ot){if(dn){t:{for(var p=dn,y=zi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Di(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){dn=Di(p.nextSibling),c=p.data==="F!";break e}}Po(c)}c=!1}c&&(s=l[0])}}return l=xr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:s},l.queue=c,l=yS.bind(null,mt,c),c.dispatch=l,c=Qg(!1),y=ty.bind(null,mt,!1,c.queue),c=xr(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=r2.bind(null,mt,p,y,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function Zb(i){var s=bn();return eS(s,Ft,i)}function eS(i,s,l){if(s=Kg(i,s,Xb)[0],i=lh(ba)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Dc(s)}catch(C){throw C===Tc?nh:C}else c=s;s=bn();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(mt.flags|=2048,Ml(9,uh(),i2.bind(null,p,l),null)),[c,y,i]}function i2(i,s){i.action=s}function tS(i){var s=bn(),l=Ft;if(l!==null)return eS(s,l,i);bn(),s=s.memoizedState,l=bn();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Ml(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=mt.updateQueue,s===null&&(s=qg(),mt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function uh(){return{destroy:void 0,resource:void 0}}function nS(){return bn().memoizedState}function ch(i,s,l,c){var p=xr();c=c===void 0?null:c,mt.flags|=i,p.memoizedState=Ml(1|s,uh(),l,c)}function Nc(i,s,l,c){var p=bn();c=c===void 0?null:c;var y=p.memoizedState.inst;Ft!==null&&c!==null&&Fg(c,Ft.memoizedState.deps)?p.memoizedState=Ml(s,y,l,c):(mt.flags|=i,p.memoizedState=Ml(1|s,y,l,c))}function rS(i,s){ch(8390656,8,i,s)}function iS(i,s){Nc(2048,8,i,s)}function aS(i,s){return Nc(4,2,i,s)}function sS(i,s){return Nc(4,4,i,s)}function oS(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lS(i,s,l){l=l!=null?l.concat([i]):null,Nc(4,4,oS.bind(null,s,i),l)}function Xg(){}function uS(i,s){var l=bn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Fg(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function cS(i,s){var l=bn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Fg(s,c[1]))return c[0];if(c=i(),Uo){it(!0);try{i()}finally{it(!1)}}return l.memoizedState=[c,s],c}function Jg(i,s,l){return l===void 0||(ls&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=h0(),mt.lanes|=i,ps|=i,l)}function dS(i,s,l,c){return $r(l,s)?l:Dl.current!==null?(i=Jg(i,l,c),$r(i,s)||(Bn=!0),i):(ls&42)===0?(Bn=!0,i.memoizedState=l):(i=h0(),mt.lanes|=i,ps|=i,s)}function fS(i,s,l,c,p){var y=ue.p;ue.p=y!==0&&8>y?y:8;var C=K.T,L={};K.T=L,ty(i,!1,s,l);try{var G=p(),re=K.S;if(re!==null&&re(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=e2(G,c);Oc(i,s,de,Qr(i))}else Oc(i,s,c,Qr(i))}catch(_e){Oc(i,s,{then:function(){},status:"rejected",reason:_e},Qr())}finally{ue.p=y,K.T=C}}function a2(){}function Zg(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=hS(i).queue;fS(i,p,s,pe,l===null?a2:function(){return mS(i),l(c)})}function hS(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function mS(i){var s=hS(i).next.queue;Oc(i,s,{},Qr())}function ey(){return ar(Wc)}function pS(){return bn().memoizedState}function gS(){return bn().memoizedState}function s2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Qr();i=ss(l);var c=os(s,i,l);c!==null&&(Wr(c,s,l),Ac(c,s,l)),s={cache:Dg()},i.payload=s;return}s=s.return}}function o2(i,s,l){var c=Qr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},dh(i)?vS(s,l):(l=Eg(i,s,l,c),l!==null&&(Wr(l,i,c),_S(l,s,c)))}function yS(i,s,l){var c=Qr();Oc(i,s,l,c)}function Oc(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(dh(i))vS(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,L=y(C,l);if(p.hasEagerState=!0,p.eagerState=L,$r(L,C))return Yf(i,s,p,0),Qt===null&&Kf(),!1}catch{}finally{}if(l=Eg(i,s,p,c),l!==null)return Wr(l,i,c),_S(l,s,c),!0}return!1}function ty(i,s,l,c){if(c={lane:2,revertLane:My(),action:c,hasEagerState:!1,eagerState:null,next:null},dh(i)){if(s)throw Error(r(479))}else s=Eg(i,l,c,2),s!==null&&Wr(s,i,2)}function dh(i){var s=i.alternate;return i===mt||s!==null&&s===mt}function vS(i,s){Nl=ah=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function _S(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Fr(i,l)}}var fh={readContext:ar,use:oh,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn},ES={readContext:ar,use:oh,useCallback:function(i,s){return xr().memoizedState=[i,s===void 0?null:s],i},useContext:ar,useEffect:rS,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,ch(4194308,4,oS.bind(null,s,i),l)},useLayoutEffect:function(i,s){return ch(4194308,4,i,s)},useInsertionEffect:function(i,s){ch(4,2,i,s)},useMemo:function(i,s){var l=xr();s=s===void 0?null:s;var c=i();if(Uo){it(!0);try{i()}finally{it(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=xr();if(l!==void 0){var p=l(s);if(Uo){it(!0);try{l(s)}finally{it(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=o2.bind(null,mt,i),[c.memoizedState,i]},useRef:function(i){var s=xr();return i={current:i},s.memoizedState=i},useState:function(i){i=Qg(i);var s=i.queue,l=yS.bind(null,mt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Xg,useDeferredValue:function(i,s){var l=xr();return Jg(l,i,s)},useTransition:function(){var i=Qg(!1);return i=fS.bind(null,mt,i.queue,!0,!1),xr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=mt,p=xr();if(Ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Qt===null)throw Error(r(349));(Tt&124)!==0||Bb(c,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,rS(Hb.bind(null,c,y,i),[i]),c.flags|=2048,Ml(9,uh(),zb.bind(null,c,y,l,s),null),l},useId:function(){var i=xr(),s=Qt.identifierPrefix;if(Ot){var l=_a,c=va;l=(c&~(1<<32-xt(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=sh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=t2++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:ey,useFormState:Jb,useActionState:Jb,useOptimistic:function(i){var s=xr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ty.bind(null,mt,!0,l),l.dispatch=s,[i,s]},useMemoCache:Gg,useCacheRefresh:function(){return xr().memoizedState=s2.bind(null,mt)}},wS={readContext:ar,use:oh,useCallback:uS,useContext:ar,useEffect:iS,useImperativeHandle:lS,useInsertionEffect:aS,useLayoutEffect:sS,useMemo:cS,useReducer:lh,useRef:nS,useState:function(){return lh(ba)},useDebugValue:Xg,useDeferredValue:function(i,s){var l=bn();return dS(l,Ft.memoizedState,i,s)},useTransition:function(){var i=lh(ba)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:Dc(i),s]},useSyncExternalStore:Fb,useId:pS,useHostTransitionStatus:ey,useFormState:Zb,useActionState:Zb,useOptimistic:function(i,s){var l=bn();return Gb(l,Ft,i,s)},useMemoCache:Gg,useCacheRefresh:gS},l2={readContext:ar,use:oh,useCallback:uS,useContext:ar,useEffect:iS,useImperativeHandle:lS,useInsertionEffect:aS,useLayoutEffect:sS,useMemo:cS,useReducer:Yg,useRef:nS,useState:function(){return Yg(ba)},useDebugValue:Xg,useDeferredValue:function(i,s){var l=bn();return Ft===null?Jg(l,i,s):dS(l,Ft.memoizedState,i,s)},useTransition:function(){var i=Yg(ba)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:Dc(i),s]},useSyncExternalStore:Fb,useId:pS,useHostTransitionStatus:ey,useFormState:tS,useActionState:tS,useOptimistic:function(i,s){var l=bn();return Ft!==null?Gb(l,Ft,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Gg,useCacheRefresh:gS},kl=null,Mc=0;function hh(i){var s=Mc;return Mc+=1,kl===null&&(kl=[]),Ob(kl,i,s)}function kc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function mh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function bS(i){var s=i._init;return s(i._payload)}function SS(i){function s(Z,W){if(i){var te=Z.deletions;te===null?(Z.deletions=[W],Z.flags|=16):te.push(W)}}function l(Z,W){if(!i)return null;for(;W!==null;)s(Z,W),W=W.sibling;return null}function c(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function p(Z,W){return Z=ya(Z,W),Z.index=0,Z.sibling=null,Z}function y(Z,W,te){return Z.index=te,i?(te=Z.alternate,te!==null?(te=te.index,te<W?(Z.flags|=67108866,W):te):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function C(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function L(Z,W,te,he){return W===null||W.tag!==6?(W=bg(te,Z.mode,he),W.return=Z,W):(W=p(W,te),W.return=Z,W)}function G(Z,W,te,he){var Be=te.type;return Be===T?de(Z,W,te.props.children,he,te.key):W!==null&&(W.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===D&&bS(Be)===W.type)?(W=p(W,te.props),kc(W,te),W.return=Z,W):(W=Wf(te.type,te.key,te.props,null,Z.mode,he),kc(W,te),W.return=Z,W)}function re(Z,W,te,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=Sg(te,Z.mode,he),W.return=Z,W):(W=p(W,te.children||[]),W.return=Z,W)}function de(Z,W,te,he,Be){return W===null||W.tag!==7?(W=No(te,Z.mode,he,Be),W.return=Z,W):(W=p(W,te),W.return=Z,W)}function _e(Z,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=bg(""+W,Z.mode,te),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return te=Wf(W.type,W.key,W.props,null,Z.mode,te),kc(te,W),te.return=Z,te;case b:return W=Sg(W,Z.mode,te),W.return=Z,W;case D:var he=W._init;return W=he(W._payload),_e(Z,W,te)}if(me(W)||$(W))return W=No(W,Z.mode,te,null),W.return=Z,W;if(typeof W.then=="function")return _e(Z,hh(W),te);if(W.$$typeof===B)return _e(Z,eh(Z,W),te);mh(Z,W)}return null}function ie(Z,W,te,he){var Be=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Be!==null?null:L(Z,W,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Be?G(Z,W,te,he):null;case b:return te.key===Be?re(Z,W,te,he):null;case D:return Be=te._init,te=Be(te._payload),ie(Z,W,te,he)}if(me(te)||$(te))return Be!==null?null:de(Z,W,te,he,null);if(typeof te.then=="function")return ie(Z,W,hh(te),he);if(te.$$typeof===B)return ie(Z,W,eh(Z,te),he);mh(Z,te)}return null}function ae(Z,W,te,he,Be){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Z=Z.get(te)||null,L(W,Z,""+he,Be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Z=Z.get(he.key===null?te:he.key)||null,G(W,Z,he,Be);case b:return Z=Z.get(he.key===null?te:he.key)||null,re(W,Z,he,Be);case D:var yt=he._init;return he=yt(he._payload),ae(Z,W,te,he,Be)}if(me(he)||$(he))return Z=Z.get(te)||null,de(W,Z,he,Be,null);if(typeof he.then=="function")return ae(Z,W,te,hh(he),Be);if(he.$$typeof===B)return ae(Z,W,te,eh(W,he),Be);mh(W,he)}return null}function at(Z,W,te,he){for(var Be=null,yt=null,Xe=W,tt=W=0,Hn=null;Xe!==null&&tt<te.length;tt++){Xe.index>tt?(Hn=Xe,Xe=null):Hn=Xe.sibling;var It=ie(Z,Xe,te[tt],he);if(It===null){Xe===null&&(Xe=Hn);break}i&&Xe&&It.alternate===null&&s(Z,Xe),W=y(It,W,tt),yt===null?Be=It:yt.sibling=It,yt=It,Xe=Hn}if(tt===te.length)return l(Z,Xe),Ot&&Mo(Z,tt),Be;if(Xe===null){for(;tt<te.length;tt++)Xe=_e(Z,te[tt],he),Xe!==null&&(W=y(Xe,W,tt),yt===null?Be=Xe:yt.sibling=Xe,yt=Xe);return Ot&&Mo(Z,tt),Be}for(Xe=c(Xe);tt<te.length;tt++)Hn=ae(Xe,Z,tt,te[tt],he),Hn!==null&&(i&&Hn.alternate!==null&&Xe.delete(Hn.key===null?tt:Hn.key),W=y(Hn,W,tt),yt===null?Be=Hn:yt.sibling=Hn,yt=Hn);return i&&Xe.forEach(function(Ts){return s(Z,Ts)}),Ot&&Mo(Z,tt),Be}function et(Z,W,te,he){if(te==null)throw Error(r(151));for(var Be=null,yt=null,Xe=W,tt=W=0,Hn=null,It=te.next();Xe!==null&&!It.done;tt++,It=te.next()){Xe.index>tt?(Hn=Xe,Xe=null):Hn=Xe.sibling;var Ts=ie(Z,Xe,It.value,he);if(Ts===null){Xe===null&&(Xe=Hn);break}i&&Xe&&Ts.alternate===null&&s(Z,Xe),W=y(Ts,W,tt),yt===null?Be=Ts:yt.sibling=Ts,yt=Ts,Xe=Hn}if(It.done)return l(Z,Xe),Ot&&Mo(Z,tt),Be;if(Xe===null){for(;!It.done;tt++,It=te.next())It=_e(Z,It.value,he),It!==null&&(W=y(It,W,tt),yt===null?Be=It:yt.sibling=It,yt=It);return Ot&&Mo(Z,tt),Be}for(Xe=c(Xe);!It.done;tt++,It=te.next())It=ae(Xe,Z,tt,It.value,he),It!==null&&(i&&It.alternate!==null&&Xe.delete(It.key===null?tt:It.key),W=y(It,W,tt),yt===null?Be=It:yt.sibling=It,yt=It);return i&&Xe.forEach(function(uk){return s(Z,uk)}),Ot&&Mo(Z,tt),Be}function zt(Z,W,te,he){if(typeof te=="object"&&te!==null&&te.type===T&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Be=te.key;W!==null;){if(W.key===Be){if(Be=te.type,Be===T){if(W.tag===7){l(Z,W.sibling),he=p(W,te.props.children),he.return=Z,Z=he;break e}}else if(W.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===D&&bS(Be)===W.type){l(Z,W.sibling),he=p(W,te.props),kc(he,te),he.return=Z,Z=he;break e}l(Z,W);break}else s(Z,W);W=W.sibling}te.type===T?(he=No(te.props.children,Z.mode,he,te.key),he.return=Z,Z=he):(he=Wf(te.type,te.key,te.props,null,Z.mode,he),kc(he,te),he.return=Z,Z=he)}return C(Z);case b:e:{for(Be=te.key;W!==null;){if(W.key===Be)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){l(Z,W.sibling),he=p(W,te.children||[]),he.return=Z,Z=he;break e}else{l(Z,W);break}else s(Z,W);W=W.sibling}he=Sg(te,Z.mode,he),he.return=Z,Z=he}return C(Z);case D:return Be=te._init,te=Be(te._payload),zt(Z,W,te,he)}if(me(te))return at(Z,W,te,he);if($(te)){if(Be=$(te),typeof Be!="function")throw Error(r(150));return te=Be.call(te),et(Z,W,te,he)}if(typeof te.then=="function")return zt(Z,W,hh(te),he);if(te.$$typeof===B)return zt(Z,W,eh(Z,te),he);mh(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(l(Z,W.sibling),he=p(W,te),he.return=Z,Z=he):(l(Z,W),he=bg(te,Z.mode,he),he.return=Z,Z=he),C(Z)):l(Z,W)}return function(Z,W,te,he){try{Mc=0;var Be=zt(Z,W,te,he);return kl=null,Be}catch(Xe){if(Xe===Tc||Xe===nh)throw Xe;var yt=qr(29,Xe,null,Z.mode);return yt.lanes=he,yt.return=Z,yt}finally{}}}var Pl=SS(!0),TS=SS(!1),mi=se(null),Hi=null;function us(i){var s=i.alternate;fe(kn,kn.current&1),fe(mi,i),Hi===null&&(s===null||Dl.current!==null||s.memoizedState!==null)&&(Hi=i)}function RS(i){if(i.tag===22){if(fe(kn,kn.current),fe(mi,i),Hi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Hi=i)}}else cs()}function cs(){fe(kn,kn.current),fe(mi,mi.current)}function Sa(i){Te(mi),Hi===i&&(Hi=null),Te(kn)}var kn=se(0);function ph(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qy(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ny(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ry={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=Qr(),p=ss(c);p.payload=s,l!=null&&(p.callback=l),s=os(i,p,c),s!==null&&(Wr(s,i,c),Ac(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=Qr(),p=ss(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=os(i,p,c),s!==null&&(Wr(s,i,c),Ac(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Qr(),c=ss(l);c.tag=2,s!=null&&(c.callback=s),s=os(i,c,l),s!==null&&(Wr(s,i,l),Ac(s,i,l))}};function AS(i,s,l,c,p,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,C):s.prototype&&s.prototype.isPureReactComponent?!gc(l,c)||!gc(p,y):!0}function CS(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&ry.enqueueReplaceState(s,s.state,null)}function Fo(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var gh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xS(i){gh(i)}function IS(i){console.error(i)}function DS(i){gh(i)}function yh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function NS(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function iy(i,s,l){return l=ss(l),l.tag=3,l.payload={element:null},l.callback=function(){yh(i,s)},l}function OS(i){return i=ss(i),i.tag=3,i}function MS(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;i.payload=function(){return p(y)},i.callback=function(){NS(s,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){NS(s,l,c),typeof p!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})})}function u2(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&wc(s,l,p,!0),l=mi.current,l!==null){switch(l.tag){case 13:return Hi===null?xy():l.alternate===null&&fn===0&&(fn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Mg?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Dy(i,c,p)),!1;case 22:return l.flags|=65536,c===Mg?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Dy(i,c,p)),!1}throw Error(r(435,l.tag))}return Dy(i,c,p),xy(),!1}if(Ot)return s=mi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Ag&&(i=Error(r(422),{cause:c}),Ec(ci(i,l)))):(c!==Ag&&(s=Error(r(423),{cause:c}),Ec(ci(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=ci(c,l),p=iy(i.stateNode,c,p),Lg(i,p),fn!==4&&(fn=2)),!1;var y=Error(r(520),{cause:c});if(y=ci(y,l),Bc===null?Bc=[y]:Bc.push(y),fn!==4&&(fn=2),s===null)return!0;c=ci(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=iy(l.stateNode,c,i),Lg(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gs===null||!gs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=OS(p),MS(p,i,l,c),Lg(l,p),!1}l=l.return}while(l!==null);return!1}var kS=Error(r(461)),Bn=!1;function Wn(i,s,l,c){s.child=i===null?TS(s,null,l,c):Pl(s,i.child,l,c)}function PS(i,s,l,c,p){l=l.render;var y=s.ref;if("ref"in c){var C={};for(var L in c)L!=="ref"&&(C[L]=c[L])}else C=c;return Vo(s),c=Bg(i,s,l,C,y,p),L=zg(),i!==null&&!Bn?(Hg(i,s,p),Ta(i,s,p)):(Ot&&L&&Tg(s),s.flags|=1,Wn(i,s,c,p),s.child)}function LS(i,s,l,c,p){if(i===null){var y=l.type;return typeof y=="function"&&!wg(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,VS(i,s,y,c,p)):(i=Wf(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!fy(i,p)){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:gc,l(C,c)&&i.ref===s.ref)return Ta(i,s,p)}return s.flags|=1,i=ya(y,c),i.ref=s.ref,i.return=s,s.child=i}function VS(i,s,l,c,p){if(i!==null){var y=i.memoizedProps;if(gc(y,c)&&i.ref===s.ref)if(Bn=!1,s.pendingProps=c=y,fy(i,p))(i.flags&131072)!==0&&(Bn=!0);else return s.lanes=i.lanes,Ta(i,s,p)}return ay(i,s,l,c,p)}function jS(i,s,l){var c=s.pendingProps,p=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return US(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&th(s,y!==null?y.cachePool:null),y!==null?Vb(s,y):jg(),RS(s);else return s.lanes=s.childLanes=536870912,US(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(th(s,y.cachePool),Vb(s,y),cs(),s.memoizedState=null):(i!==null&&th(s,null),jg(),cs());return Wn(i,s,p,l),s.child}function US(i,s,l,c){var p=Og();return p=p===null?null:{parent:Mn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&th(s,null),jg(),RS(s),i!==null&&wc(i,s,c,!0),null}function vh(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function ay(i,s,l,c,p){return Vo(s),l=Bg(i,s,l,c,void 0,p),c=zg(),i!==null&&!Bn?(Hg(i,s,p),Ta(i,s,p)):(Ot&&c&&Tg(s),s.flags|=1,Wn(i,s,l,p),s.child)}function FS(i,s,l,c,p,y){return Vo(s),s.updateQueue=null,l=Ub(s,c,l,p),jb(i),c=zg(),i!==null&&!Bn?(Hg(i,s,y),Ta(i,s,y)):(Ot&&c&&Tg(s),s.flags|=1,Wn(i,s,l,y),s.child)}function BS(i,s,l,c,p){if(Vo(s),s.stateNode===null){var y=Rl,C=l.contextType;typeof C=="object"&&C!==null&&(y=ar(C)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ry,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},kg(s),C=l.contextType,y.context=typeof C=="object"&&C!==null?ar(C):Rl,y.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(ny(s,l,C,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&ry.enqueueReplaceState(y,y.state,null),xc(s,c,y,p),Cc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var L=s.memoizedProps,G=Fo(l,L);y.props=G;var re=y.context,de=l.contextType;C=Rl,typeof de=="object"&&de!==null&&(C=ar(de));var _e=l.getDerivedStateFromProps;de=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||re!==C)&&CS(s,y,c,C),as=!1;var ie=s.memoizedState;y.state=ie,xc(s,c,y,p),Cc(),re=s.memoizedState,L||ie!==re||as?(typeof _e=="function"&&(ny(s,l,_e,c),re=s.memoizedState),(G=as||AS(s,l,G,c,ie,re,C))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=C,c=G):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Pg(i,s),C=s.memoizedProps,de=Fo(l,C),y.props=de,_e=s.pendingProps,ie=y.context,re=l.contextType,G=Rl,typeof re=="object"&&re!==null&&(G=ar(re)),L=l.getDerivedStateFromProps,(re=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==_e||ie!==G)&&CS(s,y,c,G),as=!1,ie=s.memoizedState,y.state=ie,xc(s,c,y,p),Cc();var ae=s.memoizedState;C!==_e||ie!==ae||as||i!==null&&i.dependencies!==null&&Zf(i.dependencies)?(typeof L=="function"&&(ny(s,l,L,c),ae=s.memoizedState),(de=as||AS(s,l,de,c,ie,ae,G)||i!==null&&i.dependencies!==null&&Zf(i.dependencies))?(re||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ae,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ae,G)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),y.props=c,y.state=ae,y.context=G,c=de):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,vh(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=Pl(s,i.child,null,p),s.child=Pl(s,null,l,p)):Wn(i,s,l,p),s.memoizedState=y.state,i=s.child):i=Ta(i,s,p),i}function zS(i,s,l,c){return _c(),s.flags|=256,Wn(i,s,l,c),s.child}var sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(i){return{baseLanes:i,cachePool:Ib()}}function ly(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=pi),i}function HS(i,s,l){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(kn.current&2)!==0),C&&(p=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ot){if(p?us(s):cs(),Ot){var L=dn,G;if(G=L){e:{for(G=L,L=zi;G.nodeType!==8;){if(!L){L=null;break e}if(G=Di(G.nextSibling),G===null){L=null;break e}}L=G}L!==null?(s.memoizedState={dehydrated:L,treeContext:Oo!==null?{id:va,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},G=qr(18,null,null,0),G.stateNode=L,G.return=s,s.child=G,br=s,dn=null,G=!0):G=!1}G||Po(s)}if(L=s.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return qy(L)?s.lanes=32:s.lanes=536870912,null;Sa(s)}return L=c.children,c=c.fallback,p?(cs(),p=s.mode,L=_h({mode:"hidden",children:L},p),c=No(c,p,l,null),L.return=s,c.return=s,L.sibling=c,s.child=L,p=s.child,p.memoizedState=oy(l),p.childLanes=ly(i,C,l),s.memoizedState=sy,c):(us(s),uy(s,L))}if(G=i.memoizedState,G!==null&&(L=G.dehydrated,L!==null)){if(y)s.flags&256?(us(s),s.flags&=-257,s=cy(i,s,l)):s.memoizedState!==null?(cs(),s.child=i.child,s.flags|=128,s=null):(cs(),p=c.fallback,L=s.mode,c=_h({mode:"visible",children:c.children},L),p=No(p,L,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Pl(s,i.child,null,l),c=s.child,c.memoizedState=oy(l),c.childLanes=ly(i,C,l),s.memoizedState=sy,s=p);else if(us(s),qy(L)){if(C=L.nextSibling&&L.nextSibling.dataset,C)var re=C.dgst;C=re,c=Error(r(419)),c.stack="",c.digest=C,Ec({value:c,source:null,stack:null}),s=cy(i,s,l)}else if(Bn||wc(i,s,l,!1),C=(l&i.childLanes)!==0,Bn||C){if(C=Qt,C!==null&&(c=l&-l,c=(c&42)!==0?1:mo(c),c=(c&(C.suspendedLanes|l))!==0?0:c,c!==0&&c!==G.retryLane))throw G.retryLane=c,Tl(i,c),Wr(C,i,c),kS;L.data==="$?"||xy(),s=cy(i,s,l)}else L.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=G.treeContext,dn=Di(L.nextSibling),br=s,Ot=!0,ko=null,zi=!1,i!==null&&(fi[hi++]=va,fi[hi++]=_a,fi[hi++]=Oo,va=i.id,_a=i.overflow,Oo=s),s=uy(s,c.children),s.flags|=4096);return s}return p?(cs(),p=c.fallback,L=s.mode,G=i.child,re=G.sibling,c=ya(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,re!==null?p=ya(re,p):(p=No(p,L,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,L=i.child.memoizedState,L===null?L=oy(l):(G=L.cachePool,G!==null?(re=Mn._currentValue,G=G.parent!==re?{parent:re,pool:re}:G):G=Ib(),L={baseLanes:L.baseLanes|l,cachePool:G}),p.memoizedState=L,p.childLanes=ly(i,C,l),s.memoizedState=sy,c):(us(s),l=i.child,i=l.sibling,l=ya(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=l,s.memoizedState=null,l)}function uy(i,s){return s=_h({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function _h(i,s){return i=qr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function cy(i,s,l){return Pl(s,i.child,null,l),i=uy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $S(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),xg(i.return,s,l)}function dy(i,s,l,c,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function qS(i,s,l){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(Wn(i,s,c.children,l),c=kn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$S(i,l,s);else if(i.tag===19)$S(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(fe(kn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&ph(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),dy(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&ph(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}dy(s,!0,l,null,y);break;case"together":dy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ta(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ps|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(wc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ya(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ya(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function fy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Zf(i)))}function c2(i,s,l){switch(s.tag){case 3:st(s,s.stateNode.containerInfo),is(s,Mn,i.memoizedState.cache),_c();break;case 27:case 5:ft(s);break;case 4:st(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(us(s),s.flags|=128,null):(l&s.child.childLanes)!==0?HS(i,s,l):(us(s),i=Ta(i,s,l),i!==null?i.sibling:null);us(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(wc(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return qS(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),fe(kn,kn.current),c)break;return null;case 22:case 23:return s.lanes=0,jS(i,s,l);case 24:is(s,Mn,i.memoizedState.cache)}return Ta(i,s,l)}function GS(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Bn=!0;else{if(!fy(i,l)&&(s.flags&128)===0)return Bn=!1,c2(i,s,l);Bn=(i.flags&131072)!==0}else Bn=!1,Ot&&(s.flags&1048576)!==0&&bb(s,Jf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")wg(c)?(i=Fo(c,i),s.tag=1,s=BS(null,s,c,i,l)):(s.tag=0,s=ay(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===j){s.tag=11,s=PS(null,s,c,i,l);break e}else if(p===P){s.tag=14,s=LS(null,s,c,i,l);break e}}throw s=J(c)||c,Error(r(306,s,""))}}return s;case 0:return ay(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Fo(c,s.pendingProps),BS(i,s,c,p,l);case 3:e:{if(st(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,Pg(i,s),xc(s,c,null,l);var C=s.memoizedState;if(c=C.cache,is(s,Mn,c),c!==y.cache&&Ig(s,[Mn],l,!0),Cc(),c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=zS(i,s,c,l);break e}else if(c!==p){p=ci(Error(r(424)),s),Ec(p),s=zS(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dn=Di(i.firstChild),br=s,Ot=!0,ko=null,zi=!0,l=TS(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_c(),c===p){s=Ta(i,s,l);break e}Wn(i,s,c,l)}s=s.child}return s;case 26:return vh(i,s),i===null?(l=W0(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ot||(l=s.type,i=s.pendingProps,c=Mh(Oe.current).createElement(l),c[ve]=s,c[Ce]=i,Jn(c,l,i),lt(c),s.stateNode=c):s.memoizedState=W0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ft(s),i===null&&Ot&&(c=s.stateNode=K0(s.type,s.pendingProps,Oe.current),br=s,zi=!0,p=dn,_s(s.type)?(Gy=p,dn=Di(c.firstChild)):dn=p),Wn(i,s,s.pendingProps.children,l),vh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ot&&((p=c=dn)&&(c=j2(c,s.type,s.pendingProps,zi),c!==null?(s.stateNode=c,br=s,dn=Di(c.firstChild),zi=!1,p=!0):p=!1),p||Po(s)),ft(s),p=s.type,y=s.pendingProps,C=i!==null?i.memoizedProps:null,c=y.children,zy(p,y)?c=null:C!==null&&zy(p,C)&&(s.flags|=32),s.memoizedState!==null&&(p=Bg(i,s,n2,null,null,l),Wc._currentValue=p),vh(i,s),Wn(i,s,c,l),s.child;case 6:return i===null&&Ot&&((i=l=dn)&&(l=U2(l,s.pendingProps,zi),l!==null?(s.stateNode=l,br=s,dn=null,i=!0):i=!1),i||Po(s)),null;case 13:return HS(i,s,l);case 4:return st(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Pl(s,null,c,l):Wn(i,s,c,l),s.child;case 11:return PS(i,s,s.type,s.pendingProps,l);case 7:return Wn(i,s,s.pendingProps,l),s.child;case 8:return Wn(i,s,s.pendingProps.children,l),s.child;case 12:return Wn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,is(s,s.type,c.value),Wn(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Vo(s),p=ar(p),c=c(p),s.flags|=1,Wn(i,s,c,l),s.child;case 14:return LS(i,s,s.type,s.pendingProps,l);case 15:return VS(i,s,s.type,s.pendingProps,l);case 19:return qS(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=_h(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ya(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return jS(i,s,l);case 24:return Vo(s),c=ar(Mn),i===null?(p=Og(),p===null&&(p=Qt,y=Dg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:c,cache:p},kg(s),is(s,Mn,p)):((i.lanes&l)!==0&&(Pg(i,s),xc(s,null,null,l),Cc()),p=i.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),is(s,Mn,c)):(c=y.cache,is(s,Mn,c),c!==p.cache&&Ig(s,[Mn],l,!0))),Wn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ra(i){i.flags|=4}function KS(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tT(s)){if(s=mi.current,s!==null&&((Tt&4194048)===Tt?Hi!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||s!==Hi))throw Rc=Mg,Db;i.flags|=8192}}function Eh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ui():536870912,i.lanes|=s,Ul|=s)}function Pc(i,s){if(!Ot)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function d2(i,s,l){var c=s.pendingProps;switch(Rg(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return sn(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wa(Mn),Mt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vc(s)?Ra(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rb())),sn(s),null;case 26:return l=s.memoizedState,i===null?(Ra(s),l!==null?(sn(s),KS(s,l)):(sn(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Ra(s),sn(s),KS(s,l)):(sn(s),s.flags&=-16777217):(i.memoizedProps!==c&&Ra(s),sn(s),s.flags&=-16777217),null;case 27:Ct(s),l=Oe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ra(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return sn(s),null}i=Re.current,vc(s)?Sb(s):(i=K0(p,c,l),s.stateNode=i,Ra(s))}return sn(s),null;case 5:if(Ct(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ra(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return sn(s),null}if(i=Re.current,vc(s))Sb(s);else{switch(p=Mh(Oe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[ve]=s,i[Ce]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Jn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ra(s)}}return sn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ra(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Oe.current,vc(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=br,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[ve]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||F0(i.nodeValue,l)),i||Po(s)}else i=Mh(i).createTextNode(c),i[ve]=s,s.stateNode=i}return sn(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vc(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ve]=s}else _c(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sn(s),p=!1}else p=Rb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Sa(s),s):(Sa(s),null)}if(Sa(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Eh(s,s.updateQueue),sn(s),null;case 4:return Mt(),i===null&&Vy(s.stateNode.containerInfo),sn(s),null;case 10:return wa(s.type),sn(s),null;case 19:if(Te(kn),p=s.memoizedState,p===null)return sn(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)Pc(p,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=ph(i),y!==null){for(s.flags|=128,Pc(p,!1),i=y.updateQueue,s.updateQueue=i,Eh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)wb(l,i),l=l.sibling;return fe(kn,kn.current&1|2),s.child}i=i.sibling}p.tail!==null&&Nt()>Sh&&(s.flags|=128,c=!0,Pc(p,!1),s.lanes=4194304)}else{if(!c)if(i=ph(y),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Eh(s,i),Pc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ot)return sn(s),null}else 2*Nt()-p.renderingStartTime>Sh&&l!==536870912&&(s.flags|=128,c=!0,Pc(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Nt(),s.sibling=null,i=kn.current,fe(kn,c?i&1|2:i&1),s):(sn(s),null);case 22:case 23:return Sa(s),Ug(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),l=s.updateQueue,l!==null&&Eh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&Te(jo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),wa(Mn),sn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function f2(i,s){switch(Rg(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wa(Mn),Mt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ct(s),null;case 13:if(Sa(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_c()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Te(kn),null;case 4:return Mt(),null;case 10:return wa(s.type),null;case 22:case 23:return Sa(s),Ug(),i!==null&&Te(jo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wa(Mn),null;case 25:return null;default:return null}}function YS(i,s){switch(Rg(s),s.tag){case 3:wa(Mn),Mt();break;case 26:case 27:case 5:Ct(s);break;case 4:Mt();break;case 13:Sa(s);break;case 19:Te(kn);break;case 10:wa(s.type);break;case 22:case 23:Sa(s),Ug(),i!==null&&Te(jo);break;case 24:wa(Mn)}}function Lc(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var y=l.create,C=l.inst;c=y(),C.destroy=c}l=l.next}while(l!==p)}}catch(L){$t(s,s.return,L)}}function ds(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&i)===i){var C=c.inst,L=C.destroy;if(L!==void 0){C.destroy=void 0,p=s;var G=l,re=L;try{re()}catch(de){$t(p,G,de)}}}c=c.next}while(c!==y)}}catch(de){$t(s,s.return,de)}}function QS(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Lb(s,l)}catch(c){$t(i,i.return,c)}}}function WS(i,s,l){l.props=Fo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){$t(i,s,c)}}function Vc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){$t(i,s,p)}}function $i(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){$t(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){$t(i,s,p)}else l.current=null}function XS(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){$t(i,i.return,p)}}function hy(i,s,l){try{var c=i.stateNode;M2(c,i.type,l,s),c[Ce]=s}catch(p){$t(i,i.return,p)}}function JS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_s(i.type)||i.tag===4}function my(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||JS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_s(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function py(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Oh));else if(c!==4&&(c===27&&_s(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(py(i,s,l),i=i.sibling;i!==null;)py(i,s,l),i=i.sibling}function wh(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&_s(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(wh(i,s,l),i=i.sibling;i!==null;)wh(i,s,l),i=i.sibling}function ZS(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Jn(s,c,l),s[ve]=i,s[Ce]=l}catch(y){$t(i,i.return,y)}}var Aa=!1,gn=!1,gy=!1,e0=typeof WeakSet=="function"?WeakSet:Set,zn=null;function h2(i,s){if(i=i.containerInfo,Fy=Uh,i=db(i),mg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,L=-1,G=-1,re=0,de=0,_e=i,ie=null;t:for(;;){for(var ae;_e!==l||p!==0&&_e.nodeType!==3||(L=C+p),_e!==y||c!==0&&_e.nodeType!==3||(G=C+c),_e.nodeType===3&&(C+=_e.nodeValue.length),(ae=_e.firstChild)!==null;)ie=_e,_e=ae;for(;;){if(_e===i)break t;if(ie===l&&++re===p&&(L=C),ie===y&&++de===c&&(G=C),(ae=_e.nextSibling)!==null)break;_e=ie,ie=_e.parentNode}_e=ae}l=L===-1||G===-1?null:{start:L,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(By={focusedElem:i,selectionRange:l},Uh=!1,zn=s;zn!==null;)if(s=zn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,zn=i;else for(;zn!==null;){switch(s=zn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var at=Fo(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(at,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(et){$t(l,l.return,et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)$y(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$y(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,zn=i;break}zn=s.return}}function t0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:fs(i,l),c&4&&Lc(5,l);break;case 1:if(fs(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(C){$t(l,l.return,C)}else{var p=Fo(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){$t(l,l.return,C)}}c&64&&QS(l),c&512&&Vc(l,l.return);break;case 3:if(fs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Lb(i,s)}catch(C){$t(l,l.return,C)}}break;case 27:s===null&&c&4&&ZS(l);case 26:case 5:fs(i,l),s===null&&c&4&&XS(l),c&512&&Vc(l,l.return);break;case 12:fs(i,l);break;case 13:fs(i,l),c&4&&i0(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=b2.bind(null,l),F2(i,l))));break;case 22:if(c=l.memoizedState!==null||Aa,!c){s=s!==null&&s.memoizedState!==null||gn,p=Aa;var y=gn;Aa=c,(gn=s)&&!y?hs(i,l,(l.subtreeFlags&8772)!==0):fs(i,l),Aa=p,gn=y}break;case 30:break;default:fs(i,l)}}function n0(i){var s=i.alternate;s!==null&&(i.alternate=null,n0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&He(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nn=null,Ir=!1;function Ca(i,s,l){for(l=l.child;l!==null;)r0(i,s,l),l=l.sibling}function r0(i,s,l){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Se,l)}catch{}switch(l.tag){case 26:gn||$i(l,s),Ca(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gn||$i(l,s);var c=nn,p=Ir;_s(l.type)&&(nn=l.stateNode,Ir=!1),Ca(i,s,l),Gc(l.stateNode),nn=c,Ir=p;break;case 5:gn||$i(l,s);case 6:if(c=nn,p=Ir,nn=null,Ca(i,s,l),nn=c,Ir=p,nn!==null)if(Ir)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(l.stateNode)}catch(y){$t(l,s,y)}else try{nn.removeChild(l.stateNode)}catch(y){$t(l,s,y)}break;case 18:nn!==null&&(Ir?(i=nn,q0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ed(i)):q0(nn,l.stateNode));break;case 4:c=nn,p=Ir,nn=l.stateNode.containerInfo,Ir=!0,Ca(i,s,l),nn=c,Ir=p;break;case 0:case 11:case 14:case 15:gn||ds(2,l,s),gn||ds(4,l,s),Ca(i,s,l);break;case 1:gn||($i(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&WS(l,s,c)),Ca(i,s,l);break;case 21:Ca(i,s,l);break;case 22:gn=(c=gn)||l.memoizedState!==null,Ca(i,s,l),gn=c;break;default:Ca(i,s,l)}}function i0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ed(i)}catch(l){$t(s,s.return,l)}}function m2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new e0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new e0),s;default:throw Error(r(435,i.tag))}}function yy(i,s){var l=m2(i);s.forEach(function(c){var p=S2.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Gr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=i,C=s,L=C;e:for(;L!==null;){switch(L.tag){case 27:if(_s(L.type)){nn=L.stateNode,Ir=!1;break e}break;case 5:nn=L.stateNode,Ir=!1;break e;case 3:case 4:nn=L.stateNode.containerInfo,Ir=!0;break e}L=L.return}if(nn===null)throw Error(r(160));r0(y,C,p),nn=null,Ir=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)a0(s,i),s=s.sibling}var Ii=null;function a0(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gr(s,i),Kr(i),c&4&&(ds(3,i,i.return),Lc(3,i),ds(5,i,i.return));break;case 1:Gr(s,i),Kr(i),c&512&&(gn||l===null||$i(l,l.return)),c&64&&Aa&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ii;if(Gr(s,i),Kr(i),c&512&&(gn||l===null||$i(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Fe]||y[ve]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Jn(y,c,l),y[ve]=i,lt(y),c=y;break e;case"link":var C=Z0("link","href",p).get(c+(l.href||""));if(C){for(var L=0;L<C.length;L++)if(y=C[L],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(L,1);break t}}y=p.createElement(c),Jn(y,c,l),p.head.appendChild(y);break;case"meta":if(C=Z0("meta","content",p).get(c+(l.content||""))){for(L=0;L<C.length;L++)if(y=C[L],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(L,1);break t}}y=p.createElement(c),Jn(y,c,l),p.head.appendChild(y);break;default:throw Error(r(468,c))}y[ve]=i,lt(y),c=y}i.stateNode=c}else eT(p,i.type,i.stateNode);else i.stateNode=J0(p,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?eT(p,i.type,i.stateNode):J0(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&hy(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gr(s,i),Kr(i),c&512&&(gn||l===null||$i(l,l.return)),l!==null&&c&4&&hy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gr(s,i),Kr(i),c&512&&(gn||l===null||$i(l,l.return)),i.flags&32){p=i.stateNode;try{li(p,"")}catch(ae){$t(i,i.return,ae)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,hy(i,p,l!==null?l.memoizedProps:p)),c&1024&&(gy=!0);break;case 6:if(Gr(s,i),Kr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ae){$t(i,i.return,ae)}}break;case 3:if(Lh=null,p=Ii,Ii=kh(s.containerInfo),Gr(s,i),Ii=p,Kr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ed(s.containerInfo)}catch(ae){$t(i,i.return,ae)}gy&&(gy=!1,s0(i));break;case 4:c=Ii,Ii=kh(i.stateNode.containerInfo),Gr(s,i),Kr(i),Ii=c;break;case 12:Gr(s,i),Kr(i);break;case 13:Gr(s,i),Kr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sy=Nt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,yy(i,c)));break;case 22:p=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,re=Aa,de=gn;if(Aa=re||p,gn=de||G,Gr(s,i),gn=de,Aa=re,Kr(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||G||Aa||gn||Bo(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){G=l=s;try{if(y=G.stateNode,p)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{L=G.stateNode;var _e=G.memoizedProps.style,ie=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;L.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ae){$t(G,G.return,ae)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=p?"":G.memoizedProps}catch(ae){$t(G,G.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,yy(i,l))));break;case 19:Gr(s,i),Kr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,yy(i,c)));break;case 30:break;case 21:break;default:Gr(s,i),Kr(i)}}function Kr(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(JS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=my(i);wh(i,y,p);break;case 5:var C=l.stateNode;l.flags&32&&(li(C,""),l.flags&=-33);var L=my(i);wh(i,L,C);break;case 3:case 4:var G=l.stateNode.containerInfo,re=my(i);py(i,re,G);break;default:throw Error(r(161))}}catch(de){$t(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function s0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;s0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function fs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t0(i,s.alternate,s),s=s.sibling}function Bo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ds(4,s,s.return),Bo(s);break;case 1:$i(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&WS(s,s.return,l),Bo(s);break;case 27:Gc(s.stateNode);case 26:case 5:$i(s,s.return),Bo(s);break;case 22:s.memoizedState===null&&Bo(s);break;case 30:Bo(s);break;default:Bo(s)}i=i.sibling}}function hs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,y=s,C=y.flags;switch(y.tag){case 0:case 11:case 15:hs(p,y,l),Lc(4,y);break;case 1:if(hs(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(re){$t(c,c.return,re)}if(c=y,p=c.updateQueue,p!==null){var L=c.stateNode;try{var G=p.shared.hiddenCallbacks;if(G!==null)for(p.shared.hiddenCallbacks=null,p=0;p<G.length;p++)Pb(G[p],L)}catch(re){$t(c,c.return,re)}}l&&C&64&&QS(y),Vc(y,y.return);break;case 27:ZS(y);case 26:case 5:hs(p,y,l),l&&c===null&&C&4&&XS(y),Vc(y,y.return);break;case 12:hs(p,y,l);break;case 13:hs(p,y,l),l&&C&4&&i0(p,y);break;case 22:y.memoizedState===null&&hs(p,y,l),Vc(y,y.return);break;case 30:break;default:hs(p,y,l)}s=s.sibling}}function vy(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bc(l))}function _y(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i))}function qi(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o0(i,s,l,c),s=s.sibling}function o0(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:qi(i,s,l,c),p&2048&&Lc(9,s);break;case 1:qi(i,s,l,c);break;case 3:qi(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i)));break;case 12:if(p&2048){qi(i,s,l,c),i=s.stateNode;try{var y=s.memoizedProps,C=y.id,L=y.onPostCommit;typeof L=="function"&&L(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){$t(s,s.return,G)}}else qi(i,s,l,c);break;case 13:qi(i,s,l,c);break;case 23:break;case 22:y=s.stateNode,C=s.alternate,s.memoizedState!==null?y._visibility&2?qi(i,s,l,c):jc(i,s):y._visibility&2?qi(i,s,l,c):(y._visibility|=2,Ll(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&vy(C,s);break;case 24:qi(i,s,l,c),p&2048&&_y(s.alternate,s);break;default:qi(i,s,l,c)}}function Ll(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,C=s,L=l,G=c,re=C.flags;switch(C.tag){case 0:case 11:case 15:Ll(y,C,L,G,p),Lc(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?Ll(y,C,L,G,p):jc(y,C):(de._visibility|=2,Ll(y,C,L,G,p)),p&&re&2048&&vy(C.alternate,C);break;case 24:Ll(y,C,L,G,p),p&&re&2048&&_y(C.alternate,C);break;default:Ll(y,C,L,G,p)}s=s.sibling}}function jc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:jc(l,c),p&2048&&vy(c.alternate,c);break;case 24:jc(l,c),p&2048&&_y(c.alternate,c);break;default:jc(l,c)}s=s.sibling}}var Uc=8192;function Vl(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)l0(i),i=i.sibling}function l0(i){switch(i.tag){case 26:Vl(i),i.flags&Uc&&i.memoizedState!==null&&Z2(Ii,i.memoizedState,i.memoizedProps);break;case 5:Vl(i);break;case 3:case 4:var s=Ii;Ii=kh(i.stateNode.containerInfo),Vl(i),Ii=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uc,Uc=16777216,Vl(i),Uc=s):Vl(i));break;default:Vl(i)}}function u0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];zn=c,d0(c,i)}u0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c0(i),i=i.sibling}function c0(i){switch(i.tag){case 0:case 11:case 15:Fc(i),i.flags&2048&&ds(9,i,i.return);break;case 3:Fc(i);break;case 12:Fc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,bh(i)):Fc(i);break;default:Fc(i)}}function bh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];zn=c,d0(c,i)}u0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ds(8,s,s.return),bh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,bh(s));break;default:bh(s)}i=i.sibling}}function d0(i,s){for(;zn!==null;){var l=zn;switch(l.tag){case 0:case 11:case 15:ds(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,zn=c;else e:for(l=i;zn!==null;){c=zn;var p=c.sibling,y=c.return;if(n0(c),c===l){zn=null;break e}if(p!==null){p.return=y,zn=p;break e}zn=y}}}var p2={getCacheForType:function(i){var s=ar(Mn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},g2=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Qt=null,vt=null,Tt=0,Vt=0,Yr=null,ms=!1,jl=!1,Ey=!1,xa=0,fn=0,ps=0,zo=0,wy=0,pi=0,Ul=0,Bc=null,Dr=null,by=!1,Sy=0,Sh=1/0,Th=null,gs=null,Xn=0,ys=null,Fl=null,Bl=0,Ty=0,Ry=null,f0=null,zc=0,Ay=null;function Qr(){if((Lt&2)!==0&&Tt!==0)return Tt&-Tt;if(K.T!==null){var i=xl;return i!==0?i:My()}return Y()}function h0(){pi===0&&(pi=(Tt&536870912)===0||Ot?da():536870912);var i=mi.current;return i!==null&&(i.flags|=32),pi}function Wr(i,s,l){(i===Qt&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)&&(zl(i,0),vs(i,Tt,pi,!1)),rn(i,l),((Lt&2)===0||i!==Qt)&&(i===Qt&&((Lt&2)===0&&(zo|=l),fn===4&&vs(i,Tt,pi,!1)),Gi(i))}function m0(i,s,l){if((Lt&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||yr(i,s),p=c?_2(i,s):Iy(i,s,!0),y=c;do{if(p===0){jl&&!c&&vs(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!y2(l)){p=Iy(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var L=i;p=Bc;var G=L.current.memoizedState.isDehydrated;if(G&&(zl(L,C).flags|=256),C=Iy(L,C,!1),C!==2){if(Ey&&!G){L.errorRecoveryDisabledLanes|=y,zo|=y,p=4;break e}y=Dr,Dr=p,y!==null&&(Dr===null?Dr=y:Dr.push.apply(Dr,y))}p=C}if(y=!1,p!==2)continue}}if(p===1){zl(i,0),vs(i,s,0,!0);break}e:{switch(c=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vs(c,s,pi,!ms);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Sy+300-Nt(),10<p)){if(vs(c,s,pi,!ms),jn(c,0,!0)!==0)break e;c.timeoutHandle=H0(p0.bind(null,c,l,Dr,Th,by,s,pi,zo,Ul,ms,y,2,-0,0),p);break e}p0(c,l,Dr,Th,by,s,pi,zo,Ul,ms,y,0,-0,0)}}break}while(!0);Gi(i)}function p0(i,s,l,c,p,y,C,L,G,re,de,_e,ie,ae){if(i.timeoutHandle=-1,_e=s.subtreeFlags,(_e&8192||(_e&16785408)===16785408)&&(Qc={stylesheets:null,count:0,unsuspend:J2},l0(s),_e=ek(),_e!==null)){i.cancelPendingCommit=_e(b0.bind(null,i,s,y,l,c,p,C,L,G,de,1,ie,ae)),vs(i,y,C,!re);return}b0(i,s,y,l,c,p,C,L,G)}function y2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!$r(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(i,s,l,c){s&=~wy,s&=~zo,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var y=31-xt(p),C=1<<y;c[y]=-1,p&=~C}l!==0&&Ur(i,l,s)}function Rh(){return(Lt&6)===0?(Hc(0),!1):!0}function Cy(){if(vt!==null){if(Vt===0)var i=vt.return;else i=vt,Ea=Lo=null,$g(i),kl=null,Mc=0,i=vt;for(;i!==null;)YS(i.alternate,i),i=i.return;vt=null}}function zl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,P2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Cy(),Qt=i,vt=l=ya(i.current,null),Tt=s,Vt=0,Yr=null,ms=!1,jl=yr(i,s),Ey=!1,Ul=pi=wy=zo=ps=fn=0,Dr=Bc=null,by=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-xt(c),y=1<<p;s|=i[p],c&=~y}return xa=s,Kf(),l}function g0(i,s){mt=null,K.H=fh,s===Tc||s===nh?(s=Mb(),Vt=3):s===Db?(s=Mb(),Vt=4):Vt=s===kS?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yr=s,vt===null&&(fn=1,yh(i,ci(s,i.current)))}function y0(){var i=K.H;return K.H=fh,i===null?fh:i}function v0(){var i=K.A;return K.A=p2,i}function xy(){fn=4,ms||(Tt&4194048)!==Tt&&mi.current!==null||(jl=!0),(ps&134217727)===0&&(zo&134217727)===0||Qt===null||vs(Qt,Tt,pi,!1)}function Iy(i,s,l){var c=Lt;Lt|=2;var p=y0(),y=v0();(Qt!==i||Tt!==s)&&(Th=null,zl(i,s)),s=!1;var C=fn;e:do try{if(Vt!==0&&vt!==null){var L=vt,G=Yr;switch(Vt){case 8:Cy(),C=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(s=!0);var re=Vt;if(Vt=0,Yr=null,Hl(i,L,G,re),l&&jl){C=0;break e}break;default:re=Vt,Vt=0,Yr=null,Hl(i,L,G,re)}}v2(),C=fn;break}catch(de){g0(i,de)}while(!0);return s&&i.shellSuspendCounter++,Ea=Lo=null,Lt=c,K.H=p,K.A=y,vt===null&&(Qt=null,Tt=0,Kf()),C}function v2(){for(;vt!==null;)_0(vt)}function _2(i,s){var l=Lt;Lt|=2;var c=y0(),p=v0();Qt!==i||Tt!==s?(Th=null,Sh=Nt()+500,zl(i,s)):jl=yr(i,s);e:do try{if(Vt!==0&&vt!==null){s=vt;var y=Yr;t:switch(Vt){case 1:Vt=0,Yr=null,Hl(i,s,y,1);break;case 2:case 9:if(Nb(y)){Vt=0,Yr=null,E0(s);break}s=function(){Vt!==2&&Vt!==9||Qt!==i||(Vt=7),Gi(i)},y.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:Nb(y)?(Vt=0,Yr=null,E0(s)):(Vt=0,Yr=null,Hl(i,s,y,7));break;case 5:var C=null;switch(vt.tag){case 26:C=vt.memoizedState;case 5:case 27:var L=vt;if(!C||tT(C)){Vt=0,Yr=null;var G=L.sibling;if(G!==null)vt=G;else{var re=L.return;re!==null?(vt=re,Ah(re)):vt=null}break t}}Vt=0,Yr=null,Hl(i,s,y,5);break;case 6:Vt=0,Yr=null,Hl(i,s,y,6);break;case 8:Cy(),fn=6;break e;default:throw Error(r(462))}}E2();break}catch(de){g0(i,de)}while(!0);return Ea=Lo=null,K.H=c,K.A=p,Lt=l,vt!==null?0:(Qt=null,Tt=0,Kf(),fn)}function E2(){for(;vt!==null&&!gt();)_0(vt)}function _0(i){var s=GS(i.alternate,i,xa);i.memoizedProps=i.pendingProps,s===null?Ah(i):vt=s}function E0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=FS(l,s,s.pendingProps,s.type,void 0,Tt);break;case 11:s=FS(l,s,s.pendingProps,s.type.render,s.ref,Tt);break;case 5:$g(s);default:YS(l,s),s=vt=wb(s,xa),s=GS(l,s,xa)}i.memoizedProps=i.pendingProps,s===null?Ah(i):vt=s}function Hl(i,s,l,c){Ea=Lo=null,$g(s),kl=null,Mc=0;var p=s.return;try{if(u2(i,p,s,l,Tt)){fn=1,yh(i,ci(l,i.current)),vt=null;return}}catch(y){if(p!==null)throw vt=p,y;fn=1,yh(i,ci(l,i.current)),vt=null;return}s.flags&32768?(Ot||c===1?i=!0:jl||(Tt&536870912)!==0?i=!1:(ms=i=!0,(c===2||c===9||c===3||c===6)&&(c=mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),w0(s,i)):Ah(s)}function Ah(i){var s=i;do{if((s.flags&32768)!==0){w0(s,ms);return}i=s.return;var l=d2(s.alternate,s,xa);if(l!==null){vt=l;return}if(s=s.sibling,s!==null){vt=s;return}vt=s=i}while(s!==null);fn===0&&(fn=5)}function w0(i,s){do{var l=f2(i.alternate,i);if(l!==null){l.flags&=32767,vt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){vt=i;return}vt=i=l}while(i!==null);fn=6,vt=null}function b0(i,s,l,c,p,y,C,L,G){i.cancelPendingCommit=null;do Ch();while(Xn!==0);if((Lt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=_g,ho(i,l,y,C,L,G),i===Qt&&(vt=Qt=null,Tt=0),Fl=s,ys=i,Bl=l,Ty=y,Ry=p,f0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,T2(Q,function(){return C0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=ue.p,ue.p=2,C=Lt,Lt|=4;try{h2(i,s,l)}finally{Lt=C,ue.p=p,K.T=c}}Xn=1,S0(),T0(),R0()}}function S0(){if(Xn===1){Xn=0;var i=ys,s=Fl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=ue.p;ue.p=2;var p=Lt;Lt|=4;try{a0(s,i);var y=By,C=db(i.containerInfo),L=y.focusedElem,G=y.selectionRange;if(C!==L&&L&&L.ownerDocument&&cb(L.ownerDocument.documentElement,L)){if(G!==null&&mg(L)){var re=G.start,de=G.end;if(de===void 0&&(de=re),"selectionStart"in L)L.selectionStart=re,L.selectionEnd=Math.min(de,L.value.length);else{var _e=L.ownerDocument||document,ie=_e&&_e.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),at=L.textContent.length,et=Math.min(G.start,at),zt=G.end===void 0?et:Math.min(G.end,at);!ae.extend&&et>zt&&(C=zt,zt=et,et=C);var Z=ub(L,et),W=ub(L,zt);if(Z&&W&&(ae.rangeCount!==1||ae.anchorNode!==Z.node||ae.anchorOffset!==Z.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var te=_e.createRange();te.setStart(Z.node,Z.offset),ae.removeAllRanges(),et>zt?(ae.addRange(te),ae.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),ae.addRange(te))}}}}for(_e=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&_e.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<_e.length;L++){var he=_e[L];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Uh=!!Fy,By=Fy=null}finally{Lt=p,ue.p=c,K.T=l}}i.current=s,Xn=2}}function T0(){if(Xn===2){Xn=0;var i=ys,s=Fl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=ue.p;ue.p=2;var p=Lt;Lt|=4;try{t0(i,s.alternate,s)}finally{Lt=p,ue.p=c,K.T=l}}Xn=3}}function R0(){if(Xn===4||Xn===3){Xn=0,Dn();var i=ys,s=Fl,l=Bl,c=f0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xn=5:(Xn=0,Fl=ys=null,A0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(gs=null),po(l),s=s.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Se,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,p=ue.p,ue.p=2,K.T=null;try{for(var y=i.onRecoverableError,C=0;C<c.length;C++){var L=c[C];y(L.value,{componentStack:L.stack})}}finally{K.T=s,ue.p=p}}(Bl&3)!==0&&Ch(),Gi(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===Ay?zc++:(zc=0,Ay=i):zc=0,Hc(0)}}function A0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bc(s)))}function Ch(i){return S0(),T0(),R0(),C0()}function C0(){if(Xn!==5)return!1;var i=ys,s=Ty;Ty=0;var l=po(Bl),c=K.T,p=ue.p;try{ue.p=32>l?32:l,K.T=null,l=Ry,Ry=null;var y=ys,C=Bl;if(Xn=0,Fl=ys=null,Bl=0,(Lt&6)!==0)throw Error(r(331));var L=Lt;if(Lt|=4,c0(y.current),o0(y,y.current,C,l),Lt=L,Hc(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Se,y)}catch{}return!0}finally{ue.p=p,K.T=c,A0(i,s)}}function x0(i,s,l){s=ci(l,s),s=iy(i.stateNode,s,2),i=os(i,s,2),i!==null&&(rn(i,2),Gi(i))}function $t(i,s,l){if(i.tag===3)x0(i,i,l);else for(;s!==null;){if(s.tag===3){x0(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gs===null||!gs.has(c))){i=ci(l,i),l=OS(2),c=os(s,l,2),c!==null&&(MS(l,c,s,i),rn(c,2),Gi(c));break}}s=s.return}}function Dy(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new g2;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Ey=!0,p.add(l),i=w2.bind(null,i,s,l),s.then(i,i))}function w2(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Qt===i&&(Tt&l)===l&&(fn===4||fn===3&&(Tt&62914560)===Tt&&300>Nt()-Sy?(Lt&2)===0&&zl(i,0):wy|=l,Ul===Tt&&(Ul=0)),Gi(i)}function I0(i,s){s===0&&(s=Ui()),i=Tl(i,s),i!==null&&(rn(i,s),Gi(i))}function b2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),I0(i,l)}function S2(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),I0(i,l)}function T2(i,s){return un(i,s)}var xh=null,$l=null,Ny=!1,Ih=!1,Oy=!1,Ho=0;function Gi(i){i!==$l&&i.next===null&&($l===null?xh=$l=i:$l=$l.next=i),Ih=!0,Ny||(Ny=!0,A2())}function Hc(i,s){if(!Oy&&Ih){Oy=!0;do for(var l=!1,c=xh;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var C=c.suspendedLanes,L=c.pingedLanes;y=(1<<31-xt(42|i)+1)-1,y&=p&~(C&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,M0(c,y))}else y=Tt,y=jn(c,c===Qt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||yr(c,y)||(l=!0,M0(c,y));c=c.next}while(l);Oy=!1}}function R2(){D0()}function D0(){Ih=Ny=!1;var i=0;Ho!==0&&(k2()&&(i=Ho),Ho=0);for(var s=Nt(),l=null,c=xh;c!==null;){var p=c.next,y=N0(c,s);y===0?(c.next=null,l===null?xh=p:l.next=p,p===null&&($l=l)):(l=c,(i!==0||(y&3)!==0)&&(Ih=!0)),c=p}Hc(i)}function N0(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-xt(y),L=1<<C,G=p[C];G===-1?((L&l)===0||(L&c)!==0)&&(p[C]=ii(L,s)):G<=s&&(i.expiredLanes|=L),y&=~L}if(s=Qt,l=Tt,l=jn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||yr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Dt(c),po(l)){case 2:case 8:l=F;break;case 32:l=Q;break;case 268435456:l=we;break;default:l=Q}return c=O0.bind(null,i),l=un(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Dt(c),i.callbackPriority=2,i.callbackNode=null,2}function O0(i,s){if(Xn!==0&&Xn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ch()&&i.callbackNode!==l)return null;var c=Tt;return c=jn(i,i===Qt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(m0(i,c,s),N0(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?O0.bind(null,i):null)}function M0(i,s){if(Ch())return null;m0(i,s,!0)}function A2(){L2(function(){(Lt&6)!==0?un(ge,R2):D0()})}function My(){return Ho===0&&(Ho=da()),Ho}function k0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ti(""+i)}function P0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function C2(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var y=k0((p[Ce]||null).action),C=c.submitter;C&&(s=(s=C[Ce]||null)?k0(s.formAction):C.getAttribute("formAction"),s!==null&&(y=s,C=null));var L=new bo("action","action",null,c,p);i.push({event:L,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ho!==0){var G=C?P0(p,C):new FormData(p);Zg(l,{pending:!0,data:G,method:p.method,action:y},null,G)}}else typeof y=="function"&&(L.preventDefault(),G=C?P0(p,C):new FormData(p),Zg(l,{pending:!0,data:G,method:p.method,action:y},y,G))},currentTarget:p}]})}}for(var ky=0;ky<vg.length;ky++){var Py=vg[ky],x2=Py.toLowerCase(),I2=Py[0].toUpperCase()+Py.slice(1);xi(x2,"on"+I2)}xi(mb,"onAnimationEnd"),xi(pb,"onAnimationIteration"),xi(gb,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(GM,"onTransitionRun"),xi(KM,"onTransitionStart"),xi(YM,"onTransitionCancel"),xi(yb,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function L0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var C=c.length-1;0<=C;C--){var L=c[C],G=L.instance,re=L.currentTarget;if(L=L.listener,G!==y&&p.isPropagationStopped())break e;y=L,p.currentTarget=re;try{y(p)}catch(de){gh(de)}p.currentTarget=null,y=G}else for(C=0;C<c.length;C++){if(L=c[C],G=L.instance,re=L.currentTarget,L=L.listener,G!==y&&p.isPropagationStopped())break e;y=L,p.currentTarget=re;try{y(p)}catch(de){gh(de)}p.currentTarget=null,y=G}}}}function _t(i,s){var l=s[ze];l===void 0&&(l=s[ze]=new Set);var c=i+"__bubble";l.has(c)||(V0(s,i,2,!1),l.add(c))}function Ly(i,s,l){var c=0;s&&(c|=4),V0(l,i,c,s)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Vy(i){if(!i[Dh]){i[Dh]=!0,kt.forEach(function(l){l!=="selectionchange"&&(D2.has(l)||Ly(l,!1,i),Ly(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Dh]||(s[Dh]=!0,Ly("selectionchange",!1,s))}}function V0(i,s,l,c){switch(oT(s)){case 2:var p=rk;break;case 8:p=ik;break;default:p=Xy}l=p.bind(null,s,l,i),p=void 0,!pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function jy(i,s,l,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var L=c.stateNode.containerInfo;if(L===p)break;if(C===4)for(C=c.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;L!==null;){if(C=ct(L),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){c=y=C;continue e}L=L.parentNode}}c=c.return}_o(function(){var re=y,de=oc(l),_e=[];e:{var ie=vb.get(i);if(ie!==void 0){var ae=bo,at=i;switch(i){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":ae=El;break;case"focusin":at="focus",ae=yl;break;case"focusout":at="blur",ae=yl;break;case"beforeblur":case"afterblur":ae=yl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=rs;break;case mb:case pb:case gb:ae=uc;break;case yb:ae=S;break;case"scroll":case"scrollend":ae=To;break;case"wheel":ae=U;break;case"copy":case"cut":case"paste":ae=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=fc;break;case"toggle":case"beforetoggle":ae=le}var et=(s&4)!==0,zt=!et&&(i==="scroll"||i==="scrollend"),Z=et?ie!==null?ie+"Capture":null:ie;et=[];for(var W=re,te;W!==null;){var he=W;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Z===null||(he=ts(W,Z),he!=null&&et.push(qc(W,he,te))),zt)break;W=W.return}0<et.length&&(ie=new ae(ie,at,null,l,de),_e.push({event:ie,listeners:et}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",ie&&l!==sc&&(at=l.relatedTarget||l.fromElement)&&(ct(at)||at[Ue]))break e;if((ae||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(at=l.relatedTarget||l.toElement,ae=re,at=at?ct(at):null,at!==null&&(zt=o(at),et=at.tag,at!==zt||et!==5&&et!==27&&et!==6)&&(at=null)):(ae=null,at=re),ae!==at)){if(et=Co,he="onMouseLeave",Z="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(et=fc,he="onPointerLeave",Z="onPointerEnter",W="pointer"),zt=ae==null?ie:Ht(ae),te=at==null?ie:Ht(at),ie=new et(he,W+"leave",ae,l,de),ie.target=zt,ie.relatedTarget=te,he=null,ct(de)===re&&(et=new et(Z,W+"enter",at,l,de),et.target=te,et.relatedTarget=zt,he=et),zt=he,ae&&at)t:{for(et=ae,Z=at,W=0,te=et;te;te=ql(te))W++;for(te=0,he=Z;he;he=ql(he))te++;for(;0<W-te;)et=ql(et),W--;for(;0<te-W;)Z=ql(Z),te--;for(;W--;){if(et===Z||Z!==null&&et===Z.alternate)break t;et=ql(et),Z=ql(Z)}et=null}else et=null;ae!==null&&j0(_e,ie,ae,et,!1),at!==null&&zt!==null&&j0(_e,zt,at,et,!0)}}e:{if(ie=re?Ht(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var Be=rb;else if(tb(ie))if(ib)Be=HM;else{Be=BM;var yt=FM}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&ml(re.elementType)&&(Be=rb):Be=zM;if(Be&&(Be=Be(i,re))){nb(_e,Be,l,de);break e}yt&&yt(i,ie,re),i==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&rc(ie,"number",ie.value)}switch(yt=re?Ht(re):window,i){case"focusin":(tb(yt)||yt.contentEditable==="true")&&(wl=yt,pg=re,yc=null);break;case"focusout":yc=pg=wl=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,fb(_e,l,de);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":fb(_e,l,de)}var Xe;if(dt)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Ci?Ri(i,l)&&(tt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(mn&&l.locale!=="ko"&&(Ci||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Ci&&(Xe=Vf()):(ui=de,Yt="value"in ui?ui.value:ui.textContent,Ci=!0)),yt=Nh(re,tt),0<yt.length&&(tt=new dc(tt,i,null,l,de),_e.push({event:tt,listeners:yt}),Xe?tt.data=Xe:(Xe=Ai(l),Xe!==null&&(tt.data=Xe)))),(Xe=Pt?hc(i,l):VM(i,l))&&(tt=Nh(re,"onBeforeInput"),0<tt.length&&(yt=new dc("onBeforeInput","beforeinput",null,l,de),_e.push({event:yt,listeners:tt}),yt.data=Xe)),C2(_e,i,re,l,de)}L0(_e,s)})}function qc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Nh(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ts(i,l),p!=null&&c.unshift(qc(i,p,y)),p=ts(i,s),p!=null&&c.push(qc(i,p,y))),i.tag===3)return c;i=i.return}return[]}function ql(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j0(i,s,l,c,p){for(var y=s._reactName,C=[];l!==null&&l!==c;){var L=l,G=L.alternate,re=L.stateNode;if(L=L.tag,G!==null&&G===c)break;L!==5&&L!==26&&L!==27||re===null||(G=re,p?(re=ts(l,y),re!=null&&C.unshift(qc(l,re,G))):p||(re=ts(l,y),re!=null&&C.push(qc(l,re,G)))),l=l.return}C.length!==0&&i.push({event:s,listeners:C})}var N2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function U0(i){return(typeof i=="string"?i:""+i).replace(N2,`
`).replace(O2,"")}function F0(i,s){return s=U0(s),U0(i)===s}function Oh(){}function Bt(i,s,l,c,p,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||li(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&li(i,""+c);break;case"className":oi(i,"class",c);break;case"tabIndex":oi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(i,l,c);break;case"style":ac(i,c,y);break;case"data":if(s!=="object"){oi(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ti(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Bt(i,s,"name",p.name,p,null),Bt(i,s,"formEncType",p.formEncType,p,null),Bt(i,s,"formMethod",p.formMethod,p,null),Bt(i,s,"formTarget",p.formTarget,p,null)):(Bt(i,s,"encType",p.encType,p,null),Bt(i,s,"method",p.method,p,null),Bt(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ti(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Oh);break;case"onScroll":c!=null&&_t("scroll",i);break;case"onScrollEnd":c!=null&&_t("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ti(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":_t("beforetoggle",i),_t("toggle",i),si(i,"popover",c);break;case"xlinkActuate":ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ut(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ut(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ut(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ut(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":si(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kf.get(l)||l,si(i,l,c))}}function Uy(i,s,l,c,p,y){switch(l){case"style":ac(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?li(i,c):(typeof c=="number"||typeof c=="bigint")&&li(i,""+c);break;case"onScroll":c!=null&&_t("scroll",i);break;case"onScrollEnd":c!=null&&_t("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=i[Ce]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):si(i,l,c)}}}function Jn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",i),_t("load",i);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var C=l[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Bt(i,s,y,C,l,null)}}p&&Bt(i,s,"srcSet",l.srcSet,l,null),c&&Bt(i,s,"src",l.src,l,null);return;case"input":_t("invalid",i);var L=y=C=p=null,G=null,re=null;for(c in l)if(l.hasOwnProperty(c)){var de=l[c];if(de!=null)switch(c){case"name":p=de;break;case"type":C=de;break;case"checked":G=de;break;case"defaultChecked":re=de;break;case"value":y=de;break;case"defaultValue":L=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:Bt(i,s,c,de,l,null)}}nc(i,y,L,G,re,C,p,!1),Ja(i);return;case"select":_t("invalid",i),c=C=y=null;for(p in l)if(l.hasOwnProperty(p)&&(L=l[p],L!=null))switch(p){case"value":y=L;break;case"defaultValue":C=L;break;case"multiple":c=L;default:Bt(i,s,p,L,l,null)}s=y,l=C,i.multiple=!!c,s!=null?Za(i,!!c,s,!1):l!=null&&Za(i,!!c,l,!0);return;case"textarea":_t("invalid",i),y=p=c=null;for(C in l)if(l.hasOwnProperty(C)&&(L=l[C],L!=null))switch(C){case"value":c=L;break;case"defaultValue":p=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Bt(i,s,C,L,l,null)}Mf(i,c,p,y),Ja(i);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(i,s,G,c,l,null)}return;case"dialog":_t("beforetoggle",i),_t("toggle",i),_t("cancel",i),_t("close",i);break;case"iframe":case"object":_t("load",i);break;case"video":case"audio":for(c=0;c<$c.length;c++)_t($c[c],i);break;case"image":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"embed":case"source":case"link":_t("error",i),_t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in l)if(l.hasOwnProperty(re)&&(c=l[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Bt(i,s,re,c,l,null)}return;default:if(ml(s)){for(de in l)l.hasOwnProperty(de)&&(c=l[de],c!==void 0&&Uy(i,s,de,c,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(c=l[L],c!=null&&Bt(i,s,L,c,l,null))}function M2(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,C=null,L=null,G=null,re=null,de=null;for(ae in l){var _e=l[ae];if(l.hasOwnProperty(ae)&&_e!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=_e;default:c.hasOwnProperty(ae)||Bt(i,s,ae,null,c,_e)}}for(var ie in c){var ae=c[ie];if(_e=l[ie],c.hasOwnProperty(ie)&&(ae!=null||_e!=null))switch(ie){case"type":y=ae;break;case"name":p=ae;break;case"checked":re=ae;break;case"defaultChecked":de=ae;break;case"value":C=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==_e&&Bt(i,s,ie,ae,c,_e)}}tc(i,C,L,G,re,de,y,p);return;case"select":ae=C=L=ie=null;for(y in l)if(G=l[y],l.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ae=G;default:c.hasOwnProperty(y)||Bt(i,s,y,null,c,G)}for(p in c)if(y=c[p],G=l[p],c.hasOwnProperty(p)&&(y!=null||G!=null))switch(p){case"value":ie=y;break;case"defaultValue":L=y;break;case"multiple":C=y;default:y!==G&&Bt(i,s,p,y,c,G)}s=L,l=C,c=ae,ie!=null?Za(i,!!l,ie,!1):!!c!=!!l&&(s!=null?Za(i,!!l,s,!0):Za(i,!!l,l?[]:"",!1));return;case"textarea":ae=ie=null;for(L in l)if(p=l[L],l.hasOwnProperty(L)&&p!=null&&!c.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Bt(i,s,L,null,c,p)}for(C in c)if(p=c[C],y=l[C],c.hasOwnProperty(C)&&(p!=null||y!=null))switch(C){case"value":ie=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&Bt(i,s,C,p,c,y)}Of(i,ie,ae);return;case"option":for(var at in l)if(ie=l[at],l.hasOwnProperty(at)&&ie!=null&&!c.hasOwnProperty(at))switch(at){case"selected":i.selected=!1;break;default:Bt(i,s,at,null,c,ie)}for(G in c)if(ie=c[G],ae=l[G],c.hasOwnProperty(G)&&ie!==ae&&(ie!=null||ae!=null))switch(G){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Bt(i,s,G,ie,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in l)ie=l[et],l.hasOwnProperty(et)&&ie!=null&&!c.hasOwnProperty(et)&&Bt(i,s,et,null,c,ie);for(re in c)if(ie=c[re],ae=l[re],c.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:Bt(i,s,re,ie,c,ae)}return;default:if(ml(s)){for(var zt in l)ie=l[zt],l.hasOwnProperty(zt)&&ie!==void 0&&!c.hasOwnProperty(zt)&&Uy(i,s,zt,void 0,c,ie);for(de in c)ie=c[de],ae=l[de],!c.hasOwnProperty(de)||ie===ae||ie===void 0&&ae===void 0||Uy(i,s,de,ie,c,ae);return}}for(var Z in l)ie=l[Z],l.hasOwnProperty(Z)&&ie!=null&&!c.hasOwnProperty(Z)&&Bt(i,s,Z,null,c,ie);for(_e in c)ie=c[_e],ae=l[_e],!c.hasOwnProperty(_e)||ie===ae||ie==null&&ae==null||Bt(i,s,_e,ie,c,ae)}var Fy=null,By=null;function Mh(i){return i.nodeType===9?i:i.ownerDocument}function B0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hy=null;function k2(){var i=window.event;return i&&i.type==="popstate"?i===Hy?!1:(Hy=i,!0):(Hy=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(i){return $0.resolve(null).then(i).catch(V2)}:H0;function V2(i){setTimeout(function(){throw i})}function _s(i){return i==="head"}function q0(i,s){var l=s,c=0,p=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var C=i.ownerDocument;if(l&1&&Gc(C.documentElement),l&2&&Gc(C.body),l&4)for(l=C.head,Gc(l),C=l.firstChild;C;){var L=C.nextSibling,G=C.nodeName;C[Fe]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=L}}if(p===0){i.removeChild(y),ed(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);ed(s)}function $y(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$y(l),He(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function j2(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Fe])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function U2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Di(i.nextSibling),i===null))return null;return i}function qy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function F2(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Di(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Gy=null;function G0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function K0(i,s,l){switch(s=Mh(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);He(i)}var gi=new Map,Y0=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ia=ue.d;ue.d={f:B2,r:z2,D:H2,C:$2,L:q2,m:G2,X:Y2,S:K2,M:Q2};function B2(){var i=Ia.f(),s=Rh();return i||s}function z2(i){var s=St(i);s!==null&&s.tag===5&&s.type==="form"?mS(s):Ia.r(i)}var Gl=typeof document>"u"?null:document;function Q0(i,s,l){var c=Gl;if(c&&typeof s=="string"&&s){var p=Fn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Y0.has(p)||(Y0.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Jn(s,"link",i),lt(s),c.head.appendChild(s)))}}function H2(i){Ia.D(i),Q0("dns-prefetch",i,null)}function $2(i,s){Ia.C(i,s),Q0("preconnect",i,s)}function q2(i,s,l){Ia.L(i,s,l);var c=Gl;if(c&&i&&s){var p='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Fn(l.imageSizes)+'"]')):p+='[href="'+Fn(i)+'"]';var y=p;switch(s){case"style":y=Kl(i);break;case"script":y=Yl(i)}gi.has(y)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),gi.set(y,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(Kc(y))||s==="script"&&c.querySelector(Yc(y))||(s=c.createElement("link"),Jn(s,"link",i),lt(s),c.head.appendChild(s)))}}function G2(i,s){Ia.m(i,s);var l=Gl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(i)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Yl(i)}if(!gi.has(y)&&(i=g({rel:"modulepreload",href:i},s),gi.set(y,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yc(y)))return}c=l.createElement("link"),Jn(c,"link",i),lt(c),l.head.appendChild(c)}}}function K2(i,s,l){Ia.S(i,s,l);var c=Gl;if(c&&i){var p=en(c).hoistableStyles,y=Kl(i);s=s||"default";var C=p.get(y);if(!C){var L={loading:0,preload:null};if(C=c.querySelector(Kc(y)))L.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=gi.get(y))&&Ky(i,l);var G=C=c.createElement("link");lt(G),Jn(G,"link",i),G._p=new Promise(function(re,de){G.onload=re,G.onerror=de}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ph(C,s,c)}C={type:"stylesheet",instance:C,count:1,state:L},p.set(y,C)}}}function Y2(i,s){Ia.X(i,s);var l=Gl;if(l&&i){var c=en(l).hoistableScripts,p=Yl(i),y=c.get(p);y||(y=l.querySelector(Yc(p)),y||(i=g({src:i,async:!0},s),(s=gi.get(p))&&Yy(i,s),y=l.createElement("script"),lt(y),Jn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Q2(i,s){Ia.M(i,s);var l=Gl;if(l&&i){var c=en(l).hoistableScripts,p=Yl(i),y=c.get(p);y||(y=l.querySelector(Yc(p)),y||(i=g({src:i,async:!0,type:"module"},s),(s=gi.get(p))&&Yy(i,s),y=l.createElement("script"),lt(y),Jn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function W0(i,s,l,c){var p=(p=Oe.current)?kh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Kl(l.href),l=en(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Kl(l.href);var y=en(p).hoistableStyles,C=y.get(i);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=p.querySelector(Kc(i)))&&!y._p&&(C.instance=y,C.state.loading=5),gi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gi.set(i,l),y||W2(p,i,l,C.state))),s&&c===null)throw Error(r(528,""));return C}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yl(l),l=en(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kl(i){return'href="'+Fn(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function X0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function W2(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Jn(s,"link",l),lt(s),i.head.appendChild(s))}function Yl(i){return'[src="'+Fn(i)+'"]'}function Yc(i){return"script[async]"+i}function J0(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Fn(l.href)+'"]');if(c)return s.instance=c,lt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),lt(c),Jn(c,"style",p),Ph(c,l.precedence,i),s.instance=c;case"stylesheet":p=Kl(l.href);var y=i.querySelector(Kc(p));if(y)return s.state.loading|=4,s.instance=y,lt(y),y;c=X0(l),(p=gi.get(p))&&Ky(c,p),y=(i.ownerDocument||i).createElement("link"),lt(y);var C=y;return C._p=new Promise(function(L,G){C.onload=L,C.onerror=G}),Jn(y,"link",c),s.state.loading|=4,Ph(y,l.precedence,i),s.instance=y;case"script":return y=Yl(l.src),(p=i.querySelector(Yc(y)))?(s.instance=p,lt(p),p):(c=l,(p=gi.get(y))&&(c=g({},l),Yy(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),lt(p),Jn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Ph(c,l.precedence,i));return s.instance}function Ph(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,C=0;C<c.length;C++){var L=c[C];if(L.dataset.precedence===s)y=L;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Ky(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Yy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Lh=null;function Z0(i,s,l){if(Lh===null){var c=new Map,p=Lh=new Map;p.set(l,c)}else p=Lh,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[Fe]||y[ve]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(s)||"";C=i+C;var L=c.get(C);L?L.push(y):c.set(C,[y])}}return c}function eT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function X2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Qc=null;function J2(){}function Z2(i,s,l){if(Qc===null)throw Error(r(475));var c=Qc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Kl(l.href),y=i.querySelector(Kc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Vh.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=y,lt(y);return}y=i.ownerDocument||i,l=X0(l),(p=gi.get(p))&&Ky(l,p),y=y.createElement("link"),lt(y);var C=y;C._p=new Promise(function(L,G){C.onload=L,C.onerror=G}),Jn(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Vh.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function ek(){if(Qc===null)throw Error(r(475));var i=Qc;return i.stylesheets&&i.count===0&&Qy(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Qy(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Vh(){if(this.count--,this.count===0){if(this.stylesheets)Qy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jh=null;function Qy(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jh=new Map,s.forEach(tk,i),jh=null,Vh.call(i))}function tk(i,s){if(!(s.state.loading&4)){var l=jh.get(i);if(l)var c=l.get(null);else{l=new Map,jh.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var C=p[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}p=s.instance,C=p.getAttribute("data-precedence"),y=l.get(C)||c,y===c&&l.set(null,p),l.set(C,p),this.count++,c=Vh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Wc={$$typeof:B,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function nk(i,s,l,c,p,y,C,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function nT(i,s,l,c,p,y,C,L,G,re,de,_e){return i=new nk(i,s,l,C,L,G,re,_e),s=1,y===!0&&(s|=24),y=qr(3,null,null,s),i.current=y,y.stateNode=i,s=Dg(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},kg(y),i}function rT(i){return i?(i=Rl,i):Rl}function iT(i,s,l,c,p,y){p=rT(p),c.context===null?c.context=p:c.pendingContext=p,c=ss(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=os(i,c,s),l!==null&&(Wr(l,i,s),Ac(l,i,s))}function aT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Wy(i,s){aT(i,s),(i=i.alternate)&&aT(i,s)}function sT(i){if(i.tag===13){var s=Tl(i,67108864);s!==null&&Wr(s,i,67108864),Wy(i,67108864)}}var Uh=!0;function rk(i,s,l,c){var p=K.T;K.T=null;var y=ue.p;try{ue.p=2,Xy(i,s,l,c)}finally{ue.p=y,K.T=p}}function ik(i,s,l,c){var p=K.T;K.T=null;var y=ue.p;try{ue.p=8,Xy(i,s,l,c)}finally{ue.p=y,K.T=p}}function Xy(i,s,l,c){if(Uh){var p=Jy(c);if(p===null)jy(i,s,c,Fh,l),lT(i,c);else if(sk(p,i,s,l,c))c.stopPropagation();else if(lT(i,c),s&4&&-1<ak.indexOf(i)){for(;p!==null;){var y=St(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=gr(y.pendingLanes);if(C!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;C;){var G=1<<31-xt(C);L.entanglements[1]|=G,C&=~G}Gi(y),(Lt&6)===0&&(Sh=Nt()+500,Hc(0))}}break;case 13:L=Tl(y,2),L!==null&&Wr(L,y,2),Rh(),Wy(y,2)}if(y=Jy(c),y===null&&jy(i,s,c,Fh,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else jy(i,s,c,null,l)}}function Jy(i){return i=oc(i),Zy(i)}var Fh=null;function Zy(i){if(Fh=null,i=ct(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fh=i,null}function oT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ge:return 2;case F:return 8;case Q:case X:return 32;case we:return 268435456;default:return 32}default:return 32}}var ev=!1,Es=null,ws=null,bs=null,Xc=new Map,Jc=new Map,Ss=[],ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lT(i,s){switch(i){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(s.pointerId)}}function Zc(i,s,l,c,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=St(s),s!==null&&sT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function sk(i,s,l,c,p){switch(s){case"focusin":return Es=Zc(Es,i,s,l,c,p),!0;case"dragenter":return ws=Zc(ws,i,s,l,c,p),!0;case"mouseover":return bs=Zc(bs,i,s,l,c,p),!0;case"pointerover":var y=p.pointerId;return Xc.set(y,Zc(Xc.get(y)||null,i,s,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Jc.set(y,Zc(Jc.get(y)||null,i,s,l,c,p)),!0}return!1}function uT(i){var s=ct(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,ee(i.priority,function(){if(l.tag===13){var c=Qr();c=mo(c);var p=Tl(l,c);p!==null&&Wr(p,l,c),Wy(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Jy(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);sc=c,l.target.dispatchEvent(c),sc=null}else return s=St(l),s!==null&&sT(s),i.blockedOn=l,!1;s.shift()}return!0}function cT(i,s,l){Bh(i)&&l.delete(s)}function ok(){ev=!1,Es!==null&&Bh(Es)&&(Es=null),ws!==null&&Bh(ws)&&(ws=null),bs!==null&&Bh(bs)&&(bs=null),Xc.forEach(cT),Jc.forEach(cT)}function zh(i,s){i.blockedOn===s&&(i.blockedOn=null,ev||(ev=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ok)))}var Hh=null;function dT(i){Hh!==i&&(Hh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hh===i&&(Hh=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Zy(c||l)===null)continue;break}var y=St(l);y!==null&&(i.splice(s,3),s-=3,Zg(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function ed(i){function s(G){return zh(G,i)}Es!==null&&zh(Es,i),ws!==null&&zh(ws,i),bs!==null&&zh(bs,i),Xc.forEach(s),Jc.forEach(s);for(var l=0;l<Ss.length;l++){var c=Ss[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ss.length&&(l=Ss[0],l.blockedOn===null);)uT(l),l.blockedOn===null&&Ss.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],C=p[Ce]||null;if(typeof y=="function")C||dT(l);else if(C){var L=null;if(y&&y.hasAttribute("formAction")){if(p=y,C=y[Ce]||null)L=C.formAction;else if(Zy(p)!==null)continue}else L=C.action;typeof L=="function"?l[c+1]=L:(l.splice(c,3),c-=3),dT(l)}}}function tv(i){this._internalRoot=i}$h.prototype.render=tv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=Qr();iT(l,c,i,s,null,null)},$h.prototype.unmount=tv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;iT(i.current,2,null,i,null,null),Rh(),s[Ue]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=Y();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ss.length&&s!==0&&s<Ss[l].priority;l++);Ss.splice(l,0,i),l===0&&uT(i)}};var fT=e.version;if(fT!=="19.1.1")throw Error(r(527,fT,"19.1.1"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var lk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Se=qh.inject(lk),je=qh}catch{}}return nd.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=xS,y=IS,C=DS,L=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks)),s=nT(i,1,!1,null,null,l,c,p,y,C,L,null),i[Ue]=s.current,Vy(i),new tv(s)},nd.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",y=xS,C=IS,L=DS,G=null,re=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(re=l.formState)),s=nT(i,1,!0,s,l??null,c,p,y,C,L,G,re),s.context=rT(null),l=s.current,c=Qr(),c=mo(c),p=ss(c),p.callback=null,os(l,p,c),l=c,s.current.lanes=l,rn(s,l),Gi(s),i[Ue]=s.current,Vy(i),new $h(s)},nd.version="19.1.1",nd}var bT;function _k(){if(bT)return iv.exports;bT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iv.exports=vk(),iv.exports}var Ek=_k();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FC=t=>{throw TypeError(t)},wk=(t,e,n)=>e.has(t)||FC("Cannot "+n),lv=(t,e,n)=>(wk(t,e,"read from private field"),n?n.call(t):e.get(t)),bk=(t,e,n)=>e.has(t)?FC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),BC=(t=>(t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE",t))(BC||{}),ST="popstate";function zC(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,a;a=e.map((b,T)=>g(b,typeof b=="string"?null:b.state,T===0?"default":void 0));let o=f(n??a.length-1),u="POP",d=null;function f(b){return Math.min(Math.max(b,0),a.length-1)}function h(){return a[o]}function g(b,T=null,x){let R=Ua(a?h().pathname:"/",b,T,x);return Gt(R.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(b)}`),R}function _(b){return typeof b=="string"?b:Ar(b)}return{get index(){return o},get action(){return u},get location(){return h()},createHref:_,createURL(b){return new URL(_(b),"http://localhost")},encodeLocation(b){let T=typeof b=="string"?ri(b):b;return{pathname:T.pathname||"",search:T.search||"",hash:T.hash||""}},push(b,T){u="PUSH";let x=g(b,T);o+=1,a.splice(o,a.length,x),r&&d&&d({action:u,location:x,delta:1})},replace(b,T){u="REPLACE";let x=g(b,T);a[o]=x,r&&d&&d({action:u,location:x,delta:0})},go(b){u="POP";let T=f(o+b),x=a[T];o=T,d&&d({action:u,location:x,delta:b})},listen(b){return d=b,()=>{d=null}}}}function Xd(t={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Ua("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ar(a)}return $C(e,n,null,t)}function HC(t={}){function e(a,o){let{pathname:u="/",search:d="",hash:f=""}=ri(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ua("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof o=="string"?o:Ar(o))}function r(a,o){Gt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return $C(e,n,r,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sk(){return Math.random().toString(36).substring(2,10)}function TT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ua(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ri(e):e,state:n,key:e&&e.key||r||Sk()}}function Ar({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $C(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function _(){d="POP";let R=g(),I=R==null?null:R-h;h=R,f&&f({action:d,location:x.location,delta:I})}function v(R,I){d="PUSH";let O=Ua(x.location,R,I);n&&n(O,R),h=g()+1;let B=TT(O,h),j=x.createHref(O);try{u.pushState(B,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(j)}o&&f&&f({action:d,location:x.location,delta:1})}function b(R,I){d="REPLACE";let O=Ua(x.location,R,I);n&&n(O,R),h=g();let B=TT(O,h),j=x.createHref(O);u.replaceState(B,"",j),o&&f&&f({action:d,location:x.location,delta:0})}function T(R){return qC(R)}let x={get action(){return d},get location(){return t(a,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ST,_),f=R,()=>{a.removeEventListener(ST,_),f=null}},createHref(R){return e(a,R)},createURL:T,encodeLocation(R){let I=T(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:b,go(R){return u.go(R)}};return x}function qC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ar(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GC(t){return{defaultValue:t}}var dd,Qi=class{constructor(t){if(bk(this,dd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(lv(this,dd).has(t))return lv(this,dd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){lv(this,dd).set(t,e)}};dd=new WeakMap;var Tk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rk(t){return Tk.has(t)}var Ak=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Ck(t){return Ak.has(t)}function xk(t){return t.index===!0}function Ys(t,e,n=[],r={},a=!1){return t.map((o,u)=>{let d=[...n,String(u)],f=typeof o.id=="string"?o.id:d.join("-");if(qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),qe(a||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),xk(o)){let h={...o,...e(o),id:f};return r[f]=h,h}else{let h={...o,...e(o),id:f,children:void 0};return r[f]=h,o.children&&(h.children=Ys(o.children,e,d,r,a)),h}})}function kr(t,e,n="/"){return dm(t,e,n,!1)}function dm(t,e,n,r){let a=typeof e=="string"?ri(e):e,o=Ln(a.pathname||"/",n);if(o==null)return null;let u=YC(t);Ik(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=XC(o);d=jk(u[f],h,r)}return d}function KC(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function YC(t,e=[],n=[],r="",a=!1){let o=(u,d,f=a,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;qe(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=Wi([r,g.relativePath]),v=n.concat(g);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),YC(u.children,e,v,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:Lk(_,u.index),routesMeta:v})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of QC(u.path))o(u,d,!0,f)}),e}function QC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=QC(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function Ik(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Dk=/^:[\w-]+$/,Nk=3,Ok=2,Mk=1,kk=10,Pk=-2,RT=t=>t==="*";function Lk(t,e){let n=t.split("/"),r=n.length;return n.some(RT)&&(r+=Pk),e&&(r+=Ok),n.filter(a=>!RT(a)).reduce((a,o)=>a+(Dk.test(o)?Nk:o===""?Mk:kk),r)}function Vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function jk(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Eu({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),v=f.route;if(!_&&h&&n&&!r[r.length-1].route.index&&(_=Eu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Wi([o,_.pathname]),pathnameBase:zk(Wi([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Wi([o,_.pathnameBase]))}return u}function Uk(t,e={}){let n=t;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(Gt(!1,`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",a=u=>u==null?"":typeof u=="string"?u:String(u),o=n.split(/\/+/).map((u,d,f)=>{if(d===f.length-1&&u==="*")return a(e["*"]);const g=u.match(/^:([\w-]+)(\??)$/);if(g){const[,_,v]=g;let b=e[_];return qe(v==="?"||b!=null,`Missing ":${_}" param`),encodeURIComponent(a(b))}return u.replace(/\?$/g,"")}).filter(u=>!!u);return r+o.join("/")}function Eu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:_},v)=>{if(g==="*"){let T=d[v]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const b=d[v];return _&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function WC(t,e=!1,n=!0){Gt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ln(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Fk({basename:t,pathname:e}){return e==="/"?t:Wi([t,e])}function JC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:Bk(n,e):e,search:Hk(r),hash:$k(a)}}function Bk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function uv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(t){let e=ZC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mp(t,e,n,r=!1){let a;typeof t=="string"?a=ri(t):(a={...t},qe(!a.pathname||!a.pathname.includes("?"),uv("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),uv("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),uv("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;a.pathname=v.join("/")}d=_>=0?e[_]:"/"}let f=JC(a,d),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Wi=t=>t.join("/").replace(/\/\/+/g,"/"),zk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qk=class{constructor(t,e){this.type="DataWithResponseInit",this.data=t,this.init=e||null}};function ex(t,e){return new qk(t,typeof e=="number"?{status:e}:e)}var Jd=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},tx=(t,e)=>{let n=Jd(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n},nx=(t,e)=>{let n=Jd(t,e);return n.headers.set("X-Remix-Replace","true"),n},Kn=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rx=["POST","PUT","PATCH","DELETE"],Gk=new Set(rx),Kk=["GET",...rx],Yk=new Set(Kk),ix=new Set([301,302,303,307,308]),Qk=new Set([307,308]),_d={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pp={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Is={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G_=t=>Wk.test(t),ax=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),sx="remix-router-transitions",ox=Symbol("ResetLoaderData");function ju(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||ax,o={},u=Ys(t.routes,a,void 0,o),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let h=t.dataStrategy||nP,g={...t.future},_=null,v=new Set,b=null,T=null,x=null,R=t.hydrationData!=null,I=kr(u,t.history.location,f),O=!1,B=null,j;if(I==null&&!t.patchRoutesOnNavigation){let Y=Rn(404,{pathname:t.history.location.pathname}),{matches:ee,route:oe}=su(u);j=!0,I=ee,B={[oe.id]:Y}}else if(I&&!t.hydrationData&&Ur(I,u,t.history.location.pathname).active&&(I=null),I)if(I.some(Y=>Y.route.lazy))j=!1;else if(!I.some(Y=>Y.route.loader))j=!0;else{let Y=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let oe=I.findIndex(ve=>ee[ve.route.id]!==void 0);j=I.slice(0,oe+1).every(ve=>!Yv(ve.route,Y,ee))}else j=I.every(oe=>!Yv(oe.route,Y,ee))}else{j=!1,I=[];let Y=Ur(null,u,t.history.location.pathname);Y.active&&Y.matches&&(O=!0,I=Y.matches)}let M,V={historyAction:t.history.action,location:t.history.location,matches:I,initialized:j,navigation:_d,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},P="POP",D=!1,k,z=!1,H=new Map,$=null,N=!1,J=!1,me=new Set,K=new Map,ue=0,pe=-1,xe=new Map,q=new Set,se=new Map,Te=new Map,fe=new Set,Re=new Map,ke,Oe=null;function pt(){if(_=t.history.listen(({action:Y,location:ee,delta:oe})=>{if(ke){ke(),ke=void 0;return}Gt(Re.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=ii({currentLocation:V.location,nextLocation:ee,historyAction:Y});if(ve&&oe!=null){let Ce=new Promise(Ue=>{ke=Ue});t.history.go(oe*-1),yr(ve,{state:"blocked",location:ee,proceed(){yr(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Ce.then(()=>t.history.go(oe))},reset(){let Ue=new Map(V.blockers);Ue.set(ve,Is),ft({blockers:Ue})}});return}return Dt(Y,ee)}),n){uP(e,H);let Y=()=>cP(e,H);e.addEventListener("pagehide",Y),$=()=>e.removeEventListener("pagehide",Y)}return V.initialized||Dt("POP",V.location,{initialHydration:!0}),M}function st(){_&&_(),$&&$(),v.clear(),k&&k.abort(),V.fetchers.forEach((Y,ee)=>xt(ee)),V.blockers.forEach((Y,ee)=>jn(ee))}function Mt(Y){return v.add(Y),()=>v.delete(Y)}function ft(Y,ee={}){Y.matches&&(Y.matches=Y.matches.map(Ce=>{let Ue=o[Ce.route.id],ze=Ce.route;return ze.element!==Ue.element||ze.errorElement!==Ue.errorElement||ze.hydrateFallbackElement!==Ue.hydrateFallbackElement?{...Ce,route:Ue}:Ce})),V={...V,...Y};let oe=[],ve=[];V.fetchers.forEach((Ce,Ue)=>{Ce.state==="idle"&&(fe.has(Ue)?oe.push(Ue):ve.push(Ue))}),fe.forEach(Ce=>{!V.fetchers.has(Ce)&&!K.has(Ce)&&oe.push(Ce)}),[...v].forEach(Ce=>Ce(V,{deletedFetchers:oe,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),oe.forEach(Ce=>xt(Ce)),ve.forEach(Ce=>V.fetchers.delete(Ce))}function Ct(Y,ee,{flushSync:oe}={}){let ve=V.actionData!=null&&V.navigation.formMethod!=null&&ur(V.navigation.formMethod)&&V.navigation.state==="loading"&&Y.state?._isRedirect!==!0,Ce;ee.actionData?Object.keys(ee.actionData).length>0?Ce=ee.actionData:Ce=null:ve?Ce=V.actionData:Ce=null;let Ue=ee.loaderData?VT(V.loaderData,ee.loaderData,ee.matches||[],ee.errors):V.loaderData,ze=V.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Fe,He)=>ze.set(He,Is)));let Ve=N?!1:ho(Y,ee.matches||V.matches),Qe=D===!0||V.navigation.formMethod!=null&&ur(V.navigation.formMethod)&&Y.state?._isRedirect!==!0;d&&(u=d,d=void 0),N||P==="POP"||(P==="PUSH"?t.history.push(Y,Y.state):P==="REPLACE"&&t.history.replace(Y,Y.state));let Ke;if(P==="POP"){let Fe=H.get(V.location.pathname);Fe&&Fe.has(Y.pathname)?Ke={currentLocation:V.location,nextLocation:Y}:H.has(Y.pathname)&&(Ke={currentLocation:Y,nextLocation:V.location})}else if(z){let Fe=H.get(V.location.pathname);Fe?Fe.add(Y.pathname):(Fe=new Set([Y.pathname]),H.set(V.location.pathname,Fe)),Ke={currentLocation:V.location,nextLocation:Y}}ft({...ee,actionData:Ce,loaderData:Ue,historyAction:P,location:Y,initialized:!0,navigation:_d,revalidation:"idle",restoreScrollPosition:Ve,preventScrollReset:Qe,blockers:ze},{viewTransitionOpts:Ke,flushSync:oe===!0}),P="POP",D=!1,z=!1,N=!1,J=!1,Oe?.resolve(),Oe=null}async function Zt(Y,ee){if(typeof Y=="number"){t.history.go(Y);return}let oe=Kv(V.location,V.matches,f,Y,ee?.fromRouteId,ee?.relative),{path:ve,submission:Ce,error:Ue}=CT(!1,oe,ee),ze=V.location,Ve=Ua(V.location,ve,ee&&ee.state);Ve={...Ve,...t.history.encodeLocation(Ve)};let Qe=ee&&ee.replace!=null?ee.replace:void 0,Ke="PUSH";Qe===!0?Ke="REPLACE":Qe===!1||Ce!=null&&ur(Ce.formMethod)&&Ce.formAction===V.location.pathname+V.location.search&&(Ke="REPLACE");let Fe=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,He=(ee&&ee.flushSync)===!0,ct=ii({currentLocation:ze,nextLocation:Ve,historyAction:Ke});if(ct){yr(ct,{state:"blocked",location:Ve,proceed(){yr(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),Zt(Y,ee)},reset(){let St=new Map(V.blockers);St.set(ct,Is),ft({blockers:St})}});return}await Dt(Ke,Ve,{submission:Ce,pendingError:Ue,preventScrollReset:Fe,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:He})}function un(){Oe||(Oe=dP()),ye(),ft({revalidation:"loading"});let Y=Oe.promise;return V.navigation.state==="submitting"?Y:V.navigation.state==="idle"?(Dt(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),Y):(Dt(P||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:z===!0}),Y)}async function Dt(Y,ee,oe){k&&k.abort(),k=null,P=Y,N=(oe&&oe.startUninterruptedRevalidation)===!0,rn(V.location,V.matches),D=(oe&&oe.preventScrollReset)===!0,z=(oe&&oe.enableViewTransition)===!0;let ve=d||u,Ce=oe&&oe.overrideNavigation,Ue=oe?.initialHydration&&V.matches&&V.matches.length>0&&!O?V.matches:kr(ve,ee,f),ze=(oe&&oe.flushSync)===!0;if(Ue&&V.initialized&&!J&&iP(V.location,ee)&&!(oe&&oe.submission&&ur(oe.submission.formMethod))){Ct(ee,{matches:Ue},{flushSync:ze});return}let Ve=Ur(Ue,ve,ee.pathname);if(Ve.active&&Ve.matches&&(Ue=Ve.matches),!Ue){let{error:en,notFoundMatches:lt,route:kt}=da(ee.pathname);Ct(ee,{matches:lt,loaderData:{},errors:{[kt.id]:en}},{flushSync:ze});return}k=new AbortController;let Qe=eu(t.history,ee,k.signal,oe&&oe.submission),Ke=t.getContext?await t.getContext():new Qi,Fe;if(oe&&oe.pendingError)Fe=[vi(Ue).route.id,{type:"error",error:oe.pendingError}];else if(oe&&oe.submission&&ur(oe.submission.formMethod)){let en=await gt(Qe,ee,oe.submission,Ue,Ke,Ve.active,oe&&oe.initialHydration===!0,{replace:oe.replace,flushSync:ze});if(en.shortCircuited)return;if(en.pendingActionResult){let[lt,kt]=en.pendingActionResult;if(qn(kt)&&xn(kt.error)&&kt.error.status===404){k=null,Ct(ee,{matches:en.matches,loaderData:{},errors:{[lt]:kt.error}});return}}Ue=en.matches||Ue,Fe=en.pendingActionResult,Ce=cv(ee,oe.submission),ze=!1,Ve.active=!1,Qe=eu(t.history,Qe.url,Qe.signal)}let{shortCircuited:He,matches:ct,loaderData:St,errors:Ht}=await Dn(Qe,ee,Ue,Ke,Ve.active,Ce,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,ze,Fe);He||(k=null,Ct(ee,{matches:ct||Ue,...jT(Fe),loaderData:St,errors:Ht}))}async function gt(Y,ee,oe,ve,Ce,Ue,ze,Ve={}){ye();let Qe=oP(ee,oe);if(ft({navigation:Qe},{flushSync:Ve.flushSync===!0}),Ue){let He=await Fr(ve,ee.pathname,Y.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:St,route:Ht}=su(u);return{matches:St,pendingActionResult:[Ht.id,{type:"error",error:He.error}]}}let ct=vi(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[ct,{type:"error",error:He.error}]}}else if(He.matches)ve=He.matches;else{let{notFoundMatches:ct,error:St,route:Ht}=da(ee.pathname);return{matches:ct,pendingActionResult:[Ht.id,{type:"error",error:St}]}}}let Ke,Fe=cu(ve,ee);if(!Fe.route.action&&!Fe.route.lazy)Ke={type:"error",error:Rn(405,{method:Y.method,pathname:ee.pathname,routeId:Fe.route.id})};else{let He=js(a,o,Y,ve,Fe,ze?[]:r,Ce),ct=await we(Y,He,Ce,null);if(Ke=ct[Fe.route.id],!Ke){for(let St of ve)if(ct[St.route.id]){Ke=ct[St.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(ks(Ke)){let He;return Ve&&Ve.replace!=null?He=Ve.replace:He=kT(Ke.response.headers.get("Location"),new URL(Y.url),f)===V.location.pathname+V.location.search,await X(Y,Ke,!0,{submission:oe,replace:He}),{shortCircuited:!0}}if(qn(Ke)){let He=vi(ve,Fe.route.id);return(Ve&&Ve.replace)!==!0&&(P="PUSH"),{matches:ve,pendingActionResult:[He.route.id,Ke,Fe.route.id]}}return{matches:ve,pendingActionResult:[Fe.route.id,Ke]}}async function Dn(Y,ee,oe,ve,Ce,Ue,ze,Ve,Qe,Ke,Fe,He){let ct=Ue||cv(ee,ze),St=ze||Ve||UT(ct),Ht=!N&&!Ke;if(Ce){if(Ht){let tn=Nt(He);ft({navigation:ct,...tn!==void 0?{actionData:tn}:{}},{flushSync:Fe})}let ut=await Fr(oe,ee.pathname,Y.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){if(ut.partialMatches.length===0){let{matches:Br,route:Qn}=su(u);return{matches:Br,loaderData:{},errors:{[Qn.id]:ut.error}}}let tn=vi(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[tn]:ut.error}}}else if(ut.matches)oe=ut.matches;else{let{error:tn,notFoundMatches:Br,route:Qn}=da(ee.pathname);return{matches:Br,loaderData:{},errors:{[Qn.id]:tn}}}}let en=d||u,{dsMatches:lt,revalidatingFetchers:kt}=xT(Y,ve,a,o,t.history,V,oe,St,ee,Ke?[]:r,Ke===!0,J,me,fe,se,q,en,f,t.patchRoutesOnNavigation!=null,He);if(pe=++ue,!t.dataStrategy&&!lt.some(ut=>ut.shouldLoad)&&!lt.some(ut=>ut.route.middleware)&&kt.length===0){let ut=Yn();return Ct(ee,{matches:oe,loaderData:{},errors:He&&qn(He[1])?{[He[0]]:He[1].error}:null,...jT(He),...ut?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Fe}),{shortCircuited:!0}}if(Ht){let ut={};if(!Ce){ut.navigation=ct;let tn=Nt(He);tn!==void 0&&(ut.actionData=tn)}kt.length>0&&(ut.fetchers=Ae(kt)),ft(ut,{flushSync:Fe})}kt.forEach(ut=>{cn(ut.key),ut.controller&&K.set(ut.key,ut.controller)});let vr=()=>kt.forEach(ut=>cn(ut.key));k&&k.signal.addEventListener("abort",vr);let{loaderResults:rr,fetcherResults:Nn}=await be(lt,kt,Y,ve);if(Y.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",vr),kt.forEach(ut=>K.delete(ut.key));let Un=Gh(rr);if(Un)return await X(Y,Un.result,!0,{replace:Qe}),{shortCircuited:!0};if(Un=Gh(Nn),Un)return q.add(Un.key),await X(Y,Un.result,!0,{replace:Qe}),{shortCircuited:!0};let{loaderData:Cr,errors:ai}=LT(V,oe,rr,He,kt,Nn);Ke&&V.errors&&(ai={...V.errors,...ai});let bi=Yn(),si=pr(pe),oi=bi||si||kt.length>0;return{matches:oe,loaderData:Cr,errors:ai,...oi?{fetchers:new Map(V.fetchers)}:{}}}function Nt(Y){if(Y&&!qn(Y[1]))return{[Y[0]]:Y[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Ae(Y){return Y.forEach(ee=>{let oe=V.fetchers.get(ee.key),ve=rd(void 0,oe?oe.data:void 0);V.fetchers.set(ee.key,ve)}),new Map(V.fetchers)}async function ge(Y,ee,oe,ve){cn(Y);let Ce=(ve&&ve.flushSync)===!0,Ue=d||u,ze=Kv(V.location,V.matches,f,oe,ee,ve?.relative),Ve=kr(Ue,ze,f),Qe=Ur(Ve,Ue,ze);if(Qe.active&&Qe.matches&&(Ve=Qe.matches),!Ve){je(Y,ee,Rn(404,{pathname:ze}),{flushSync:Ce});return}let{path:Ke,submission:Fe,error:He}=CT(!0,ze,ve);if(He){je(Y,ee,He,{flushSync:Ce});return}let ct=t.getContext?await t.getContext():new Qi,St=(ve&&ve.preventScrollReset)===!0;if(Fe&&ur(Fe.formMethod)){await F(Y,ee,Ke,Ve,ct,Qe.active,Ce,St,Fe);return}se.set(Y,{routeId:ee,path:Ke}),await Q(Y,ee,Ke,Ve,ct,Qe.active,Ce,St,Fe)}async function F(Y,ee,oe,ve,Ce,Ue,ze,Ve,Qe){ye(),se.delete(Y);let Ke=V.fetchers.get(Y);Se(Y,lP(Qe,Ke),{flushSync:ze});let Fe=new AbortController,He=eu(t.history,oe,Fe.signal,Qe);if(Ue){let Kt=await Fr(ve,new URL(He.url).pathname,He.signal,Y);if(Kt.type==="aborted")return;if(Kt.type==="error"){je(Y,ee,Kt.error,{flushSync:ze});return}else if(Kt.matches)ve=Kt.matches;else{je(Y,ee,Rn(404,{pathname:oe}),{flushSync:ze});return}}let ct=cu(ve,oe);if(!ct.route.action&&!ct.route.lazy){let Kt=Rn(405,{method:Qe.formMethod,pathname:oe,routeId:ee});je(Y,ee,Kt,{flushSync:ze});return}K.set(Y,Fe);let St=ue,Ht=js(a,o,He,ve,ct,r,Ce),lt=(await we(He,Ht,Ce,Y))[ct.route.id];if(He.signal.aborted){K.get(Y)===Fe&&K.delete(Y);return}if(fe.has(Y)){if(ks(lt)||qn(lt)){Se(Y,Cs(void 0));return}}else{if(ks(lt))if(K.delete(Y),pe>St){Se(Y,Cs(void 0));return}else return q.add(Y),Se(Y,rd(Qe)),X(He,lt,!1,{fetcherSubmission:Qe,preventScrollReset:Ve});if(qn(lt)){je(Y,ee,lt.error);return}}let kt=V.navigation.location||V.location,vr=eu(t.history,kt,Fe.signal),rr=d||u,Nn=V.navigation.state!=="idle"?kr(rr,V.navigation.location,f):V.matches;qe(Nn,"Didn't find any matches after fetcher action");let Un=++ue;xe.set(Y,Un);let Cr=rd(Qe,lt.data);V.fetchers.set(Y,Cr);let{dsMatches:ai,revalidatingFetchers:bi}=xT(vr,Ce,a,o,t.history,V,Nn,Qe,kt,r,!1,J,me,fe,se,q,rr,f,t.patchRoutesOnNavigation!=null,[ct.route.id,lt]);bi.filter(Kt=>Kt.key!==Y).forEach(Kt=>{let Si=Kt.key,hl=V.fetchers.get(Si),zr=rd(void 0,hl?hl.data:void 0);V.fetchers.set(Si,zr),cn(Si),Kt.controller&&K.set(Si,Kt.controller)}),ft({fetchers:new Map(V.fetchers)});let si=()=>bi.forEach(Kt=>cn(Kt.key));Fe.signal.addEventListener("abort",si);let{loaderResults:oi,fetcherResults:ut}=await be(ai,bi,vr,Ce);if(Fe.signal.aborted)return;if(Fe.signal.removeEventListener("abort",si),xe.delete(Y),K.delete(Y),bi.forEach(Kt=>K.delete(Kt.key)),V.fetchers.has(Y)){let Kt=Cs(lt.data);V.fetchers.set(Y,Kt)}let tn=Gh(oi);if(tn)return X(vr,tn.result,!1,{preventScrollReset:Ve});if(tn=Gh(ut),tn)return q.add(tn.key),X(vr,tn.result,!1,{preventScrollReset:Ve});let{loaderData:Br,errors:Qn}=LT(V,Nn,oi,void 0,bi,ut);pr(Un),V.navigation.state==="loading"&&Un>pe?(qe(P,"Expected pending action"),k&&k.abort(),Ct(V.navigation.location,{matches:Nn,loaderData:Br,errors:Qn,fetchers:new Map(V.fetchers)})):(ft({errors:Qn,loaderData:VT(V.loaderData,Br,Nn,Qn),fetchers:new Map(V.fetchers)}),J=!1)}async function Q(Y,ee,oe,ve,Ce,Ue,ze,Ve,Qe){let Ke=V.fetchers.get(Y);Se(Y,rd(Qe,Ke?Ke.data:void 0),{flushSync:ze});let Fe=new AbortController,He=eu(t.history,oe,Fe.signal);if(Ue){let kt=await Fr(ve,new URL(He.url).pathname,He.signal,Y);if(kt.type==="aborted")return;if(kt.type==="error"){je(Y,ee,kt.error,{flushSync:ze});return}else if(kt.matches)ve=kt.matches;else{je(Y,ee,Rn(404,{pathname:oe}),{flushSync:ze});return}}let ct=cu(ve,oe);K.set(Y,Fe);let St=ue,Ht=js(a,o,He,ve,ct,r,Ce),lt=(await we(He,Ht,Ce,Y))[ct.route.id];if(K.get(Y)===Fe&&K.delete(Y),!He.signal.aborted){if(fe.has(Y)){Se(Y,Cs(void 0));return}if(ks(lt))if(pe>St){Se(Y,Cs(void 0));return}else{q.add(Y),await X(He,lt,!1,{preventScrollReset:Ve});return}if(qn(lt)){je(Y,ee,lt.error);return}Se(Y,Cs(lt.data))}}async function X(Y,ee,oe,{submission:ve,fetcherSubmission:Ce,preventScrollReset:Ue,replace:ze}={}){ee.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ve=ee.response.headers.get("Location");qe(Ve,"Expected a Location header on the redirect Response"),Ve=kT(Ve,new URL(Y.url),f);let Qe=Ua(V.location,Ve,{_isRedirect:!0});if(n){let Ht=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(G_(Ve)){const en=qC(Ve,!0);Ht=en.origin!==e.location.origin||Ln(en.pathname,f)==null}if(Ht){ze?e.location.replace(Ve):e.location.assign(Ve);return}}k=null;let Ke=ze===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:He,formEncType:ct}=V.navigation;!ve&&!Ce&&Fe&&He&&ct&&(ve=UT(V.navigation));let St=ve||Ce;if(Qk.has(ee.response.status)&&St&&ur(St.formMethod))await Dt(Ke,Qe,{submission:{...St,formAction:Ve},preventScrollReset:Ue||D,enableViewTransition:oe?z:void 0});else{let Ht=cv(Qe,ve);await Dt(Ke,Qe,{overrideNavigation:Ht,fetcherSubmission:Ce,preventScrollReset:Ue||D,enableViewTransition:oe?z:void 0})}}async function we(Y,ee,oe,ve){let Ce,Ue={};try{Ce=await px(h,Y,ee,ve,oe,!1)}catch(ze){return ee.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{Ue[Ve.route.id]={type:"error",error:ze}}),Ue}if(Y.signal.aborted)return Ue;for(let[ze,Ve]of Object.entries(Ce))if(bx(Ve)){let Qe=Ve.result;Ue[ze]={type:"redirect",response:vx(Qe,Y,ze,ee,f)}}else Ue[ze]=await yx(Ve);return Ue}async function be(Y,ee,oe,ve){let Ce=we(oe,Y,ve,null),Ue=Promise.all(ee.map(async Qe=>{if(Qe.matches&&Qe.match&&Qe.request&&Qe.controller){let Fe=(await we(Qe.request,Qe.matches,ve,Qe.key))[Qe.match.route.id];return{[Qe.key]:Fe}}else return Promise.resolve({[Qe.key]:{type:"error",error:Rn(404,{pathname:Qe.path})}})})),ze=await Ce,Ve=(await Ue).reduce((Qe,Ke)=>Object.assign(Qe,Ke),{});return{loaderResults:ze,fetcherResults:Ve}}function ye(){J=!0,se.forEach((Y,ee)=>{K.has(ee)&&me.add(ee),cn(ee)})}function Se(Y,ee,oe={}){V.fetchers.set(Y,ee),ft({fetchers:new Map(V.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function je(Y,ee,oe,ve={}){let Ce=vi(V.matches,ee);xt(Y),ft({errors:{[Ce.route.id]:oe},fetchers:new Map(V.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function it(Y){return Te.set(Y,(Te.get(Y)||0)+1),fe.has(Y)&&fe.delete(Y),V.fetchers.get(Y)||pp}function xt(Y){let ee=V.fetchers.get(Y);K.has(Y)&&!(ee&&ee.state==="loading"&&xe.has(Y))&&cn(Y),se.delete(Y),xe.delete(Y),q.delete(Y),fe.delete(Y),me.delete(Y),V.fetchers.delete(Y)}function ji(Y){let ee=(Te.get(Y)||0)-1;ee<=0?(Te.delete(Y),fe.add(Y)):Te.set(Y,ee),ft({fetchers:new Map(V.fetchers)})}function cn(Y){let ee=K.get(Y);ee&&(ee.abort(),K.delete(Y))}function ca(Y){for(let ee of Y){let oe=it(ee),ve=Cs(oe.data);V.fetchers.set(ee,ve)}}function Yn(){let Y=[],ee=!1;for(let oe of q){let ve=V.fetchers.get(oe);qe(ve,`Expected fetcher: ${oe}`),ve.state==="loading"&&(q.delete(oe),Y.push(oe),ee=!0)}return ca(Y),ee}function pr(Y){let ee=[];for(let[oe,ve]of xe)if(ve<Y){let Ce=V.fetchers.get(oe);qe(Ce,`Expected fetcher: ${oe}`),Ce.state==="loading"&&(cn(oe),xe.delete(oe),ee.push(oe))}return ca(ee),ee.length>0}function gr(Y,ee){let oe=V.blockers.get(Y)||Is;return Re.get(Y)!==ee&&Re.set(Y,ee),oe}function jn(Y){V.blockers.delete(Y),Re.delete(Y)}function yr(Y,ee){let oe=V.blockers.get(Y)||Is;qe(oe.state==="unblocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="proceeding"||oe.state==="blocked"&&ee.state==="unblocked"||oe.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${oe.state} -> ${ee.state}`);let ve=new Map(V.blockers);ve.set(Y,ee),ft({blockers:ve})}function ii({currentLocation:Y,nextLocation:ee,historyAction:oe}){if(Re.size===0)return;Re.size>1&&Gt(!1,"A router only supports one blocker at a time");let ve=Array.from(Re.entries()),[Ce,Ue]=ve[ve.length-1],ze=V.blockers.get(Ce);if(!(ze&&ze.state==="proceeding")&&Ue({currentLocation:Y,nextLocation:ee,historyAction:oe}))return Ce}function da(Y){let ee=Rn(404,{pathname:Y}),oe=d||u,{matches:ve,route:Ce}=su(oe);return{notFoundMatches:ve,route:Ce,error:ee}}function Ui(Y,ee,oe){if(b=Y,x=ee,T=oe||null,!R&&V.navigation===_d){R=!0;let ve=ho(V.location,V.matches);ve!=null&&ft({restoreScrollPosition:ve})}return()=>{b=null,x=null,T=null}}function fa(Y,ee){return T&&T(Y,ee.map(ve=>KC(ve,V.loaderData)))||Y.key}function rn(Y,ee){if(b&&x){let oe=fa(Y,ee);b[oe]=x()}}function ho(Y,ee){if(b){let oe=fa(Y,ee),ve=b[oe];if(typeof ve=="number")return ve}return null}function Ur(Y,ee,oe){if(t.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:dm(ee,oe,f,!0)}}else return{active:!0,matches:dm(ee,oe,f,!0)||[]};return{active:!1,matches:null}}async function Fr(Y,ee,oe,ve){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Y};let Ce=Y;for(;;){let Ue=d==null,ze=d||u,Ve=o;try{await t.patchRoutesOnNavigation({signal:oe,path:ee,matches:Ce,fetcherKey:ve,patch:(Fe,He)=>{oe.aborted||IT(Fe,He,ze,Ve,a,!1)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:Ce}}finally{Ue&&!oe.aborted&&(u=[...u])}if(oe.aborted)return{type:"aborted"};let Qe=kr(ze,ee,f);if(Qe)return{type:"success",matches:Qe};let Ke=dm(ze,ee,f,!0);if(!Ke||Ce.length===Ke.length&&Ce.every((Fe,He)=>Fe.route.id===Ke[He].route.id))return{type:"success",matches:null};Ce=Ke}}function mo(Y){o={},d=Ys(Y,a,void 0,o)}function po(Y,ee,oe=!1){let ve=d==null;IT(Y,ee,d||u,o,a,oe),ve&&(u=[...u],ft({}))}return M={get basename(){return f},get future(){return g},get state(){return V},get routes(){return u},get window(){return e},initialize:pt,subscribe:Mt,enableScrollRestoration:Ui,navigate:Zt,fetch:ge,revalidate:un,createHref:Y=>t.history.createHref(Y),encodeLocation:Y=>t.history.encodeLocation(Y),getFetcher:it,deleteFetcher:ji,dispose:st,getBlocker:gr,deleteBlocker:jn,patchRoutes:po,_internalFetchControllers:K,_internalSetRoutes:mo,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){ft(Y)}},M}function lx(t,e){qe(t.length>0,"You must provide a non-empty routes array to createStaticHandler");let n={},r=(e?e.basename:null)||"/",a=e?.mapRouteProperties||ax,o=Ys(t,a,void 0,n);async function u(v,{requestContext:b,filterMatchesToLoad:T,skipLoaderErrorBubbling:x,skipRevalidation:R,dataStrategy:I,generateMiddlewareResponse:O}={}){let B=new URL(v.url),j=v.method,M=Ua("",Ar(B),null,"default"),V=kr(o,M,r);if(b=b??new Qi,!Jv(j)&&j!=="HEAD"){let D=Rn(405,{method:j}),{matches:k,route:z}=su(o),H={basename:r,location:M,matches:k,loaderData:{},actionData:null,errors:{[z.id]:D},statusCode:D.status,loaderHeaders:{},actionHeaders:{}};return O?O(()=>Promise.resolve(H)):H}else if(!V){let D=Rn(404,{pathname:M.pathname}),{matches:k,route:z}=su(o),H={basename:r,location:M,matches:k,loaderData:{},actionData:null,errors:{[z.id]:D},statusCode:D.status,loaderHeaders:{},actionHeaders:{}};return O?O(()=>Promise.resolve(H)):H}if(O){qe(b instanceof Qi,"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`");try{await OT(V,n,a);let D,k=await MT({request:v,matches:V,params:V[0].params,context:b},async()=>await O(async(H,$={})=>{let N=await f(H,M,V,b,I||null,x===!0,null,"filterMatchesToLoad"in $?$.filterMatchesToLoad??null:T??null,R===!0);return on(N)?N:(D={location:M,basename:r,...N},D)}),async(z,H)=>{if(Dm(z))return z;if(on(z))try{z=new Kn(z.status,z.statusText,await gx(z))}catch($){z=$}if(Us(z)&&(z=aP(z)),D){H in D.loaderData&&(D.loaderData[H]=void 0);let $=ux(o,D,z,x?H:vi(V,H).route.id);return O(()=>Promise.resolve($))}else{let $=x?H:vi(V,V.find(J=>J.route.id===H||J.route.loader)?.route.id||H).route.id,N={matches:V,location:M,basename:r,loaderData:{},actionData:null,errors:{[$]:z},statusCode:xn(z)?z.status:500,actionHeaders:{},loaderHeaders:{}};return O(()=>Promise.resolve(N))}});return qe(on(k),"Expected a response in query()"),k}catch(D){if(on(D))return D;throw D}}let P=await f(v,M,V,b,I||null,x===!0,null,T||null,R===!0);return on(P)?P:{location:M,basename:r,...P}}async function d(v,{routeId:b,requestContext:T,dataStrategy:x,generateMiddlewareResponse:R}={}){let I=new URL(v.url),O=v.method,B=Ua("",Ar(I),null,"default"),j=kr(o,B,r);if(T=T??new Qi,!Jv(O)&&O!=="HEAD"&&O!=="OPTIONS")throw Rn(405,{method:O});if(!j)throw Rn(404,{pathname:B.pathname});let M=b?j.find(D=>D.route.id===b):cu(j,B);if(b&&!M)throw Rn(403,{pathname:B.pathname,routeId:b});if(!M)throw Rn(404,{pathname:B.pathname});if(R)return qe(T instanceof Qi,"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`"),await OT(j,n,a),await MT({request:v,matches:j,params:j[0].params,context:T},async()=>await R(async z=>{let H=await f(z,B,j,T,x||null,!1,M,null,!1),$=P(H);return on($)?$:typeof $=="string"?new Response($):Response.json($)}),k=>{if(Us(k))return Promise.resolve(Xv(k));if(on(k))return Promise.resolve(k);throw k});let V=await f(v,B,j,T,x||null,!1,M,null,!1);return P(V);function P(D){if(on(D))return D;let k=D.errors?Object.values(D.errors)[0]:void 0;if(k!==void 0)throw k;if(D.actionData)return Object.values(D.actionData)[0];if(D.loaderData)return Object.values(D.loaderData)[0]}}async function f(v,b,T,x,R,I,O,B,j){qe(v.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(ur(v.method))return await h(v,T,O||cu(T,b),x,R,I,O!=null,B,j);let M=await g(v,T,x,R,I,O,B);return on(M)?M:{...M,actionData:null,actionHeaders:{}}}catch(M){if(wx(M)&&on(M.result)){if(M.type==="error")throw M.result;return M.result}if(Dm(M))return M;throw M}}async function h(v,b,T,x,R,I,O,B,j){let M;if(!T.route.action&&!T.route.lazy){let D=Rn(405,{method:v.method,pathname:new URL(v.url).pathname,routeId:T.route.id});if(O)throw D;M={type:"error",error:D}}else{let D=js(a,n,v,b,T,[],x);M=(await _(v,D,O,x,R))[T.route.id],v.signal.aborted&&AT(v,O)}if(ks(M))throw new Response(null,{status:M.response.status,headers:{Location:M.response.headers.get("Location")}});if(O){if(qn(M))throw M.error;return{matches:[T],loaderData:{},actionData:{[T.route.id]:M.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}if(j)if(qn(M)){let D=I?T:vi(b,T.route.id);return{statusCode:xn(M.error)?M.error.status:M.statusCode!=null?M.statusCode:500,actionData:null,actionHeaders:{...M.headers?{[T.route.id]:M.headers}:{}},matches:b,loaderData:{},errors:{[D.route.id]:M.error},loaderHeaders:{}}}else return{actionData:{[T.route.id]:M.data},actionHeaders:M.headers?{[T.route.id]:M.headers}:{},matches:b,loaderData:{},errors:null,statusCode:M.statusCode||200,loaderHeaders:{}};let V=new Request(v.url,{headers:v.headers,redirect:v.redirect,signal:v.signal});if(qn(M)){let D=I?T:vi(b,T.route.id);return{...await g(V,b,x,R,I,null,B,[D.route.id,M]),statusCode:xn(M.error)?M.error.status:M.statusCode!=null?M.statusCode:500,actionData:null,actionHeaders:{...M.headers?{[T.route.id]:M.headers}:{}}}}return{...await g(V,b,x,R,I,null,B),actionData:{[T.route.id]:M.data},...M.statusCode?{statusCode:M.statusCode}:{},actionHeaders:M.headers?{[T.route.id]:M.headers}:{}}}async function g(v,b,T,x,R,I,O,B){let j=I!=null;if(j&&!I?.route.loader&&!I?.route.lazy)throw Rn(400,{method:v.method,pathname:new URL(v.url).pathname,routeId:I?.route.id});let M;if(I)M=js(a,n,v,b,I,[],T);else{let D=B&&qn(B[1])?b.findIndex(k=>k.route.id===B[0])-1:void 0;M=b.map((k,z)=>D!=null&&z>D?Nd(a,n,v,k,[],T,!1):Nd(a,n,v,k,[],T,(k.route.loader||k.route.lazy)!=null&&(!O||O(k))))}if(!x&&!M.some(D=>D.shouldLoad))return{matches:b,loaderData:{},errors:B&&qn(B[1])?{[B[0]]:B[1].error}:null,statusCode:200,loaderHeaders:{}};let V=await _(v,M,j,T,x);return v.signal.aborted&&AT(v,j),{..._x(b,V,B,!0,R),matches:b}}async function _(v,b,T,x,R){let I=await px(R||Qv,v,b,null,x,!0),O={};return await Promise.all(b.map(async B=>{if(!(B.route.id in I))return;let j=I[B.route.id];if(bx(j)){let M=j.result;throw vx(M,v,B.route.id,b,r)}if(T){if(on(j.result))throw j;if(Us(j.result))throw Xv(j.result)}O[B.route.id]=await yx(j)})),O}return{dataRoutes:o,query:u,queryRoute:d}}function ux(t,e,n,r){let a=r||e._deepestRenderedBoundaryId||t[0].id;return{...e,statusCode:xn(n)?n.status:500,errors:{[a]:n}}}function AT(t,e){if(t.signal.reason!==void 0)throw t.signal.reason;let n=e?"queryRoute":"query";throw new Error(`${n}() call aborted without an \`AbortSignal.reason\`: ${t.method} ${t.url}`)}function Xk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Kv(t,e,n,r,a,o){let u,d;if(a){u=[];for(let h of e)if(u.push(h),h.route.id===a){d=h;break}}else u=e,d=e[e.length-1];let f=mp(r||".",hp(u),Ln(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&d){let h=Y_(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let g=new URLSearchParams(f.search),_=g.getAll("index");g.delete("index"),_.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=Fk({basename:n,pathname:f.pathname})),Ar(f)}function CT(t,e,n){if(!n||!Xk(n))return{path:e};if(n.formMethod&&!Jv(n.formMethod))return{path:e,error:Rn(405,{method:n.formMethod})};let r=()=>({path:e,error:Rn(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=Ex(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ur(o))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[b,T])=>`${v}${b}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!ur(o))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}qe(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=Wv(n.formData),f=n.formData;else if(n.body instanceof FormData)d=Wv(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=PT(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=PT(d)}catch{return r()}let h={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ur(h.formMethod))return{path:e,submission:h};let g=ri(e);return t&&g.search&&Y_(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Ar(g),submission:h}}function xT(t,e,n,r,a,o,u,d,f,h,g,_,v,b,T,x,R,I,O,B){let j=B?qn(B[1])?B[1].error:B[1].data:void 0,M=a.createURL(o.location),V=a.createURL(f),P;if(g&&o.errors){let N=Object.keys(o.errors)[0];P=u.findIndex(J=>J.route.id===N)}else if(B&&qn(B[1])){let N=B[0];P=u.findIndex(J=>J.route.id===N)-1}let D=B?B[1].statusCode:void 0,k=D&&D>=400,z={currentUrl:M,currentParams:o.matches[0]?.params||{},nextUrl:V,nextParams:u[0].params,...d,actionResult:j,actionStatus:D},H=u.map((N,J)=>{let{route:me}=N,K=null;if(P!=null&&J>P?K=!1:me.lazy?K=!0:me.loader==null?K=!1:g?K=Yv(me,o.loaderData,o.errors):Jk(o.loaderData,o.matches[J],N)&&(K=!0),K!==null)return Nd(n,r,t,N,h,e,K);let ue=k?!1:_||M.pathname+M.search===V.pathname+V.search||M.search!==V.search||Zk(o.matches[J],N),pe={...z,defaultShouldRevalidate:ue},xe=Im(N,pe);return Nd(n,r,t,N,h,e,xe,pe)}),$=[];return T.forEach((N,J)=>{if(g||!u.some(Te=>Te.route.id===N.routeId)||b.has(J))return;let me=o.fetchers.get(J),K=me&&me.state!=="idle"&&me.data===void 0,ue=kr(R,N.path,I);if(!ue){if(O&&K)return;$.push({key:J,routeId:N.routeId,path:N.path,matches:null,match:null,request:null,controller:null});return}if(x.has(J))return;let pe=cu(ue,N.path),xe=new AbortController,q=eu(a,N.path,xe.signal),se=null;if(v.has(J))v.delete(J),se=js(n,r,q,ue,pe,h,e);else if(K)_&&(se=js(n,r,q,ue,pe,h,e));else{let Te={...z,defaultShouldRevalidate:k?!1:_};Im(pe,Te)&&(se=js(n,r,q,ue,pe,h,e,Te))}se&&$.push({key:J,routeId:N.routeId,path:N.path,matches:se,match:pe,request:q,controller:xe})}),{dsMatches:H,revalidatingFetchers:$}}function Yv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function Jk(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function Zk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Im(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function IT(t,e,n,r,a,o){let u;if(t){let h=r[t];qe(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),u=h.children}else u=n;let d=[],f=[];if(e.forEach(h=>{let g=u.find(_=>cx(h,_));g?f.push({existingRoute:g,newRoute:h}):d.push(h)}),d.length>0){let h=Ys(d,a,[t||"_","patch",String(u?.length||"0")],r);u.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:g,newRoute:_}=f[h],v=g,[b]=Ys([_],a,[],{},!0);Object.assign(v,{element:b.element?b.element:v.element,errorElement:b.errorElement?b.errorElement:v.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:v.hydrateFallbackElement})}}function cx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(a=>cx(n,a))):!1}var DT=new WeakMap,K_=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(qe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[t];if(!o)return;let u=DT.get(a);u||(u={},DT.set(a,u));let d=u[t];if(d)return d;let f=(async()=>{let h=Rk(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(h)Gt(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)Gt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await o();v!=null&&(Object.assign(a,{[t]:v}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(v=>v===void 0)&&(a.lazy=void 0))})();return u[t]=f,f},NT=new WeakMap;function eP(t,e,n,r,a){let o=n[t.id];if(qe(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=NT.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let _=(async()=>{qe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),b={};for(let T in v){let x=v[T];if(x===void 0)continue;let R=Ck(T),O=o[T]!==void 0&&T!=="hasErrorBoundary";R?Gt(!R,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?Gt(!O,`Route "${o.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):b[T]=x}Object.assign(o,b),Object.assign(o,{...r(o),lazy:void 0})})();return NT.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),d=[],f;for(let g of u){if(a&&a.includes(g))continue;let _=K_({key:g,route:t,manifest:n,mapRouteProperties:r});_&&(d.push(_),g===e&&(f=_))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function tP(t){return t!==void 0}function OT(t,e,n){let r=t.map(({route:a})=>{if(!(typeof a.lazy!="object"||!a.lazy.middleware))return K_({key:"middleware",route:a,manifest:e,mapRouteProperties:n})}).filter(tP);return r.length>0?Promise.all(r):void 0}async function Qv(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function nP(t){return t.matches.some(e=>e.route.middleware)?dx(t,()=>Qv(t)):Qv(t)}function MT(t,e,n){return fx(t,e,r,on,n);function r(a){return Us(a)?Xv(a):a}}function dx(t,e){return fx(t,e,r=>r,sP,n);function n(r,a,o){if(o)return Promise.resolve(Object.assign(o.value,{[a]:{type:"error",result:r}}));{let{matches:u}=t,d=Math.min(u.findIndex(h=>h.route.id===a)||0,u.findIndex(h=>h.unstable_shouldCallHandler())||0),f=vi(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function fx(t,e,n,r,a){let{matches:o,request:u,params:d,context:f}=t,h=o.flatMap(_=>_.route.middleware?_.route.middleware.map(v=>[_.route.id,v]):[]);return await hx({request:u,params:d,context:f},h,e,n,r,a)}async function hx(t,e,n,r,a,o,u=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=e[u];if(!f)return await n();let[h,g]=f,_,v=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await hx(t,e,n,r,a,o,u+1)},_.value}catch(b){return _={value:await o(b,h,_)},_.value}};try{let b=await g(t,v),T=b!=null?r(b):void 0;return a(T)?T:_?T??_.value:(_={value:await v()},_.value)}catch(b){return await o(b,h,_)}}function mx(t,e,n,r,a){let o=K_({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=eP(r.route,ur(n.method)?"action":"loader",e,t,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Nd(t,e,n,r,a,o,u,d=null){let f=!1,h=mx(t,e,n,r,a);return{...r,_lazyPromises:h,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return f=!0,d?typeof g=="boolean"?Im(r,{...d,defaultShouldRevalidate:g}):Im(r,d):u},resolve(g){return f||u||g&&!ur(n.method)&&(r.route.lazy||r.route.loader)?rP({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function js(t,e,n,r,a,o,u,d=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:mx(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Nd(t,e,n,f,o,u,!0,d))}async function px(t,e,n,r,a,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:a,matches:n},f=await t({...u,fetcherKey:r,runClientMiddleware:o?()=>{throw new Error("You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:h=>{let g=u;return dx(g,()=>h({...g,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function rP({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,d,f=ur(t.method),h=f?"action":"loader",g=_=>{let v,b=new Promise((R,I)=>v=I);d=()=>v(),t.signal.addEventListener("abort",d);let T=R=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:o},...R!==void 0?[R]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(I=>T(I)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([x,b])};try{let _=f?e.route.action:e.route.loader;if(n||r)if(_){let v,[b]=await Promise.all([g(_).catch(T=>{v=T}),n,r]);if(v!==void 0)throw v;u=b}else{await n;let v=f?e.route.action:e.route.loader;if(v)[u]=await Promise.all([g(v),r]);else if(h==="action"){let b=new URL(t.url),T=b.pathname+b.search;throw Rn(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await g(_);else{let v=new URL(t.url),b=v.pathname+v.search;throw Rn(404,{pathname:b})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function gx(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function yx(t){let{result:e,type:n}=t;if(on(e)){let r;try{r=await gx(e)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new Kn(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?Us(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Kn(e.init?.status||500,void 0,e.data),statusCode:xn(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xn(e)?e.status:void 0}:Us(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vx(t,e,n,r,a){let o=t.headers.get("Location");if(qe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!G_(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===n)+1);o=Kv(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function kT(t,e,n){if(G_(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ln(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function eu(t,e,n,r){let a=t.createURL(Ex(e)).toString(),o={signal:n};if(r&&ur(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=Wv(r.formData):o.body=r.formData}return new Request(a,o)}function Wv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function PT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _x(t,e,n,r=!1,a=!1){let o={},u=null,d,f=!1,h={},g=n&&qn(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let v=_.route.id,b=e[v];if(qe(!ks(b),"Cannot handle redirect results in processLoaderData"),qn(b)){let T=b.error;if(g!==void 0&&(T=g,g=void 0),u=u||{},a)u[v]=T;else{let x=vi(t,v);u[x.route.id]==null&&(u[x.route.id]=T)}r||(o[v]=ox),f||(f=!0,d=xn(b.error)?b.error.status:500),b.headers&&(h[v]=b.headers)}else o[v]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(d=b.statusCode),b.headers&&(h[v]=b.headers)}),g!==void 0&&n&&(u={[n[0]]:g},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:h}}function LT(t,e,n,r,a,o){let{loaderData:u,errors:d}=_x(e,n,r);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:_}=f;if(_&&_.signal.aborted)return;let v=o[h];if(qe(v,"Did not find corresponding fetcher result"),qn(v)){let b=vi(t.matches,g?.route.id);d&&d[b.route.id]||(d={...d,[b.route.id]:v.error}),t.fetchers.delete(h)}else if(ks(v))qe(!1,"Unhandled fetcher revalidation redirect");else{let b=Cs(v.data);t.fetchers.set(h,b)}}),{loaderData:u,errors:d}}function VT(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==ox).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function jT(t){return t?qn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function vi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function su(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rn(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Kn(t||500,u,new Error(d),!0)}function Gh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(ks(a))return{key:r,result:a}}}function Ex(t){let e=typeof t=="string"?ri(t):t;return Ar({...e,hash:""})}function iP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Xv(t){return Response.json(t.data,t.init??void 0)}function aP(t){return new Kn(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function sP(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&wx(n))}function wx(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function bx(t){return on(t.result)&&ix.has(t.result.status)}function qn(t){return t.type==="error"}function ks(t){return(t&&t.type)==="redirect"}function Us(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function on(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gp(t){return ix.has(t)}function Dm(t){return on(t)&&gp(t.status)&&t.headers.has("Location")}function Jv(t){return Yk.has(t.toUpperCase())}function ur(t){return Gk.has(t.toUpperCase())}function Y_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cu(t,e){let n=typeof e=="string"?ri(e).search:e.search;if(t[t.length-1].route.index&&Y_(n||""))return t[t.length-1];let r=ZC(t);return r[r.length-1]}function UT(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function cv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Cs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uP(t,e){try{let n=t.sessionStorage.getItem(sx);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function cP(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(sx,JSON.stringify(n))}catch(r){Gt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function dP(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var oa=E.createContext(null);oa.displayName="DataRouter";var ro=E.createContext(null);ro.displayName="DataRouterState";var Q_=E.createContext(!1);function fP(){return E.useContext(Q_)}var Zd=E.createContext({isTransitioning:!1});Zd.displayName="ViewTransition";var ef=E.createContext(new Map);ef.displayName="Fetchers";var wu=E.createContext(null);wu.displayName="Await";var hP=t=>E.createElement(wu.Provider,t),Vr=E.createContext(null);Vr.displayName="Navigation";var al=E.createContext(null);al.displayName="Location";var jr=E.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var W_=E.createContext(null);W_.displayName="RouteError";function Sx(t,{relative:e}={}){qe(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Vr),{hash:a,pathname:o,search:u}=Uu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Wi([n,o])),r.createHref({pathname:d,search:u,hash:a})}function io(){return E.useContext(al)!=null}function mr(){return qe(io(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(al).location}function mP(){return E.useContext(al).navigationType}function pP(t){qe(io(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=mr();return E.useMemo(()=>Eu(t,XC(e)),[e,t])}var Tx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rx(t){E.useContext(Vr).static||E.useLayoutEffect(t)}function tf(){let{isDataRoute:t}=E.useContext(jr);return t?xP():gP()}function gP(){qe(io(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(oa),{basename:e,navigator:n}=E.useContext(Vr),{matches:r}=E.useContext(jr),{pathname:a}=mr(),o=JSON.stringify(hp(r)),u=E.useRef(!1);return Rx(()=>{u.current=!0}),E.useCallback((f,h={})=>{if(Gt(u.current,Tx),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=mp(f,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wi([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,o,a,t])}var Ax=E.createContext(null);function yP(){return E.useContext(Ax)}function Cx(t){let e=E.useContext(jr).outlet;return e&&E.createElement(Ax.Provider,{value:t},e)}function yp(){let{matches:t}=E.useContext(jr),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=E.useContext(jr),{pathname:r}=mr(),a=JSON.stringify(hp(n));return E.useMemo(()=>mp(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function xx(t,e){return X_(t,e)}function X_(t,e,n,r,a){qe(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Vr),{matches:u}=E.useContext(jr),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",_=d&&d.route;{let O=_&&_.path||"";Mx(h,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=mr(),b;if(e){let O=typeof e=="string"?ri(e):e;qe(g==="/"||O.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=v;let T=b.pathname||"/",x=T;if(g!=="/"){let O=g.replace(/^\//,"").split("/");x="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=kr(t,{pathname:x});Gt(_||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Ix(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Wi([g,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:Wi([g,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,r,a);return e&&I?E.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function vP(){let t=rf(),e=xn(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:a},n):null,u)}var _P=E.createElement(vP,null),EP=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(jr.Provider,{value:this.props.routeContext},E.createElement(W_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wP({routeContext:t,match:e,children:n}){let r=E.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(jr.Provider,{value:t},n)}function Ix(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let h=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let g=o[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:_,errors:v}=n,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,g,_)=>{let v,b=!1,T=null,x=null;n&&(v=u&&g.route.id?u[g.route.id]:void 0,T=g.route.errorElement||_P,d&&(f<0&&_===0?(Mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===_&&(b=!0,x=g.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,_+1)),I=()=>{let O;return v?O=T:b?O=x:g.route.Component?O=E.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=h,E.createElement(wP,{match:g,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?E.createElement(EP,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):I()},null)}function J_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(t){let e=E.useContext(oa);return qe(e,J_(t)),e}function ao(t){let e=E.useContext(ro);return qe(e,J_(t)),e}function bP(t){let e=E.useContext(jr);return qe(e,J_(t)),e}function nf(t){let e=bP(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SP(){return nf("useRouteId")}function Dx(){return ao("useNavigation").navigation}function TP(){let t=Z_("useRevalidator"),e=ao("useRevalidator"),n=E.useCallback(async()=>{await t.router.revalidate()},[t.router]);return E.useMemo(()=>({revalidate:n,state:e.revalidation}),[n,e.revalidation])}function vp(){let{matches:t,loaderData:e}=ao("useMatches");return E.useMemo(()=>t.map(n=>KC(n,e)),[t,e])}function _p(){let t=ao("useLoaderData"),e=nf("useLoaderData");return t.loaderData[e]}function RP(t){return ao("useRouteLoaderData").loaderData[t]}function Ep(){let t=ao("useActionData"),e=nf("useLoaderData");return t.actionData?t.actionData[e]:void 0}function rf(){let t=E.useContext(W_),e=ao("useRouteError"),n=nf("useRouteError");return t!==void 0?t:e.errors?.[n]}function Nx(){return E.useContext(wu)?._data}function AP(){return E.useContext(wu)?._error}var CP=0;function Ox(t){let{router:e,basename:n}=Z_("useBlocker"),r=ao("useBlocker"),[a,o]=E.useState(""),u=E.useCallback(d=>{if(typeof t!="function")return!!t;if(n==="/")return t(d);let{currentLocation:f,nextLocation:h,historyAction:g}=d;return t({currentLocation:{...f,pathname:Ln(f.pathname,n)||f.pathname},nextLocation:{...h,pathname:Ln(h.pathname,n)||h.pathname},historyAction:g})},[n,t]);return E.useEffect(()=>{let d=String(++CP);return o(d),()=>e.deleteBlocker(d)},[e]),E.useEffect(()=>{a!==""&&e.getBlocker(a,u)},[e,a,u]),a&&r.blockers.has(a)?r.blockers.get(a):Is}function xP(){let{router:t}=Z_("useNavigate"),e=nf("useNavigate"),n=E.useRef(!1);return Rx(()=>{n.current=!0}),E.useCallback(async(a,o={})=>{Gt(n.current,Tx),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var FT={};function Mx(t,e,n){!e&&!FT[t]&&(FT[t]=!0,Gt(!1,n))}var BT={};function Od(t,e){!t&&!BT[e]&&(BT[e]=!0,console.warn(e))}function sl(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Gt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:E.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Gt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Gt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var af=["HydrateFallback","hydrateFallbackElement"];function kx(t,e){return ju({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:zC({initialEntries:e?.initialEntries,initialIndex:e?.initialIndex}),hydrationData:e?.hydrationData,routes:t,hydrationRouteProperties:af,mapRouteProperties:sl,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation}).initialize()}var IP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function wp({router:t,flushSync:e,unstable_onError:n}){let[r,a]=E.useState(t.state),[o,u]=E.useState(),[d,f]=E.useState({isTransitioning:!1}),[h,g]=E.useState(),[_,v]=E.useState(),[b,T]=E.useState(),x=E.useRef(new Map),R=E.useCallback(M=>{a(V=>(M.errors&&n&&Object.entries(M.errors).forEach(([P,D])=>{V.errors?.[P]!==D&&n(D)}),M))},[n]),I=E.useCallback((M,{deletedFetchers:V,flushSync:P,viewTransitionOpts:D})=>{M.fetchers.forEach((z,H)=>{z.data!==void 0&&x.current.set(H,z.data)}),V.forEach(z=>x.current.delete(z)),Od(P===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Od(D==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!k){e&&P?e(()=>R(M)):E.startTransition(()=>R(M));return}if(e&&P){e(()=>{_&&(h&&h.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let z=t.window.document.startViewTransition(()=>{e(()=>R(M))});z.finished.finally(()=>{e(()=>{g(void 0),v(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>v(z));return}_?(h&&h.resolve(),_.skipTransition(),T({state:M,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(u(M),f({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,e,_,h,R]);E.useLayoutEffect(()=>t.subscribe(I),[t,I]),E.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new IP)},[d]),E.useEffect(()=>{if(h&&o&&t.window){let M=o,V=h.promise,P=t.window.document.startViewTransition(async()=>{E.startTransition(()=>R(M)),await V});P.finished.finally(()=>{g(void 0),v(void 0),u(void 0),f({isTransitioning:!1})}),v(P)}},[o,h,t.window,R]),E.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,_,r.location,o]),E.useEffect(()=>{!d.isTransitioning&&b&&(u(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[d.isTransitioning,b]);let O=E.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,V,P)=>t.navigate(M,{state:V,preventScrollReset:P?.preventScrollReset}),replace:(M,V,P)=>t.navigate(M,{replace:!0,state:V,preventScrollReset:P?.preventScrollReset})}),[t]),B=t.basename||"/",j=E.useMemo(()=>({router:t,navigator:O,static:!1,basename:B,unstable_onError:n}),[t,O,B,n]);return E.createElement(E.Fragment,null,E.createElement(oa.Provider,{value:j},E.createElement(ro.Provider,{value:r},E.createElement(ef.Provider,{value:x.current},E.createElement(Zd.Provider,{value:d},E.createElement(so,{basename:B,location:r.location,navigationType:r.historyAction,navigator:O},E.createElement(DP,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var DP=E.memo(NP);function NP({routes:t,future:e,state:n,unstable_onError:r}){return X_(t,void 0,n,r,e)}function OP({basename:t,children:e,initialEntries:n,initialIndex:r}){let a=E.useRef();a.current==null&&(a.current=zC({initialEntries:n,initialIndex:r,v5Compat:!0}));let o=a.current,[u,d]=E.useState({action:o.action,location:o.location}),f=E.useCallback(h=>{E.startTransition(()=>d(h))},[d]);return E.useLayoutEffect(()=>o.listen(f),[o,f]),E.createElement(so,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}function Px({to:t,replace:e,state:n,relative:r}){qe(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(Vr);Gt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(jr),{pathname:u}=mr(),d=tf(),f=mp(t,hp(o),u,r==="path"),h=JSON.stringify(f);return E.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function Lx(t){return Cx(t.context)}function Ki(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function so({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){qe(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=ri(n));let{pathname:f="/",search:h="",hash:g="",state:_=null,key:v="default"}=n,b=E.useMemo(()=>{let T=Ln(f,u);return T==null?null:{location:{pathname:T,search:h,hash:g,state:_,key:v},navigationType:r}},[u,f,h,g,_,v,r]);return Gt(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(Vr.Provider,{value:d},E.createElement(al.Provider,{children:e,value:b}))}function Vx({children:t,location:e}){return xx(Md(t),e)}function MP({children:t,errorElement:e,resolve:n}){let r=E.useContext(oa);return E.createElement(kP,{resolve:n,errorElement:e,unstable_onError:r?.unstable_onError},E.createElement(PP,null,t))}var kP=class extends E.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,r=null,a=0;if(!(n instanceof Promise))a=1,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});else if(this.state.error){a=2;let o=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>o})}else n._tracked?(r=n,a="_error"in r?2:"_data"in r?1:0):(a=0,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then(o=>Object.defineProperty(n,"_data",{get:()=>o}),o=>{this.props.unstable_onError?.(o),Object.defineProperty(n,"_error",{get:()=>o})}));if(a===2&&!e)throw r._error;if(a===2)return E.createElement(wu.Provider,{value:r,children:e});if(a===1)return E.createElement(wu.Provider,{value:r,children:t});throw r}};function PP({children:t}){let e=Nx(),n=typeof t=="function"?t(e):t;return E.createElement(E.Fragment,null,n)}function Md(t,e=[]){let n=[];return E.Children.forEach(t,(r,a)=>{if(!E.isValidElement(r))return;let o=[...e,a];if(r.type===E.Fragment){n.push.apply(n,Md(r.props.children,o));return}qe(r.type===Ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Md(r.props.children,o)),n.push(u)}),n}var LP=Md;function VP(t){return Ix(t)}function jx(){return{params:yp(),loaderData:_p(),actionData:Ep(),matches:vp()}}function jP({children:t}){const e=jx();return E.cloneElement(t,e)}function Ux(t){return function(){const n=jx();return E.createElement(t,n)}}function Fx(){return{params:yp(),loaderData:_p(),actionData:Ep()}}function UP({children:t}){const e=Fx();return E.cloneElement(t,e)}function Bx(t){return function(){const n=Fx();return E.createElement(t,n)}}function zx(){return{params:yp(),loaderData:_p(),actionData:Ep(),error:rf()}}function FP({children:t}){const e=zx();return E.cloneElement(t,e)}function Hx(t){return function(){const n=zx();return E.createElement(t,n)}}var fm="get",hm="application/x-www-form-urlencoded";function bp(t){return t!=null&&typeof t.tagName=="string"}function BP(t){return bp(t)&&t.tagName.toLowerCase()==="button"}function zP(t){return bp(t)&&t.tagName.toLowerCase()==="form"}function HP(t){return bp(t)&&t.tagName.toLowerCase()==="input"}function $P(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qP(t,e){return t.button===0&&(!e||e==="_self")&&!$P(t)}function Nm(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function GP(t,e){let n=Nm(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Kh=null;function KP(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var YP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dv(t){return t!=null&&!YP.has(t)?(Gt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hm}"`),null):t}function QP(t,e){let n,r,a,o,u;if(zP(t)){let d=t.getAttribute("action");r=d?Ln(d,e):null,n=t.getAttribute("method")||fm,a=dv(t.getAttribute("enctype"))||hm,o=new FormData(t)}else if(BP(t)||HP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ln(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||fm,a=dv(t.getAttribute("formenctype"))||dv(d.getAttribute("enctype"))||hm,o=new FormData(d,t),!KP()){let{name:h,type:g,value:_}=t;if(g==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,_)}}else{if(bp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fm,r=null,a=hm,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}var $x=-1,qx=-2,Gx=-3,Kx=-4,eE=-5,Yx=-6,Qx=-7,Wx="B",Xx="D",du="E",Zv="M",Jx="N",fu="P",Zx="R",e_="S",e1="Y",t1="U",t_="Z",n1=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};function WP(){const t=new TextDecoder;let e="";return new TransformStream({transform(n,r){const a=t.decode(n,{stream:!0}),o=(e+a).split(`
`);e=o.pop()||"";for(const u of o)r.enqueue(u)},flush(n){e&&n.enqueue(e)}})}function yi(t){const{indices:e}=this,n=e.get(t);if(n)return[n];if(t===void 0)return Qx;if(t===null)return eE;if(Number.isNaN(t))return qx;if(t===Number.POSITIVE_INFINITY)return Yx;if(t===Number.NEGATIVE_INFINITY)return Gx;if(t===0&&1/t<0)return Kx;const r=this.index++;return e.set(t,r),XP.call(this,t,r),r}function XP(t,e){const{deferred:n,plugins:r,postPlugins:a}=this,o=this.stringified,u=[[t,e]];for(;u.length>0;){const[d,f]=u.pop(),h=_=>Object.keys(_).map(v=>`"_${yi.call(this,v)}":${yi.call(this,_[v])}`).join(",");let g=null;switch(typeof d){case"boolean":case"number":case"string":o[f]=JSON.stringify(d);break;case"bigint":o[f]=`["${Wx}","${d}"]`;break;case"symbol":{const _=Symbol.keyFor(d);_?o[f]=`["${e1}",${JSON.stringify(_)}]`:g=new Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!d){o[f]=`${eE}`;break}const _=Array.isArray(d);let v=!1;if(!_&&r)for(const b of r){const T=b(d);if(Array.isArray(T)){v=!0;const[x,...R]=T;o[f]=`[${JSON.stringify(x)}`,R.length>0&&(o[f]+=`,${R.map(I=>yi.call(this,I)).join(",")}`),o[f]+="]";break}}if(!v){let b=_?"[":"{";if(_){for(let T=0;T<d.length;T++)b+=(T?",":"")+(T in d?yi.call(this,d[T]):$x);o[f]=`${b}]`}else if(d instanceof Date){const T=d.getTime();o[f]=`["${Xx}",${Number.isNaN(T)?JSON.stringify("invalid"):T}]`}else d instanceof URL?o[f]=`["${t1}",${JSON.stringify(d.href)}]`:d instanceof RegExp?o[f]=`["${Zx}",${JSON.stringify(d.source)},${JSON.stringify(d.flags)}]`:d instanceof Set?d.size>0?o[f]=`["${e_}",${[...d].map(T=>yi.call(this,T)).join(",")}]`:o[f]=`["${e_}"]`:d instanceof Map?d.size>0?o[f]=`["${Zv}",${[...d].flatMap(([T,x])=>[yi.call(this,T),yi.call(this,x)]).join(",")}]`:o[f]=`["${Zv}"]`:d instanceof Promise?(o[f]=`["${fu}",${f}]`,n[f]=d):d instanceof Error?(o[f]=`["${du}",${JSON.stringify(d.message)}`,d.name!=="Error"&&(o[f]+=`,${JSON.stringify(d.name)}`),o[f]+="]"):Object.getPrototypeOf(d)===null?o[f]=`["${Jx}",{${h(d)}}]`:ZP(d)?o[f]=`{${h(d)}}`:g=new Error("Cannot encode object with prototype")}break}default:{const _=Array.isArray(d);let v=!1;if(!_&&r)for(const b of r){const T=b(d);if(Array.isArray(T)){v=!0;const[x,...R]=T;o[f]=`[${JSON.stringify(x)}`,R.length>0&&(o[f]+=`,${R.map(I=>yi.call(this,I)).join(",")}`),o[f]+="]";break}}v||(g=new Error("Cannot encode function or unexpected type"))}}if(g){let _=!1;if(a)for(const v of a){const b=v(d);if(Array.isArray(b)){_=!0;const[T,...x]=b;o[f]=`[${JSON.stringify(T)}`,x.length>0&&(o[f]+=`,${x.map(R=>yi.call(this,R)).join(",")}`),o[f]+="]";break}}if(!_)throw g}}}var JP=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZP(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===JP}var fv=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function n_(t){const{hydrated:e,values:n}=this;if(typeof t=="number")return zT.call(this,t);if(!Array.isArray(t)||!t.length)throw new SyntaxError;const r=n.length;for(const a of t)n.push(a);return e.length=n.length,zT.call(this,r)}function zT(t){const{hydrated:e,values:n,deferred:r,plugins:a}=this;let o;const u=[[t,f=>{o=f}]];let d=[];for(;u.length>0;){const[f,h]=u.pop();switch(f){case Qx:h(void 0);continue;case eE:h(null);continue;case qx:h(NaN);continue;case Yx:h(1/0);continue;case Gx:h(-1/0);continue;case Kx:h(-0);continue}if(e[f]){h(e[f]);continue}const g=n[f];if(!g||typeof g!="object"){e[f]=g,h(g);continue}if(Array.isArray(g))if(typeof g[0]=="string"){const[_,v,b]=g;switch(_){case Xx:h(e[f]=new Date(v));continue;case t1:h(e[f]=new URL(v));continue;case Wx:h(e[f]=BigInt(v));continue;case Zx:h(e[f]=new RegExp(v,b));continue;case e1:h(e[f]=Symbol.for(v));continue;case e_:const T=new Set;e[f]=T;for(let j=g.length-1;j>0;j--)u.push([g[j],M=>{T.add(M)}]);h(T);continue;case Zv:const x=new Map;e[f]=x;for(let j=g.length-2;j>0;j-=2){const M=[];u.push([g[j+1],V=>{M[1]=V}]),u.push([g[j],V=>{M[0]=V}]),d.push(()=>{x.set(M[0],M[1])})}h(x);continue;case Jx:const R=Object.create(null);e[f]=R;for(const j of Object.keys(v).reverse()){const M=[];u.push([v[j],V=>{M[1]=V}]),u.push([Number(j.slice(1)),V=>{M[0]=V}]),d.push(()=>{R[M[0]]=M[1]})}h(R);continue;case fu:if(e[v])h(e[f]=e[v]);else{const j=new n1;r[v]=j,h(e[f]=j.promise)}continue;case du:const[,I,O]=g;let B=O&&fv&&fv[O]?new fv[O](I):new Error(I);e[f]=B,h(B);continue;case t_:h(e[f]=e[v]);continue;default:if(Array.isArray(a)){const j=[],M=g.slice(1);for(let V=0;V<M.length;V++){const P=M[V];u.push([P,D=>{j[V]=D}])}d.push(()=>{for(const V of a){const P=V(g[0],...j);if(P){h(e[f]=P.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const _=[];e[f]=_;for(let v=0;v<g.length;v++){const b=g[v];b!==$x&&u.push([b,T=>{_[v]=T}])}h(_);continue}else{const _={};e[f]=_;for(const v of Object.keys(g).reverse()){const b=[];u.push([g[v],T=>{b[1]=T}]),u.push([Number(v.slice(1)),T=>{b[0]=T}]),d.push(()=>{_[b[0]]=b[1]})}h(_);continue}}for(;d.length>0;)d.pop()();return o}async function eL(t,e){const{plugins:n}=e??{},r=new n1,a=t.pipeThrough(WP()).getReader(),o={values:[],hydrated:[],deferred:{},plugins:n},u=await tL.call(o,a);let d=r.promise;return u.done?r.resolve():d=nL.call(o,a).then(r.resolve).catch(f=>{for(const h of Object.values(o.deferred))h.reject(f);r.reject(f)}),{done:d.then(()=>a.closed),value:u.value}}async function tL(t){const e=await t.read();if(!e.value)throw new SyntaxError;let n;try{n=JSON.parse(e.value)}catch{throw new SyntaxError}return{done:e.done,value:n_.call(this,n)}}async function nL(t){let e=await t.read();for(;!e.done;){if(!e.value)continue;const n=e.value;switch(n[0]){case fu:{const r=n.indexOf(":"),a=Number(n.slice(1,r)),o=this.deferred[a];if(!o)throw new Error(`Deferred ID ${a} not found in stream`);const u=n.slice(r+1);let d;try{d=JSON.parse(u)}catch{throw new SyntaxError}const f=n_.call(this,d);o.resolve(f);break}case du:{const r=n.indexOf(":"),a=Number(n.slice(1,r)),o=this.deferred[a];if(!o)throw new Error(`Deferred ID ${a} not found in stream`);const u=n.slice(r+1);let d;try{d=JSON.parse(u)}catch{throw new SyntaxError}const f=n_.call(this,d);o.reject(f);break}default:throw new SyntaxError}e=await t.read()}}function rL(t,e){const{plugins:n,postPlugins:r,signal:a}=e??{},o={deferred:{},index:0,indices:new Map,stringified:[],plugins:n,postPlugins:r,signal:a},u=new TextEncoder;let d=0;return new ReadableStream({async start(h){const g=yi.call(o,t);if(Array.isArray(g))throw new Error("This should never happen");g<0?h.enqueue(u.encode(`${g}
`)):(h.enqueue(u.encode(`[${o.stringified.join(",")}]
`)),d=o.stringified.length-1);const _=new WeakSet;if(Object.keys(o.deferred).length){let v;const b=new Promise((T,x)=>{if(v=T,a){const R=()=>x(a.reason||new Error("Signal was aborted."));a.aborted?R():a.addEventListener("abort",I=>{R()})}});for(;Object.keys(o.deferred).length>0;){for(const[T,x]of Object.entries(o.deferred))_.has(x)||_.add(o.deferred[Number(T)]=Promise.race([b,x]).then(R=>{const I=yi.call(o,R);if(Array.isArray(I))h.enqueue(u.encode(`${fu}${T}:[["${t_}",${I[0]}]]
`)),o.index++,d++;else if(I<0)h.enqueue(u.encode(`${fu}${T}:${I}
`));else{const O=o.stringified.slice(d+1).join(",");h.enqueue(u.encode(`${fu}${T}:[${O}]
`)),d=o.stringified.length-1}},R=>{(!R||typeof R!="object"||!(R instanceof Error))&&(R=new Error("An unknown error occurred"));const I=yi.call(o,R);if(Array.isArray(I))h.enqueue(u.encode(`${du}${T}:[["${t_}",${I[0]}]]
`)),o.index++,d++;else if(I<0)h.enqueue(u.encode(`${du}${T}:${I}
`));else{const O=o.stringified.slice(d+1).join(",");h.enqueue(u.encode(`${du}${T}:[${O}]
`)),d=o.stringified.length-1}}).finally(()=>{delete o.deferred[Number(T)]}));await Promise.race(Object.values(o.deferred))}v()}await Promise.all(Object.values(o.deferred)),h.close()}})}async function r1(t){let e={signal:t.signal};if(t.method!=="GET"){e.method=t.method;let n=t.headers.get("Content-Type");n&&/\bapplication\/json\b/.test(n)?(e.headers={"Content-Type":n},e.body=JSON.stringify(await t.json())):n&&/\btext\/plain\b/.test(n)?(e.headers={"Content-Type":n},e.body=await t.text()):n&&/\bapplication\/x-www-form-urlencoded\b/.test(n)?e.body=new URLSearchParams(await t.text()):e.body=await t.formData()}return e}var iL={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},aL=/[&><\u2028\u2029]/g;function tE(t){return t.replace(aL,e=>iL[e])}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}var Fa=Symbol("SingleFetchRedirect"),i1=class extends Error{},nE=202,a1=new Set([100,101,204,205]);function s1({context:t,identifier:e,reader:n,textDecoder:r,nonce:a}){if(!t.renderMeta||!t.renderMeta.didRenderScripts)return null;t.renderMeta.streamCache||(t.renderMeta.streamCache={});let{streamCache:o}=t.renderMeta,u=o[e];if(u||(u=o[e]=n.read().then(g=>{o[e].result={done:g.done,value:r.decode(g.value,{stream:!0})}}).catch(g=>{o[e].error=g})),u.error)throw u.error;if(u.result===void 0)throw u;let{done:d,value:f}=u.result,h=f?E.createElement("script",{nonce:a,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${tE(JSON.stringify(f))});`}}):null;return d?E.createElement(E.Fragment,null,h,E.createElement("script",{nonce:a,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):E.createElement(E.Fragment,null,h,E.createElement(E.Suspense,null,E.createElement(s1,{context:t,identifier:e+1,reader:n,textDecoder:r,nonce:a})))}function o1(t,e,n,r,a){let o=l1(t,u=>{let d=e.routes[u.route.id];cr(d,"Route not found in manifest");let f=n[u.route.id];return{hasLoader:d.hasLoader,hasClientLoader:d.hasClientLoader,hasShouldRevalidate:!!f?.shouldRevalidate}},dL,r,a);return async u=>u.runClientMiddleware(o)}function l1(t,e,n,r,a,o=()=>!0){return async u=>{let{request:d,matches:f,fetcherKey:h}=u,g=t();if(d.method!=="GET")return sL(u,n,a);let _=f.some(v=>{let{hasLoader:b,hasClientLoader:T}=e(v);return v.unstable_shouldCallHandler()&&b&&!T});return!r&&!_?oL(u,e,n,a):h?cL(u,n,a):lL(u,g,e,n,r,a,o)}}async function sL(t,e,n){let r=t.matches.find(u=>u.unstable_shouldCallHandler());cr(r,"No action match found");let a,o=await r.resolve(async u=>await u(async()=>{let{data:f,status:h}=await e(t,n,[r.route.id]);return a=h,kd(f,r.route.id)}));return on(o.result)||xn(o.result)||Us(o.result)?{[r.route.id]:o}:{[r.route.id]:{type:o.type,result:ex(o.result,a)}}}async function oL(t,e,n,r){let a=t.matches.filter(u=>u.unstable_shouldCallHandler()),o={};return await Promise.all(a.map(u=>u.resolve(async d=>{try{let{hasClientLoader:f}=e(u),h=u.route.id,g=f?await d(async()=>{let{data:_}=await n(t,r,[h]);return kd(_,h)}):await d();o[u.route.id]={type:"data",result:g}}catch(f){o[u.route.id]={type:"error",result:f}}}))),o}async function lL(t,e,n,r,a,o,u=()=>!0){let d=new Set,f=!1,h=t.matches.map(()=>HT()),g=HT(),_={},v=Promise.all(t.matches.map(async(T,x)=>T.resolve(async R=>{h[x].resolve();let I=T.route.id,{hasLoader:O,hasClientLoader:B,hasShouldRevalidate:j}=n(T),M=!T.unstable_shouldRevalidateArgs||T.unstable_shouldRevalidateArgs.actionStatus==null||T.unstable_shouldRevalidateArgs.actionStatus<400;if(!T.unstable_shouldCallHandler(M)){f||(f=T.unstable_shouldRevalidateArgs!=null&&O&&j===!0);return}if(u(T)&&B){O&&(f=!0);try{let P=await R(async()=>{let{data:D}=await r(t,o,[I]);return kd(D,I)});_[I]={type:"data",result:P}}catch(P){_[I]={type:"error",result:P}}return}O&&d.add(I);try{let P=await R(async()=>{let D=await g.promise;return kd(D,I)});_[I]={type:"data",result:P}}catch(P){_[I]={type:"error",result:P}}})));if(await Promise.all(h.map(T=>T.promise)),(!e.state.initialized&&e.state.navigation.state==="idle"||d.size===0)&&!window.__reactRouterHdrActive)g.resolve({routes:{}});else{let T=a&&f&&d.size>0?[...d.keys()]:void 0;try{let x=await r(t,o,T);g.resolve(x.data)}catch(x){g.reject(x)}}return await v,await uL(g.promise,t.matches,d,_),_}async function uL(t,e,n,r){try{let a,o=await t;if("routes"in o){for(let u of e)if(u.route.id in o.routes){let d=o.routes[u.route.id];if("error"in d){a=d.error,r[u.route.id]?.result==null&&(r[u.route.id]={type:"error",result:a});break}}}a!==void 0&&Array.from(n.values()).forEach(u=>{r[u].result instanceof i1&&(r[u].result=a)})}catch{}}async function cL(t,e,n){let r=t.matches.find(u=>u.unstable_shouldCallHandler());cr(r,"No fetcher match found");let a=r.route.id,o=await r.resolve(async u=>u(async()=>{let{data:d}=await e(t,n,[a]);return kd(d,a)}));return{[r.route.id]:o}}function u1(t){let e=t.searchParams.getAll("index");t.searchParams.delete("index");let n=[];for(let r of e)r&&n.push(r);for(let r of n)t.searchParams.append("index",r);return t}function rE(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ln(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dL(t,e,n){let{request:r}=t,a=rE(r.url,e,"data");r.method==="GET"&&(a=u1(a),n&&a.searchParams.set("_routes",n.join(",")));let o=await fetch(a,await r1(r));if(o.status===404&&!o.headers.has("X-Remix-Response"))throw new Kn(404,"Not Found",!0);if(o.status===204&&o.headers.has("X-Remix-Redirect"))return{status:nE,data:{redirect:{redirect:o.headers.get("X-Remix-Redirect"),status:Number(o.headers.get("X-Remix-Status")||"302"),revalidate:o.headers.get("X-Remix-Revalidate")==="true",reload:o.headers.get("X-Remix-Reload-Document")==="true",replace:o.headers.get("X-Remix-Replace")==="true"}}};if(a1.has(o.status)){let u={};return n&&r.method!=="GET"&&(u[n[0]]={data:void 0}),{status:o.status,data:{routes:u}}}cr(o.body,"No response body to decode");try{let u=await Sp(o.body,window),d;if(r.method==="GET"){let f=u.value;Fa in f?d={redirect:f[Fa]}:d={routes:f}}else{let f=u.value,h=n?.[0];cr(h,"No routeId found for single fetch call decoding"),"redirect"in f?d={redirect:f}:d={routes:{[h]:f}}}return{status:o.status,data:d}}catch{throw new Error("Unable to decode turbo-stream response")}}function Sp(t,e){return eL(t,{plugins:[(n,...r)=>{if(n==="SanitizedError"){let[a,o,u]=r,d=Error;a&&a in e&&typeof e[a]=="function"&&(d=e[a]);let f=new d(o);return f.stack=u,{value:f}}if(n==="ErrorResponse"){let[a,o,u]=r;return{value:new Kn(o,u,a)}}if(n==="SingleFetchRedirect")return{value:{[Fa]:r[0]}};if(n==="SingleFetchClassInstance")return{value:r[0]};if(n==="SingleFetchFallback")return{value:void 0}}]})}function kd(t,e){if("redirect"in t){let{redirect:r,revalidate:a,reload:o,replace:u,status:d}=t.redirect;throw Jd(r,{status:d,headers:{...a?{"X-Remix-Revalidate":"yes"}:null,...o?{"X-Remix-Reload-Document":"yes"}:null,...u?{"X-Remix-Replace":"yes"}:null}})}let n=t.routes[e];if(n==null)throw new i1(`No result found for routeId "${e}"`);if("error"in n)throw n.error;if("data"in n)return n.data;throw new Error(`Invalid response found for routeId "${e}"`)}function HT(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}async function c1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fL(t,e,n){let r=t.map(o=>{let u=e[o.route.id],d=n.routes[o.route.id];return[d&&d.css?d.css.map(f=>({rel:"stylesheet",href:f})):[],u?.links?.()||[]]}).flat(2),a=aE(t,n);return m1(r,a)}function d1(t){return t.css?t.css.map(e=>({rel:"stylesheet",href:e})):[]}async function hL(t){if(!t.css)return;let e=d1(t);await Promise.all(e.map(h1))}async function f1(t,e){if(!t.css&&!e.links||!vL())return;let n=[];if(t.css&&n.push(...d1(t)),e.links&&n.push(...e.links()),n.length===0)return;let r=[];for(let a of n)!iE(a)&&a.rel==="stylesheet"&&r.push({...a,rel:"preload",as:"style"});await Promise.all(r.map(h1))}async function h1(t){return new Promise(e=>{if(t.media&&!window.matchMedia(t.media).matches||document.querySelector(`link[rel="stylesheet"][href="${t.href}"]`))return e();let n=document.createElement("link");Object.assign(n,t);function r(){document.head.contains(n)&&document.head.removeChild(n)}n.onload=()=>{r(),e()},n.onerror=()=>{r(),e()},document.head.appendChild(n)})}function iE(t){return t!=null&&typeof t.page=="string"}function mL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pL(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await c1(o,n);return u.links?u.links():[]}return[]}));return m1(r.flat(1).filter(mL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $T(t,e,n,r,a,o){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aE(t,e,{includeHydrateFallback:n}={}){return gL(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function gL(t){return[...new Set(t)]}function yL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function m1(t,e){let n=new Set,r=new Set(e);return t.reduce((a,o)=>{if(e&&!iE(o)&&o.as==="script"&&o.href&&r.has(o.href))return a;let d=JSON.stringify(yL(o));return n.has(d)||(n.add(d),a.push({key:d,link:o})),a},[])}var Yh;function vL(){if(Yh!==void 0)return Yh;let t=document.createElement("link");return Yh=t.relList.supports("preload"),t=null,Yh}function _L(){return E.createElement(r_,{title:"Loading...",renderScripts:!0},E.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                "💿 Hey developer 👋. You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback " +
                "for more information."
              );
            `}}))}function sE(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function p1(t,e,n){let r=v1(e),a=e.HydrateFallback&&(!n||t.id==="root")?e.HydrateFallback:t.id==="root"?_L:void 0,o=e.ErrorBoundary?e.ErrorBoundary:t.id==="root"?()=>E.createElement(R1,{error:rf()}):void 0;return t.id==="root"&&e.Layout?{...r?{element:E.createElement(e.Layout,null,E.createElement(r,null))}:{Component:r},...o?{errorElement:E.createElement(e.Layout,null,E.createElement(o,null))}:{ErrorBoundary:o},...a?{hydrateFallbackElement:E.createElement(e.Layout,null,E.createElement(a,null))}:{HydrateFallback:a}}:{Component:r,ErrorBoundary:o,HydrateFallback:a}}function g1(t,e,n,r,a="",o=sE(t),u=Promise.resolve({Component:()=>null})){return(o[a]||[]).map(d=>{let f=e[d.id];cr(f,"No `routeModule` available to create server routes");let h={...p1(d,f,r),caseSensitive:d.caseSensitive,id:d.id,index:d.index,path:d.path,handle:f.handle,lazy:r?()=>u:void 0,loader:d.hasLoader||d.hasClientLoader?()=>null:void 0},g=g1(t,e,n,r,d.id,o,u);return g.length>0&&(h.children=g),h})}function y1(t,e,n,r,a,o){return sf(e,n,r,a,o,"",sE(e),t)}function Qh(t,e){if(t==="loader"&&!e.hasLoader||t==="action"&&!e.hasAction){let r=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e.id}")`;throw console.error(r),new Kn(400,"Bad Request",new Error(r),!0)}}function mm(t,e){let n=t==="clientAction"?"a":"an",r=`Route "${e}" does not have ${n} ${t}, but you are trying to submit to it. To fix this, please add ${n} \`${t}\` function to the route`;throw console.error(r),new Kn(405,"Method Not Allowed",new Error(r),!0)}function sf(t,e,n,r,a,o="",u=sE(t),d){return(u[o]||[]).map(f=>{let h=e[f.id];function g(O){return cr(typeof O=="function","No single fetch function available for route handler"),O()}function _(O){return f.hasLoader?g(O):Promise.resolve(null)}function v(O){if(!f.hasAction)throw mm("action",f.id);return g(O)}function b(O){import(O)}function T(O){O.clientActionModule&&b(O.clientActionModule),O.clientLoaderModule&&b(O.clientLoaderModule)}async function x(O){let B=e[f.id],j=B?f1(f,B):Promise.resolve();try{return O()}finally{await j}}let R={id:f.id,index:f.index,path:f.path};if(h){Object.assign(R,{...R,...p1(f,h,a),middleware:h.clientMiddleware,handle:h.handle,shouldRevalidate:qT(R.path,h,f,r,d)});let O=n&&n.loaderData&&f.id in n.loaderData,B=O?n?.loaderData?.[f.id]:void 0,j=n&&n.errors&&f.id in n.errors,M=j?n?.errors?.[f.id]:void 0,V=d==null&&(h.clientLoader?.hydrate===!0||!f.hasLoader);R.loader=async({request:P,params:D,context:k},z)=>{try{return await x(async()=>(cr(h,"No `routeModule` available for critical-route loader"),h.clientLoader?h.clientLoader({request:P,params:D,context:k,async serverLoader(){if(Qh("loader",f),V){if(O)return B;if(j)throw M}return _(z)}}):_(z)))}finally{V=!1}},R.loader.hydrate=Fu(f.id,h.clientLoader,f.hasLoader,a),R.action=({request:P,params:D,context:k},z)=>x(async()=>{if(cr(h,"No `routeModule` available for critical-route action"),!h.clientAction){if(a)throw mm("clientAction",f.id);return v(z)}return h.clientAction({request:P,params:D,context:k,async serverAction(){return Qh("action",f),v(z)}})})}else{f.hasClientLoader||(R.loader=(j,M)=>x(()=>_(M))),f.hasClientAction||(R.action=(j,M)=>x(()=>{if(a)throw mm("clientAction",f.id);return v(M)}));let O;async function B(){return O?await O:(O=(async()=>{(f.clientLoaderModule||f.clientActionModule)&&await new Promise(M=>setTimeout(M,0));let j=wL(f,e);return T(f),await j})(),await O)}R.lazy={loader:f.hasClientLoader?async()=>{let{clientLoader:j}=f.clientLoaderModule?await import(f.clientLoaderModule):await B();return cr(j,"No `clientLoader` export found"),(M,V)=>j({...M,async serverLoader(){return Qh("loader",f),_(V)}})}:void 0,action:f.hasClientAction?async()=>{let j=f.clientActionModule?import(f.clientActionModule):B();T(f);let{clientAction:M}=await j;return cr(M,"No `clientAction` export found"),(V,P)=>M({...V,async serverAction(){return Qh("action",f),v(P)}})}:void 0,middleware:f.hasClientMiddleware?async()=>{let{clientMiddleware:j}=f.clientMiddlewareModule?await import(f.clientMiddlewareModule):await B();return cr(j,"No `clientMiddleware` export found"),j}:void 0,shouldRevalidate:async()=>{let j=await B();return qT(R.path,j,f,r,d)},handle:async()=>(await B()).handle,Component:async()=>(await B()).Component,ErrorBoundary:f.hasErrorBoundary?async()=>(await B()).ErrorBoundary:void 0}}let I=sf(t,e,n,r,a,f.id,u,d);return I.length>0&&(R.children=I),R})}function qT(t,e,n,r,a){if(a)return EL(n.id,e.shouldRevalidate,a);if(!r&&n.hasLoader&&!n.hasClientLoader){let o=t?WC(t)[1].map(d=>d.paramName):[];const u=d=>o.some(f=>d.currentParams[f]!==d.nextParams[f]);if(e.shouldRevalidate){let d=e.shouldRevalidate;return f=>d({...f,defaultShouldRevalidate:u(f)})}else return d=>u(d)}if(r&&e.shouldRevalidate){let o=e.shouldRevalidate;return u=>o({...u,defaultShouldRevalidate:!0})}return e.shouldRevalidate}function EL(t,e,n){let r=!1;return a=>r?e?e(a):a.defaultShouldRevalidate:(r=!0,n.has(t))}async function wL(t,e){let n=c1(t,e),r=hL(t),a=await n;return await Promise.all([r,f1(t,a)]),{Component:v1(a),ErrorBoundary:a.ErrorBoundary,clientMiddleware:a.clientMiddleware,clientAction:a.clientAction,clientLoader:a.clientLoader,handle:a.handle,links:a.links,meta:a.meta,shouldRevalidate:a.shouldRevalidate}}function v1(t){if(t.default==null)return;if(!(typeof t.default=="object"&&Object.keys(t.default).length===0))return t.default}function Fu(t,e,n,r){return r&&t!=="root"||e!=null&&(e.hydrate===!0||n!==!0)}var pm=new Set,bL=1e3,Om=new Set,SL=7680;function oE(t,e){return t.mode==="lazy"&&e===!0}function TL({sri:t,...e},n){let r=new Set(n.state.matches.map(d=>d.route.id)),a=n.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push(`/${a.join("/")}`),a.pop();o.forEach(d=>{let f=kr(n.routes,d,n.basename);f&&f.forEach(h=>r.add(h.route.id))});let u=[...r].reduce((d,f)=>Object.assign(d,{[f]:e.routes[f]}),{});return{...e,routes:u,sri:t?!0:void 0}}function _1(t,e,n,r,a,o){if(oE(r,n))return async({path:u,patch:d,signal:f,fetcherKey:h})=>{Om.has(u)||await b1([u],h?window.location.href:u,t,e,n,a,o,r.manifestPath,d,f)}}function E1(t,e,n,r,a,o){E.useEffect(()=>{if(!oE(a,r)||window.navigator?.connection?.saveData===!0)return;function u(g){let _=g.tagName==="FORM"?g.getAttribute("action"):g.getAttribute("href");if(!_)return;let v=g.tagName==="A"?g.pathname:new URL(_,window.location.origin).pathname;Om.has(v)||pm.add(v)}async function d(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(u);let g=Array.from(pm.keys()).filter(_=>Om.has(_)?(pm.delete(_),!1):!0);if(g.length!==0)try{await b1(g,null,e,n,r,o,t.basename,a.manifestPath,t.patchRoutes)}catch(_){console.error("Failed to fetch manifest patches",_)}}let f=AL(d,100);d();let h=new MutationObserver(()=>f());return h.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>h.disconnect()},[r,o,e,n,t,a])}function w1(t,e){let n=t||"/__manifest";return e==null?n:`${e}${n}`.replace(/\/+/g,"/")}var hv="react-router-manifest-version";async function b1(t,e,n,r,a,o,u,d,f,h){const g=new URLSearchParams;t.sort().forEach(R=>g.append("p",R)),g.set("version",n.version);let _=new URL(w1(d,u),window.location.origin);if(_.search=g.toString(),_.toString().length>SL){pm.clear();return}let v;try{let R=await fetch(_,{signal:h});if(R.ok){if(R.status===204&&R.headers.has("X-Remix-Reload-Document")){if(!e){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}if(sessionStorage.getItem(hv)===n.version){console.error("Unable to discover routes due to manifest version mismatch.");return}sessionStorage.setItem(hv,n.version),window.location.href=e,console.warn("Detected manifest version mismatch, reloading..."),await new Promise(()=>{})}else if(R.status>=400)throw new Error(await R.text())}else throw new Error(`${R.status} ${R.statusText}`);sessionStorage.removeItem(hv),v=await R.json()}catch(R){if(h?.aborted)return;throw R}let b=new Set(Object.keys(n.routes)),T=Object.values(v).reduce((R,I)=>(I&&!b.has(I.id)&&(R[I.id]=I),R),{});Object.assign(n.routes,T),t.forEach(R=>RL(R,Om));let x=new Set;Object.values(T).forEach(R=>{R&&(!R.parentId||!T[R.parentId])&&x.add(R.parentId)}),x.forEach(R=>f(R||null,sf(T,r,null,a,o,R)))}function RL(t,e){if(e.size>=bL){let n=e.values().next().value;e.delete(n)}e.add(t)}function AL(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function lE(){let t=E.useContext(oa);return cr(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Tp(){let t=E.useContext(ro);return cr(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var la=E.createContext(void 0);la.displayName="FrameworkContext";function Bu(){let t=E.useContext(la);return cr(t,"You must render this element inside a <HydratedRouter> element"),t}function CL(t,e){let n=E.useContext(la),[r,a]=E.useState(!1),[o,u]=E.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:_}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=I=>{I.forEach(O=>{u(O.isIntersecting)})},R=new IntersectionObserver(x,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{a(!0)},T=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:id(d,b),onBlur:id(f,T),onMouseEnter:id(h,b),onMouseLeave:id(g,T),onTouchStart:id(_,b)}]:[!1,v,{}]}function id(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uE(t,e,n){if(n&&!Mm)return[t[0]];if(e){let r=t.findIndex(a=>e[a.route.id]!==void 0);return t.slice(0,r+1)}return t}var GT="data-react-router-critical-css";function xL({nonce:t}){let{isSpaMode:e,manifest:n,routeModules:r,criticalCss:a}=Bu(),{errors:o,matches:u}=Tp(),d=uE(u,o,e),f=E.useMemo(()=>fL(d,r,n),[d,r,n]);return E.createElement(E.Fragment,null,typeof a=="string"?E.createElement("style",{[GT]:"",dangerouslySetInnerHTML:{__html:a}}):null,typeof a=="object"?E.createElement("link",{[GT]:"",rel:"stylesheet",href:a.href,nonce:t}):null,f.map(({key:h,link:g})=>iE(g)?E.createElement(cE,{key:h,nonce:t,...g}):E.createElement("link",{key:h,nonce:t,...g})))}function cE({page:t,...e}){let{router:n}=lE(),r=E.useMemo(()=>kr(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(DL,{page:t,matches:r,...e}):null}function IL(t){let{manifest:e,routeModules:n}=Bu(),[r,a]=E.useState([]);return E.useEffect(()=>{let o=!1;return pL(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function DL({page:t,matches:e,...n}){let r=mr(),{manifest:a,routeModules:o}=Bu(),{basename:u}=lE(),{loaderData:d,matches:f}=Tp(),h=E.useMemo(()=>$T(t,e,f,a,r,"data"),[t,e,f,a,r]),g=E.useMemo(()=>$T(t,e,f,a,r,"assets"),[t,e,f,a,r]),_=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,x=!1;if(e.forEach(I=>{let O=a.routes[I.route.id];!O||!O.hasLoader||(!h.some(B=>B.route.id===I.route.id)&&I.route.id in d&&o[I.route.id]?.shouldRevalidate||O.hasClientLoader?x=!0:T.add(I.route.id))}),T.size===0)return[];let R=rE(t,u,"data");return x&&T.size>0&&R.searchParams.set("_routes",e.filter(I=>T.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[u,d,r,a,h,e,t,o]),v=E.useMemo(()=>aE(g,a),[g,a]),b=IL(g);return E.createElement(E.Fragment,null,_.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),v.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:x})=>E.createElement("link",{key:T,nonce:n.nonce,...x})))}function NL(){let{isSpaMode:t,routeModules:e}=Bu(),{errors:n,matches:r,loaderData:a}=Tp(),o=mr(),u=uE(r,n,t),d=null;n&&(d=n[u[u.length-1].route.id]);let f=[],h=null,g=[];for(let _=0;_<u.length;_++){let v=u[_],b=v.route.id,T=a[b],x=v.params,R=e[b],I=[],O={id:b,data:T,loaderData:T,meta:[],params:v.params,pathname:v.pathname,handle:v.route.handle,error:d};if(g[_]=O,R?.meta?I=typeof R.meta=="function"?R.meta({data:T,loaderData:T,params:x,location:o,matches:g,error:d}):Array.isArray(R.meta)?[...R.meta]:R.meta:h&&(I=[...h]),I=I||[],!Array.isArray(I))throw new Error("The route at "+v.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);O.meta=I,g[_]=O,f=[...I],h=f}return E.createElement(E.Fragment,null,f.flat().map(_=>{if(!_)return null;if("tagName"in _){let{tagName:v,...b}=_;if(!OL(v))return console.warn(`A meta object uses an invalid tagName: ${v}. Expected either 'link' or 'meta'`),null;let T=v;return E.createElement(T,{key:JSON.stringify(b),...b})}if("title"in _)return E.createElement("title",{key:"title"},String(_.title));if("charset"in _&&(_.charSet??(_.charSet=_.charset),delete _.charset),"charSet"in _&&_.charSet!=null)return typeof _.charSet=="string"?E.createElement("meta",{key:"charSet",charSet:_.charSet}):null;if("script:ld+json"in _)try{let v=JSON.stringify(_["script:ld+json"]);return E.createElement("script",{key:`script:ld+json:${v}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:tE(v)}})}catch{return null}return E.createElement("meta",{key:JSON.stringify(_),..._})}))}function OL(t){return typeof t=="string"&&/^(meta|link)$/.test(t)}var Mm=!1;function S1(){Mm=!0}function T1(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,renderMeta:a,routeDiscovery:o,ssr:u}=Bu(),{router:d,static:f,staticContext:h}=lE(),{matches:g}=Tp(),_=fP(),v=oE(o,u);a&&(a.didRenderScripts=!0);let b=uE(g,null,r);E.useEffect(()=>{S1()},[]);let T=E.useMemo(()=>{if(_)return null;let O=h?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",B=f?`${e.hmr?.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${v?"":`import ${JSON.stringify(e.url)}`};
${b.map((j,M)=>{let V=`route${M}`,P=e.routes[j.route.id];cr(P,`Route ${j.route.id} not found in manifest`);let{clientActionModule:D,clientLoaderModule:k,clientMiddlewareModule:z,hydrateFallbackModule:H,module:$}=P,N=[...D?[{module:D,varName:`${V}_clientAction`}]:[],...k?[{module:k,varName:`${V}_clientLoader`}]:[],...z?[{module:z,varName:`${V}_clientMiddleware`}]:[],...H?[{module:H,varName:`${V}_HydrateFallback`}]:[],{module:$,varName:`${V}_main`}];if(N.length===1)return`import * as ${V} from ${JSON.stringify($)};`;let J=N.map(K=>`import * as ${K.varName} from "${K.module}";`).join(`
`),me=`const ${V} = {${N.map(K=>`...${K.varName}`).join(",")}};`;return[J,me].join(`
`)}).join(`
`)}
  ${v?`window.__reactRouterManifest = ${JSON.stringify(TL(e,d),null,2)};`:""}
  window.__reactRouterRouteModules = {${b.map((j,M)=>`${JSON.stringify(j.route.id)}:route${M}`).join(",")}};

import(${JSON.stringify(e.entry.module)});`:" ";return E.createElement(E.Fragment,null,E.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:O},type:void 0}),E.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:B},type:"module",async:!0}))},[]),x=Mm||_?[]:ML(e.entry.imports.concat(aE(b,e,{includeHydrateFallback:!0}))),R=typeof e.sri=="object"?e.sri:{};return Od(!_,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Mm||_?null:E.createElement(E.Fragment,null,typeof e.sri=="object"?E.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:R})}}):null,v?null:E.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:R[e.url],suppressHydrationWarning:!0}),E.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:R[e.entry.module],suppressHydrationWarning:!0}),x.map(I=>E.createElement("link",{key:I,rel:"modulepreload",href:I,crossOrigin:t.crossOrigin,integrity:R[I],suppressHydrationWarning:!0})),T)}function ML(t){return[...new Set(t)]}function kL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dE=class extends E.Component{constructor(t){super(t),this.state={error:t.error||null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error||null,location:t.location}:{error:t.error||e.error,location:e.location}}render(){return this.state.error?E.createElement(R1,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function R1({error:t,isOutsideRemixApp:e}){console.error(t);let n=E.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          "💿 Hey developer 👋. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(xn(t))return E.createElement(r_,{title:"Unhandled Thrown Response!"},E.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let a=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(a)}return E.createElement(r_,{title:"Application Error!",isOutsideRemixApp:e},E.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),E.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function r_({title:t,renderScripts:e,isOutsideRemixApp:n,children:r}){let{routeModules:a}=Bu();return a.root?.Layout&&!n?r:E.createElement("html",{lang:"en"},E.createElement("head",null,E.createElement("meta",{charSet:"utf-8"}),E.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),E.createElement("title",null,t)),E.createElement("body",null,E.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,e?E.createElement(T1,null):null)))}var A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A1&&(window.__reactRouterVersion="7.9.1")}catch{}function PL(t,e){return ju({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Xd({window:e?.window}),hydrationData:e?.hydrationData||C1(),routes:t,mapRouteProperties:sl,hydrationRouteProperties:af,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function LL(t,e){return ju({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:HC({window:e?.window}),hydrationData:e?.hydrationData||C1(),routes:t,mapRouteProperties:sl,hydrationRouteProperties:af,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function C1(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:VL(t.errors)}),t}function VL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new Kn(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}function x1({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=Xd({window:n,v5Compat:!0}));let a=r.current,[o,u]=E.useState({action:a.action,location:a.location}),d=E.useCallback(f=>{E.startTransition(()=>u(f))},[u]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.createElement(so,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}function jL({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=HC({window:n,v5Compat:!0}));let a=r.current,[o,u]=E.useState({action:a.action,location:a.location}),d=E.useCallback(f=>{E.startTransition(()=>u(f))},[u]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.createElement(so,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}function I1({basename:t,children:e,history:n}){let[r,a]=E.useState({action:n.action,location:n.location}),o=E.useCallback(u=>{E.startTransition(()=>a(u))},[a]);return E.useLayoutEffect(()=>n.listen(o),[n,o]),E.createElement(so,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:n})}I1.displayName="unstable_HistoryRouter";var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:_,...v},b){let{basename:T}=E.useContext(Vr),x=typeof h=="string"&&D1.test(h),R,I=!1;if(typeof h=="string"&&x&&(R=h,A1))try{let k=new URL(window.location.href),z=h.startsWith("//")?new URL(k.protocol+h):new URL(h),H=Ln(z.pathname,T);z.origin===k.origin&&H!=null?h=H+z.search+z.hash:I=!0}catch{Gt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Sx(h,{relative:a}),[B,j,M]=CL(r,v),V=k1(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:_});function P(k){e&&e(k),k.defaultPrevented||V(k)}let D=E.createElement("a",{...v,...M,href:R||O,onClick:I||o?e:P,ref:kL(b,j),target:f,"data-discover":!x&&n==="render"?"true":void 0});return B&&!x?E.createElement(E.Fragment,null,D,E.createElement(cE,{page:O})):D});fE.displayName="Link";var N1=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:f,...h},g){let _=Uu(u,{relative:h.relative}),v=mr(),b=E.useContext(ro),{navigator:T,basename:x}=E.useContext(Vr),R=b!=null&&V1(_)&&d===!0,I=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,O=v.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),B=B?B.toLowerCase():null,I=I.toLowerCase()),B&&x&&(B=Ln(B,x)||B);const j=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let M=O===I||!a&&O.startsWith(I)&&O.charAt(j)==="/",V=B!=null&&(B===I||!a&&B.startsWith(I)&&B.charAt(I.length)==="/"),P={isActive:M,isPending:V,isTransitioning:R},D=M?e:void 0,k;typeof r=="function"?k=r(P):k=[r,M?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(P):o;return E.createElement(fE,{...h,"aria-current":D,className:k,ref:g,style:z,to:u,viewTransition:d},typeof f=="function"?f(P):f)});N1.displayName="NavLink";var hE=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=fm,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:_,...v},b)=>{let T=gE(),x=P1(d,{relative:h}),R=u.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&D1.test(d),O=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let j=B.nativeEvent.submitter,M=j?.getAttribute("formmethod")||u;T(j||B.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:o,relative:h,preventScrollReset:g,viewTransition:_})};return E.createElement("form",{ref:b,method:R,action:x,onSubmit:r?f:O,...v,"data-discover":!I&&t==="render"?"true":void 0})});hE.displayName="Form";function O1({getKey:t,storageKey:e,...n}){let r=E.useContext(la),{basename:a}=E.useContext(Vr),o=mr(),u=vp();L1({getKey:t,storageKey:e});let d=E.useMemo(()=>{if(!r||!t)return null;let h=a_(o,u,a,t);return h!==o.key?h:null},[]);if(!r||r.isSpaMode)return null;let f=((h,g)=>{if(!window.history.state||!window.history.state.key){let _=Math.random().toString(32).slice(2);window.history.replaceState({key:_},"")}try{let v=JSON.parse(sessionStorage.getItem(h)||"{}")[g||window.history.state.key];typeof v=="number"&&window.scrollTo(0,v)}catch(_){console.error(_),sessionStorage.removeItem(h)}}).toString();return E.createElement("script",{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${f})(${JSON.stringify(e||i_)}, ${JSON.stringify(d)})`}})}O1.displayName="ScrollRestoration";function M1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rp(t){let e=E.useContext(oa);return qe(e,M1(t)),e}function mE(t){let e=E.useContext(ro);return qe(e,M1(t)),e}function k1(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=tf(),f=mr(),h=Uu(t,{relative:o});return E.useCallback(g=>{if(qP(g,e)){g.preventDefault();let _=n!==void 0?n:Ar(f)===Ar(h);d(t,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,h,n,r,e,t,a,o,u])}function pE(t){Gt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(Nm(t)),n=E.useRef(!1),r=mr(),a=E.useMemo(()=>GP(r.search,n.current?null:e.current),[r.search]),o=tf(),u=E.useCallback((d,f)=>{const h=Nm(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,o("?"+h,f)},[o,a]);return[a,u]}var UL=0,FL=()=>`__${String(++UL)}__`;function gE(){let{router:t}=Rp("useSubmit"),{basename:e}=E.useContext(Vr),n=SP();return E.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=QP(r,e);if(a.navigate===!1){let g=a.fetcherKey||FL();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function P1(t,{relative:e}={}){let{basename:n}=E.useContext(Vr),r=E.useContext(jr);qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Uu(t||".",{relative:e})},u=mr();if(t==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Wi([n,o.pathname])),Ar(o)}function BL({key:t}={}){let{router:e}=Rp("useFetcher"),n=mE("useFetcher"),r=E.useContext(ef),a=E.useContext(jr),o=a.matches[a.matches.length-1]?.route.id;qe(r,"useFetcher must be used inside a FetchersContext"),qe(a,"useFetcher must be used inside a RouteContext"),qe(o!=null,'useFetcher can only be used on routes that contain a unique "id"');let u=E.useId(),[d,f]=E.useState(t||u);t&&t!==d&&f(t),E.useEffect(()=>(e.getFetcher(d),()=>e.deleteFetcher(d)),[e,d]);let h=E.useCallback(async(R,I)=>{qe(o,"No routeId available for fetcher.load()"),await e.fetch(d,o,R,I)},[d,o,e]),g=gE(),_=E.useCallback(async(R,I)=>{await g(R,{...I,navigate:!1,fetcherKey:d})},[d,g]),v=E.useMemo(()=>{let R=E.forwardRef((I,O)=>E.createElement(hE,{...I,navigate:!1,fetcherKey:d,ref:O}));return R.displayName="fetcher.Form",R},[d]),b=n.fetchers.get(d)||pp,T=r.get(d);return E.useMemo(()=>({Form:v,submit:_,load:h,...b,data:T}),[v,_,h,b,T])}function zL(){let t=mE("useFetchers");return Array.from(t.fetchers.entries()).map(([e,n])=>({...n,key:e}))}var i_="react-router-scroll-positions",Wh={};function a_(t,e,n,r){let a=null;return r&&(n!=="/"?a=r({...t,pathname:Ln(t.pathname,n)||t.pathname},e):a=r(t,e)),a==null&&(a=t.key),a}function L1({getKey:t,storageKey:e}={}){let{router:n}=Rp("useScrollRestoration"),{restoreScrollPosition:r,preventScrollReset:a}=mE("useScrollRestoration"),{basename:o}=E.useContext(Vr),u=mr(),d=vp(),f=Dx();E.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),$L(E.useCallback(()=>{if(f.state==="idle"){let h=a_(u,d,o,t);Wh[h]=window.scrollY}try{sessionStorage.setItem(e||i_,JSON.stringify(Wh))}catch(h){Gt(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${h}).`)}window.history.scrollRestoration="auto"},[f.state,t,o,u,d,e])),typeof document<"u"&&(E.useLayoutEffect(()=>{try{let h=sessionStorage.getItem(e||i_);h&&(Wh=JSON.parse(h))}catch{}},[e]),E.useLayoutEffect(()=>{let h=n?.enableScrollRestoration(Wh,()=>window.scrollY,t?(g,_)=>a_(g,_,o,t):void 0);return()=>h&&h()},[n,o,t]),E.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}try{if(u.hash){let h=document.getElementById(decodeURIComponent(u.hash.slice(1)));if(h){h.scrollIntoView();return}}}catch{Gt(!1,`"${u.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}a!==!0&&window.scrollTo(0,0)}},[u,r,a]))}function HL(t,e){let{capture:n}=e||{};E.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",t,r),()=>{window.removeEventListener("beforeunload",t,r)}},[t,n])}function $L(t,e){let{capture:n}={};E.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function qL({when:t,message:e}){let n=Ox(t);E.useEffect(()=>{n.state==="blocked"&&(window.confirm(e)?setTimeout(n.proceed,0):n.reset())},[n,e]),E.useEffect(()=>{n.state==="blocked"&&!t&&n.reset()},[n,t])}function V1(t,{relative:e}={}){let n=E.useContext(Zd);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rp("useViewTransitionState"),a=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ln(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ln(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Eu(a.pathname,u)!=null||Eu(a.pathname,o)!=null}function GL({basename:t,children:e,location:n="/"}){typeof n=="string"&&(n=ri(n));let r="POP",a={pathname:n.pathname||"/",search:n.search||"",hash:n.hash||"",state:n.state!=null?n.state:null,key:n.key||"default"},o=j1();return E.createElement(so,{basename:t,children:e,location:a,navigationType:r,navigator:o,static:!0})}function yE({context:t,router:e,hydrate:n=!0,nonce:r}){qe(e&&t,"You must provide `router` and `context` to <StaticRouterProvider>");let a={router:e,navigator:j1(),static:!0,staticContext:t,basename:t.basename||"/"},o=new Map,u="";if(n!==!1){let f={loaderData:t.loaderData,actionData:t.actionData,errors:YL(t.errors)};u=`window.__staticRouterHydrationData = JSON.parse(${ZL(JSON.stringify(JSON.stringify(f)))});`}let{state:d}=a.router;return E.createElement(E.Fragment,null,E.createElement(oa.Provider,{value:a},E.createElement(ro.Provider,{value:d},E.createElement(ef.Provider,{value:o},E.createElement(Zd.Provider,{value:{isTransitioning:!1}},E.createElement(so,{basename:a.basename,location:d.location,navigationType:d.historyAction,navigator:a.navigator,static:a.static},E.createElement(KL,{routes:e.routes,future:e.future,state:d})))))),u?E.createElement("script",{suppressHydrationWarning:!0,nonce:r,dangerouslySetInnerHTML:{__html:u}}):null)}function KL({routes:t,future:e,state:n}){return X_(t,void 0,n,void 0,e)}function YL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)xn(a)?n[r]={...a,__type:"RouteErrorResponse"}:a instanceof Error?n[r]={message:a.message,__type:"Error",...a.name!=="Error"?{__subType:a.name}:{}}:n[r]=a;return n}function j1(){return{createHref:U1,encodeLocation:F1,push(t){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)})\` somewhere in your app.`)},replace(t){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)}, { replace: true })\` somewhere in your app.`)},go(t){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${t})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function QL(t,e){return lx(t,{...e,mapRouteProperties:sl})}function vE(t,e,n={}){let r={},a=Ys(t,sl,void 0,r),o=e.matches.map(d=>{let f=r[d.route.id]||d.route;return{...d,route:f}}),u=d=>`You cannot use router.${d}() on the server because it is a stateless environment`;return{get basename(){return e.basename},get future(){return{v8_middleware:!1,...n?.future}},get state(){return{historyAction:"POP",location:e.location,matches:o,loaderData:e.loaderData,actionData:e.actionData,errors:e.errors,initialized:!0,navigation:_d,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return a},get window(){},initialize(){throw u("initialize")},subscribe(){throw u("subscribe")},enableScrollRestoration(){throw u("enableScrollRestoration")},navigate(){throw u("navigate")},fetch(){throw u("fetch")},revalidate(){throw u("revalidate")},createHref:U1,encodeLocation:F1,getFetcher(){return pp},deleteFetcher(){throw u("deleteFetcher")},dispose(){throw u("dispose")},getBlocker(){return Is},deleteBlocker(){throw u("deleteBlocker")},patchRoutes(){throw u("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw u("_internalSetRoutes")},_internalSetStateDoNotUseOrYouWillBreakYourApp(){throw u("_internalSetStateDoNotUseOrYouWillBreakYourApp")}}}function U1(t){return typeof t=="string"?t:Ar(t)}function F1(t){let e=typeof t=="string"?t:Ar(t);e=e.replace(/ $/,"%20");let n=WL.test(e)?new URL(e):new URL(e,"http://localhost");return{pathname:n.pathname,search:n.search,hash:n.hash}}var WL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XL={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},JL=/[&><\u2028\u2029]/g;function ZL(t){return t.replace(JL,e=>XL[e])}var ad={},KT;function eV(){if(KT)return ad;KT=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.parse=u,ad.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,b){const T=new o,x=v.length;if(x<2)return T;const R=b?.decode||g;let I=0;do{const O=v.indexOf("=",I);if(O===-1)break;const B=v.indexOf(";",I),j=B===-1?x:B;if(O>j){I=v.lastIndexOf(";",O-1)+1;continue}const M=d(v,I,O),V=f(v,O,M),P=v.slice(M,V);if(T[P]===void 0){let D=d(v,O+1,j),k=f(v,j,D);const z=R(v.slice(D,k));T[P]=z}I=j+1}while(I<x);return T}function d(v,b,T){do{const x=v.charCodeAt(b);if(x!==32&&x!==9)return b}while(++b<T);return T}function f(v,b,T){for(;b>T;){const x=v.charCodeAt(--b);if(x!==32&&x!==9)return b+1}return T}function h(v,b,T){const x=T?.encode||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=x(b);if(!e.test(R))throw new TypeError(`argument val is invalid: ${b}`);let I=v+"="+R;if(!T)return I;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);I+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);I+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);I+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);I+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(I+="; HttpOnly"),T.secure&&(I+="; Secure"),T.partitioned&&(I+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return I}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return a.call(v)==="[object Date]"}return ad}var YT=eV(),Ql={exports:{}},QT;function tV(){if(QT)return Ql.exports;QT=1;var t={decodeValues:!0,map:!1,silent:!1};function e(u){return typeof u=="string"&&!!u.trim()}function n(u,d){var f=u.split(";").filter(e),h=f.shift(),g=r(h),_=g.name,v=g.value;d=d?Object.assign({},t,d):t;try{v=d.decodeValues?decodeURIComponent(v):v}catch(T){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+v+"'. Set options.decodeValues to false to disable this feature.",T)}var b={name:_,value:v};return f.forEach(function(T){var x=T.split("="),R=x.shift().trimLeft().toLowerCase(),I=x.join("=");R==="expires"?b.expires=new Date(I):R==="max-age"?b.maxAge=parseInt(I,10):R==="secure"?b.secure=!0:R==="httponly"?b.httpOnly=!0:R==="samesite"?b.sameSite=I:R==="partitioned"?b.partitioned=!0:b[R]=I}),b}function r(u){var d="",f="",h=u.split("=");return h.length>1?(d=h.shift(),f=h.join("=")):f=u,{name:d,value:f}}function a(u,d){if(d=d?Object.assign({},t,d):t,!u)return d.map?{}:[];if(u.headers)if(typeof u.headers.getSetCookie=="function")u=u.headers.getSetCookie();else if(u.headers["set-cookie"])u=u.headers["set-cookie"];else{var f=u.headers[Object.keys(u.headers).find(function(g){return g.toLowerCase()==="set-cookie"})];!f&&u.headers.cookie&&!d.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),u=f}if(Array.isArray(u)||(u=[u]),d.map){var h={};return u.filter(e).reduce(function(g,_){var v=n(_,d);return g[v.name]=v,g},h)}else return u.filter(e).map(function(g){return n(g,d)})}function o(u){if(Array.isArray(u))return u;if(typeof u!="string")return[];var d=[],f=0,h,g,_,v,b;function T(){for(;f<u.length&&/\s/.test(u.charAt(f));)f+=1;return f<u.length}function x(){return g=u.charAt(f),g!=="="&&g!==";"&&g!==","}for(;f<u.length;){for(h=f,b=!1;T();)if(g=u.charAt(f),g===","){for(_=f,f+=1,T(),v=f;f<u.length&&x();)f+=1;f<u.length&&u.charAt(f)==="="?(b=!0,f=v,d.push(u.substring(h,_)),h=f):f=_+1}else f+=1;(!b||f>=u.length)&&d.push(u.substring(h,u.length))}return d}return Ql.exports=a,Ql.exports.parse=a,Ql.exports.parseString=n,Ql.exports.splitCookiesString=o,Ql.exports}var nV=tV(),_E=UC();const ou=Wd(_E);var rV={};function iV({context:t,url:e,nonce:n}){typeof e=="string"&&(e=new URL(e));let{manifest:r,routeModules:a,criticalCss:o,serverHandoffString:u}=t,d=g1(r.routes,a,t.future,t.isSpaMode);t.staticHandlerContext.loaderData={...t.staticHandlerContext.loaderData};for(let h of t.staticHandlerContext.matches){let g=h.route.id,_=a[g],v=t.manifest.routes[g];_&&v&&Fu(g,_.clientLoader,v.hasLoader,t.isSpaMode)&&(_.HydrateFallback||!v.hasLoader)&&delete t.staticHandlerContext.loaderData[g]}let f=vE(d,t.staticHandlerContext);return E.createElement(E.Fragment,null,E.createElement(la.Provider,{value:{manifest:r,routeModules:a,criticalCss:o,serverHandoffString:u,future:t.future,ssr:t.ssr,isSpaMode:t.isSpaMode,routeDiscovery:t.routeDiscovery,serializeError:t.serializeError,renderMeta:t.renderMeta}},E.createElement(dE,{location:f.state.location},E.createElement(yE,{router:f,context:t.staticHandlerContext,hydrate:!1}))),t.serverHandoffStream?E.createElement(E.Suspense,null,E.createElement(s1,{context:t,identifier:0,reader:t.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:n})):null)}function aV(t,e){return function({initialEntries:r,initialIndex:a,hydrationData:o,future:u}){let d=E.useRef(),f=E.useRef();if(d.current==null){f.current={future:{unstable_subResourceIntegrity:u?.unstable_subResourceIntegrity===!0,v8_middleware:u?.v8_middleware===!0},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},ssr:!1,isSpaMode:!1,routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"}};let h=B1(Ys(t,g=>g),e!==void 0?e:u?.v8_middleware?new Qi:{},f.current.manifest,f.current.routeModules);d.current=kx(h,{initialEntries:r,initialIndex:a,hydrationData:o})}return E.createElement(la.Provider,{value:f.current},E.createElement(wp,{router:d.current}))}}function B1(t,e,n,r,a){return t.map(o=>{if(!o.id)throw new Error("Expected a route.id in react-router processRoutes() function");let u={id:o.id,path:o.path,index:o.index,Component:o.Component?Ux(o.Component):void 0,HydrateFallback:o.HydrateFallback?Bx(o.HydrateFallback):void 0,ErrorBoundary:o.ErrorBoundary?Hx(o.ErrorBoundary):void 0,action:o.action?f=>o.action({...f,context:e}):void 0,loader:o.loader?f=>o.loader({...f,context:e}):void 0,handle:o.handle,shouldRevalidate:o.shouldRevalidate},d={id:o.id,path:o.path,index:o.index,parentId:a,hasAction:o.action!=null,hasLoader:o.loader!=null,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:o.ErrorBoundary!=null,module:"build/stub-path-to-module.js",clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0};return n.routes[u.id]=d,r[o.id]={default:u.Component||Lx,ErrorBoundary:u.ErrorBoundary||void 0,handle:o.handle,links:o.links,meta:o.meta,shouldRevalidate:o.shouldRevalidate},o.children&&(u.children=B1(o.children,e,n,r,u.id)),u})}var EE=new TextEncoder,sV=async(t,e)=>{let n=EE.encode(t),r=await z1(e,["sign"]),a=await crypto.subtle.sign("HMAC",r,n),o=btoa(String.fromCharCode(...new Uint8Array(a))).replace(/=+$/,"");return t+"."+o},oV=async(t,e)=>{let n=t.lastIndexOf("."),r=t.slice(0,n),a=t.slice(n+1),o=EE.encode(r),u=await z1(e,["verify"]);try{let d=lV(atob(a));return await crypto.subtle.verify("HMAC",u,d,o)?r:!1}catch{return!1}},z1=async(t,e)=>crypto.subtle.importKey("raw",EE.encode(t),{name:"HMAC",hash:"SHA-256"},!1,e);function lV(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var wE=(t,e={})=>{let{secrets:n=[],...r}={path:"/",sameSite:"lax",...e};return mV(t,r.expires),{get name(){return t},get isSigned(){return n.length>0},get expires(){return typeof r.maxAge<"u"?new Date(Date.now()+r.maxAge*1e3):r.expires},async parse(a,o){if(!a)return null;let u=YT.parse(a,{...r,...o});if(t in u){let d=u[t];return typeof d=="string"&&d!==""?await cV(d,n):""}else return null},async serialize(a,o){return YT.serialize(t,a===""?"":await uV(a,n),{...r,...o})}}},bE=t=>t!=null&&typeof t.name=="string"&&typeof t.isSigned=="boolean"&&typeof t.parse=="function"&&typeof t.serialize=="function";async function uV(t,e){let n=dV(t);return e.length>0&&(n=await sV(n,e[0])),n}async function cV(t,e){if(e.length>0){for(let n of e){let r=await oV(t,n);if(r!==!1)return WT(r)}return null}return WT(t)}function dV(t){return btoa(hV(encodeURIComponent(JSON.stringify(t))))}function WT(t){try{return JSON.parse(decodeURIComponent(fV(atob(t))))}catch{return{}}}function fV(t){let e=t.toString(),n="",r=0,a,o;for(;r<e.length;)a=e.charAt(r++),/[\w*+\-./@]/.exec(a)?n+=a:(o=a.charCodeAt(0),o<256?n+="%"+XT(o,2):n+="%u"+XT(o,4).toUpperCase());return n}function XT(t,e){let n=t.toString(16);for(;n.length<e;)n="0"+n;return n}function hV(t){let e=t.toString(),n="",r=0,a,o;for(;r<e.length;){if(a=e.charAt(r++),a==="%"){if(e.charAt(r)==="u"){if(o=e.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(o)){n+=String.fromCharCode(parseInt(o,16)),r+=5;continue}}else if(o=e.slice(r,r+2),/^[\da-f]{2}$/i.exec(o)){n+=String.fromCharCode(parseInt(o,16)),r+=2;continue}}n+=a}return n}function mV(t,e){Od(!e,`The "${t}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function pV(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r&&(e[n]=r.module),e},{})}var H1=(t=>(t.Development="development",t.Production="production",t.Test="test",t))(H1||{});function gV(t){return t==="development"||t==="production"||t==="test"}function Ap(t,e){if(t instanceof Error&&e!=="development"){let n=new Error("Unexpected Server Error");return n.stack=void 0,n}return t}function km(t,e){return Object.entries(t).reduce((n,[r,a])=>Object.assign(n,{[r]:Ap(a,e)}),{})}function $1(t,e){let n=Ap(t,e);return{message:n.message,stack:n.stack}}function JT(t,e){if(!t)return null;let n=Object.entries(t),r={};for(let[a,o]of n)if(xn(o))r[a]={...o,__type:"RouteErrorResponse"};else if(o instanceof Error){let u=Ap(o,e);r[a]={message:u.message,stack:u.stack,__type:"Error",...u.name!=="Error"?{__subType:u.name}:{}}}else r[a]=o;return r}function s_(t,e,n){let r=kr(t,e,n);return r?r.map(a=>({params:a.params,pathname:a.pathname,route:a.route})):null}async function ZT(t,e){let n=await t({request:vV(yV(e.request)),params:e.params,context:e.context});if(Us(n)&&n.init&&n.init.status&&gp(n.init.status))throw new Response(null,n.init);return n}function yV(t){let e=new URL(t.url),n=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let o of n)o&&r.push(o);for(let o of r)e.searchParams.append("index",o);let a={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return a.body&&(a.duplex="half"),new Request(e.href,a)}function vV(t){let e=new URL(t.url);e.searchParams.delete("_routes");let n={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return n.body&&(n.duplex="half"),new Request(e.href,n)}function gm(t,e){if(t===!1||t===null||typeof t>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(e)}var q1="__reactRouterDevServerHooks";function _V(t){globalThis[q1]=t}function mv(){return globalThis[q1]}function G1(t,e){if(typeof process<"u")try{if(rV?.IS_RR_BUILD_REQUEST==="yes")return t.headers.get(e)}catch{}return null}function K1(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function Y1(t,e="",n=K1(t)){return(n[e]||[]).map(r=>({...r,children:Y1(t,r.id,n)}))}function Q1(t,e,n="",r=K1(t)){return(r[n]||[]).map(a=>{let o={hasErrorBoundary:a.id==="root"||a.module.ErrorBoundary!=null,id:a.id,path:a.path,middleware:a.module.middleware,loader:a.module.loader?async u=>{let d=G1(u.request,"X-React-Router-Prerender-Data");if(d!=null){let h=d&&decodeURI(d);gm(h,"Missing prerendered data for route");let g=new TextEncoder().encode(h),_=new ReadableStream({start(T){T.enqueue(g),T.close()}}),b=(await Sp(_,global)).value;if(b&&Fa in b){let T=b[Fa],x={status:T.status};throw T.reload?tx(T.redirect,x):T.replace?nx(T.redirect,x):Jd(T.redirect,x)}else{gm(b&&a.id in b,"Unable to decode prerendered data");let T=b[a.id];return gm("data"in T,"Unable to process prerendered data"),T.data}}return await ZT(a.module.loader,u)}:void 0,action:a.module.action?u=>ZT(a.module.action,u):void 0,handle:a.module.handle};return a.index?{index:!0,...o}:{caseSensitive:a.caseSensitive,children:Q1(t,e,a.id,r),...o}})}function eR(t){return tE(JSON.stringify(t))}function SE(t,e){return EV(t,n=>{let r=e.routes[n.route.id];return gm(r,`Route with id "${n.route.id}" not found in build`),r.module.headers})}function EV(t,e,n){let r=t.errors?t.matches.findIndex(d=>t.errors[d.route.id]):-1,a=r>=0?t.matches.slice(0,r+1):t.matches,o;if(r>=0){let{actionHeaders:d,actionData:f,loaderHeaders:h,loaderData:g}=t;t.matches.slice(r).some(_=>{let v=_.route.id;return d[v]&&(!f||!f.hasOwnProperty(v))?o=d[v]:h[v]&&!g.hasOwnProperty(v)&&(o=h[v]),o!=null})}const u=new Headers(n);return a.reduce((d,f,h)=>{let{id:g}=f.route,_=t.loaderHeaders[g]||new Headers,v=t.actionHeaders[g]||new Headers,b=o!=null&&h===a.length-1,T=b&&o!==_&&o!==v,x=e(f);if(x==null){let I=new Headers(d);return T&&$o(o,I),$o(v,I),$o(_,I),I}let R=new Headers(typeof x=="function"?x({loaderHeaders:_,parentHeaders:d,actionHeaders:v,errorHeaders:b?o:void 0}):x);return T&&$o(o,R),$o(v,R),$o(_,R),$o(d,R),R},new Headers(u))}function $o(t,e){let n=t.get("Set-Cookie");if(n){let r=nV.splitCookiesString(n),a=new Set(e.getSetCookie());r.forEach(o=>{a.has(o)||e.append("Set-Cookie",o)})}}var W1=new Set([...a1,304]);async function wV(t,e,n,r,a,o,u){try{let g=new Request(a,{method:r.method,body:r.body,headers:r.headers,signal:r.signal,...r.body?{duplex:"half"}:void 0}),_=await n.query(g,{requestContext:o,skipLoaderErrorBubbling:!0,skipRevalidation:!0,generateMiddlewareResponse:t.future.v8_middleware?async v=>{try{let b=await v(g);return d(b)}catch(b){return f(b)}}:void 0});return d(_)}catch(g){return f(g)}function d(g){return on(g)?g:h(g)}function f(g){return u(g),Pd(r,t,e,{result:{error:g},headers:new Headers,status:500})}function h(g){let _=SE(g,t);if(gp(g.statusCode)&&_.has("Location"))return new Response(null,{status:g.statusCode,headers:_});g.errors&&(Object.values(g.errors).forEach(b=>{(!xn(b)||b.error)&&u(b)}),g.errors=km(g.errors,e));let v;return g.errors?v={error:Object.values(g.errors)[0]}:v={data:Object.values(g.actionData||{})[0]},Pd(r,t,e,{result:v,headers:_,status:g.statusCode})}}async function bV(t,e,n,r,a,o,u){let d=new URL(r.url).searchParams.get("_routes"),f=d?new Set(d.split(",")):null;try{let v=new Request(a,{headers:r.headers,signal:r.signal}),b=await n.query(v,{requestContext:o,filterMatchesToLoad:T=>!f||f.has(T.route.id),skipLoaderErrorBubbling:!0,generateMiddlewareResponse:t.future.v8_middleware?async T=>{try{let x=await T(v);return h(x)}catch(x){return g(x)}}:void 0});return h(b)}catch(v){return g(v)}function h(v){return on(v)?v:_(v)}function g(v){return u(v),Pd(r,t,e,{result:{error:v},headers:new Headers,status:500})}function _(v){let b=SE(v,t);if(gp(v.statusCode)&&b.has("Location"))return new Response(null,{status:v.statusCode,headers:b});v.errors&&(Object.values(v.errors).forEach(R=>{(!xn(R)||R.error)&&u(R)}),v.errors=km(v.errors,e));let T={},x=new Set(v.matches.filter(R=>f?f.has(R.route.id):R.route.loader!=null).map(R=>R.route.id));if(v.errors)for(let[R,I]of Object.entries(v.errors))T[R]={error:I};for(let[R,I]of Object.entries(v.loaderData))!(R in T)&&x.has(R)&&(T[R]={data:I});return Pd(r,t,e,{result:T,headers:b,status:v.statusCode})}}function Pd(t,e,n,{result:r,headers:a,status:o}){let u=new Headers(a);return u.set("X-Remix-Response","yes"),W1.has(o)?new Response(null,{status:o,headers:u}):(u.set("Content-Type","text/x-script"),u.delete("Content-Length"),new Response(o_(r,t.signal,e.entry.module.streamTimeout,n),{status:o||200,headers:u}))}function tR(t,e,n,r){let a=SV(t.status,t.headers,n.basename),o=new Headers(t.headers);return o.delete("Location"),o.set("Content-Type","text/x-script"),Pd(e,n,r,{result:e.method==="GET"?{[Fa]:a}:a,headers:o,status:nE})}function SV(t,e,n){let r=e.get("Location");return n&&(r=Ln(r,n)||r),{redirect:r,status:t,revalidate:e.has("X-Remix-Revalidate")||e.has("Set-Cookie"),reload:e.has("X-Remix-Reload-Document"),replace:e.has("X-Remix-Replace")}}function o_(t,e,n,r){let a=new AbortController,o=setTimeout(()=>a.abort(new Error("Server Timeout")),typeof n=="number"?n:4950);return e.addEventListener("abort",()=>clearTimeout(o)),rL(t,{signal:a.signal,plugins:[u=>{if(u instanceof Error){let{name:d,message:f,stack:h}=r==="production"?Ap(u,r):u;return["SanitizedError",d,f,h]}if(u instanceof Kn){let{data:d,status:f,statusText:h}=u;return["ErrorResponse",d,f,h]}if(u&&typeof u=="object"&&Fa in u)return["SingleFetchRedirect",u[Fa]]}],postPlugins:[u=>{if(u&&typeof u=="object")return["SingleFetchClassInstance",Object.fromEntries(Object.entries(u))]},()=>["SingleFetchFallback"]]})}function nR(t,e){let n=Y1(t.routes),r=Q1(t.routes,t.future),a=gV(e)?e:"production",o=lx(r,{basename:t.basename}),u=t.entry.module.handleError||((d,{request:f})=>{a!=="test"&&!f.signal.aborted&&console.error(xn(d)&&d.error?d.error:d)});return{routes:n,dataRoutes:r,serverMode:a,staticHandler:o,errorHandler:u}}var TV=(t,e)=>{let n,r,a,o,u;return async function(f,h){if(n=typeof t=="function"?await t():t,typeof t=="function"){let j=nR(n,e);r=j.routes,a=j.serverMode,o=j.staticHandler,u=j.errorHandler}else if(!r||!a||!o||!u){let j=nR(n,e);r=j.routes,a=j.serverMode,o=j.staticHandler,u=j.errorHandler}let g={},_,v=j=>{e==="development"&&mv()?.processRequestError?.(j),u(j,{context:_,params:g,request:f})};if(n.future.v8_middleware){if(h&&!(h instanceof Qi)){let j=new Error("Invalid `context` value provided to `handleRequest`. When middleware is enabled you must return an instance of `RouterContextProvider` from your `getLoadContext` function.");return v(j),Pm(j,a)}_=h||new Qi}else _=h||{};let b=new URL(f.url),T=n.basename||"/",x=b.pathname;Ln(x,T)==="/_root.data"?x=T:x.endsWith(".data")&&(x=x.replace(/\.data$/,"")),Ln(x,T)!=="/"&&x.endsWith("/")&&(x=x.slice(0,-1));let R=G1(f,"X-React-Router-SPA-Mode")==="yes";if(!n.ssr){let j=decodeURI(x);if(T!=="/"){let M=Ln(j,T);if(M==null)return u(new Kn(404,"Not Found",`Refusing to prerender the \`${j}\` path because it does not start with the basename \`${T}\``),{context:_,params:g,request:f}),new Response("Not Found",{status:404,statusText:"Not Found"});j=M}if(n.prerender.length===0)R=!0;else if(!n.prerender.includes(j)&&!n.prerender.includes(j+"/")){if(b.pathname.endsWith(".data"))return u(new Kn(404,"Not Found",`Refusing to SSR the path \`${j}\` because \`ssr:false\` is set and the path is not included in the \`prerender\` config, so in production the path will be a 404.`),{context:_,params:g,request:f}),new Response("Not Found",{status:404,statusText:"Not Found"});R=!0}}let I=w1(n.routeDiscovery.manifestPath,T);if(b.pathname===I)try{return await RV(n,r,b)}catch(j){return v(j),new Response("Unknown Server Error",{status:500})}let O=s_(r,x,n.basename);O&&O.length>0&&Object.assign(g,O[0].params);let B;if(b.pathname.endsWith(".data")){let j=new URL(f.url);j.pathname=x;let M=s_(r,j.pathname,n.basename);B=await AV(a,n,o,f,j,_,v),Dm(B)&&(B=tR(B,f,n,a)),n.entry.module.handleDataRequest&&(B=await n.entry.module.handleDataRequest(B,{context:_,params:M?M[0].params:{},request:f}),Dm(B)&&(B=tR(B,f,n,a)))}else if(!R&&O&&O[O.length-1].route.module.default==null&&O[O.length-1].route.module.ErrorBoundary==null)B=await xV(a,n,o,O.slice(-1)[0].route.id,f,_,v);else{let{pathname:j}=b,M;n.unstable_getCriticalCss?M=await n.unstable_getCriticalCss({pathname:j}):e==="development"&&mv()?.getCriticalCss&&(M=await mv()?.getCriticalCss?.(j)),B=await CV(a,n,o,f,_,v,R,M)}return f.method==="HEAD"?new Response(null,{headers:B.headers,status:B.status,statusText:B.statusText}):B}};async function RV(t,e,n){if(t.assets.version!==n.searchParams.get("version"))return new Response(null,{status:204,headers:{"X-Remix-Reload-Document":"true"}});let r={};if(n.searchParams.has("p")){let a=new Set;n.searchParams.getAll("p").forEach(o=>{o.startsWith("/")||(o=`/${o}`);let u=o.split("/").slice(1);u.forEach((d,f)=>{let h=u.slice(0,f+1).join("/");a.add(`/${h}`)})});for(let o of a){let u=s_(e,o,t.basename);if(u)for(let d of u){let f=d.route.id,h=t.assets.routes[f];h&&(r[f]=h)}}return Response.json(r,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function AV(t,e,n,r,a,o,u){return r.method!=="GET"?await wV(e,t,n,r,a,o,u):await bV(e,t,n,r,a,o,u)}async function CV(t,e,n,r,a,o,u,d){try{let h=await n.query(r,{requestContext:a,generateMiddlewareResponse:e.future.v8_middleware?async g=>{try{let _=await g(r);return on(_)||(_=await f(_,u)),_}catch(_){return o(_),new Response(null,{status:500})}}:void 0});return on(h)||(h=await f(h,u)),h}catch(h){return o(h),new Response(null,{status:500})}async function f(h,g){let _=SE(h,e);if(W1.has(h.statusCode))return new Response(null,{status:h.statusCode,headers:_});h.errors&&(Object.values(h.errors).forEach(R=>{(!xn(R)||R.error)&&o(R)}),h.errors=km(h.errors,t));let v={loaderData:h.loaderData,actionData:h.actionData,errors:JT(h.errors,t)},b={basename:e.basename,future:e.future,routeDiscovery:e.routeDiscovery,ssr:e.ssr,isSpaMode:g},T={manifest:e.assets,routeModules:pV(e.routes),staticHandlerContext:h,criticalCss:d,serverHandoffString:eR({...b,criticalCss:d}),serverHandoffStream:o_(v,r.signal,e.entry.module.streamTimeout,t),renderMeta:{},future:e.future,ssr:e.ssr,routeDiscovery:e.routeDiscovery,isSpaMode:g,serializeError:R=>$1(R,t)},x=e.entry.module.default;try{return await x(r,h.statusCode,_,T,a)}catch(R){o(R);let I=R;if(on(R))try{let B=await DV(R);I=new Kn(R.status,R.statusText,B)}catch{}h=ux(n.dataRoutes,h,I),h.errors&&(h.errors=km(h.errors,t));let O={loaderData:h.loaderData,actionData:h.actionData,errors:JT(h.errors,t)};T={...T,staticHandlerContext:h,serverHandoffString:eR(b),serverHandoffStream:o_(O,r.signal,e.entry.module.streamTimeout,t),renderMeta:{}};try{return await x(r,h.statusCode,_,T,a)}catch(B){return o(B),Pm(B,t)}}}}async function xV(t,e,n,r,a,o,u){try{let h=await n.queryRoute(a,{routeId:r,requestContext:o,generateMiddlewareResponse:e.future.v8_middleware?async g=>{try{let _=await g(a);return d(_)}catch(_){return f(_)}}:void 0});return d(h)}catch(h){return f(h)}function d(h){return on(h)?h:typeof h=="string"?new Response(h):Response.json(h)}function f(h){if(on(h))return h.headers.set("X-Remix-Catch","yes"),h;if(xn(h))return u(h),IV(h,t);if(h instanceof Error&&h.message==="Expected a response from queryRoute"){let g=new Error("Expected a Response to be returned from resource route handler");return u(g),Pm(g,t)}return u(h),Pm(h,t)}}function IV(t,e){return Response.json($1(t.error||new Error("Unexpected Server Error"),e),{status:t.status,statusText:t.statusText,headers:{"X-Remix-Error":"yes"}})}function Pm(t,e){let n="Unexpected Server Error";return e!=="production"&&(n+=`

${String(t)}`),new Response(n,{status:500,headers:{"Content-Type":"text/plain"}})}function DV(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}function pv(t){return`__flash_${t}__`}var TE=(t={},e="")=>{let n=new Map(Object.entries(t));return{get id(){return e},get data(){return Object.fromEntries(n)},has(r){return n.has(r)||n.has(pv(r))},get(r){if(n.has(r))return n.get(r);let a=pv(r);if(n.has(a)){let o=n.get(a);return n.delete(a),o}},set(r,a){n.set(r,a)},flash(r,a){n.set(pv(r),a)},unset(r){n.delete(r)}}},NV=t=>t!=null&&typeof t.id=="string"&&typeof t.data<"u"&&typeof t.has=="function"&&typeof t.get=="function"&&typeof t.set=="function"&&typeof t.flash=="function"&&typeof t.unset=="function";function X1({cookie:t,createData:e,readData:n,updateData:r,deleteData:a}){let o=bE(t)?t:wE(t?.name||"__session",t);return J1(o),{async getSession(u,d){let f=u&&await o.parse(u,d),h=f&&await n(f);return TE(h||{},f||"")},async commitSession(u,d){let{id:f,data:h}=u,g=d?.maxAge!=null?new Date(Date.now()+d.maxAge*1e3):d?.expires!=null?d.expires:o.expires;return f?await r(f,h,g):f=await e(h,g),o.serialize(f,d)},async destroySession(u,d){return await a(u.id),o.serialize("",{...d,maxAge:void 0,expires:new Date(0)})}}}function J1(t){Od(t.isSigned,`The "${t.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`)}function OV({cookie:t}={}){let e=bE(t)?t:wE(t?.name||"__session",t);return J1(e),{async getSession(n,r){return TE(n&&await e.parse(n,r)||{})},async commitSession(n,r){let a=await e.serialize(n.data,r);if(a.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+a.length);return a},async destroySession(n,r){return e.serialize("",{...r,maxAge:void 0,expires:new Date(0)})}}}function MV({cookie:t}={}){let e=new Map;return X1({cookie:t,async createData(n,r){let a=Math.random().toString(36).substring(2,10);return e.set(a,{data:n,expires:r}),a},async readData(n){if(e.has(n)){let{data:r,expires:a}=e.get(n);if(!a||a>new Date)return r;a&&e.delete(n)}return null},async updateData(n,r,a){e.set(n,{data:r,expires:a})},async deleteData(n){e.delete(n)}})}function kV(t,...e){let n=e[0],r=t.replace(/\/*\*?$/,"").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>{const d=u===void 0,f=n?n[o]:void 0;if(d&&f===void 0)throw new Error(`Path '${t}' requires param '${o}' but it was not provided`);return f===void 0?"":"/"+f});if(t.endsWith("*")){const a=n?n["*"]:void 0;a!==void 0&&(r+="/"+a)}return r||"/"}function RE({state:t,routes:e,getRouteInfo:n,location:r,basename:a,isSpaMode:o}){let u={...t,loaderData:{...t.loaderData}},d=kr(e,r,a);if(d)for(let f of d){let h=f.route.id,g=n(h);Fu(h,g.clientLoader,g.hasLoader,o)&&(g.hasHydrateFallback||!g.hasLoader)?delete u.loaderData[h]:g.hasLoader||(u.loaderData[h]=null)}return u}var Z1=class extends Pe.Component{constructor(t){super(t),this.state={error:null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:null,location:t.location}:{error:e.error,location:e.location}}render(){return this.state.error?Pe.createElement(eI,{error:this.state.error,renderAppShell:!0}):this.props.children}};function rR({renderAppShell:t,title:e,children:n}){return t?Pe.createElement("html",{lang:"en"},Pe.createElement("head",null,Pe.createElement("meta",{charSet:"utf-8"}),Pe.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),Pe.createElement("title",null,e)),Pe.createElement("body",null,Pe.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n))):n}function eI({error:t,renderAppShell:e}){console.error(t);let n=Pe.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          "💿 Hey developer 👋. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(xn(t))return Pe.createElement(rR,{renderAppShell:e,title:"Unhandled Thrown Response!"},Pe.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let a=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(a)}return Pe.createElement(rR,{renderAppShell:e,title:"Application Error!"},Pe.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),Pe.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function PV({hasRootLayout:t}){let e=rf();if(t===void 0)throw new Error("Missing 'hasRootLayout' prop");return Pe.createElement(eI,{renderAppShell:!t,error:e})}function LV(t){const e={};for(const n of t.matches)AE(e,n);return e}function AE(t,e){e=Array.isArray(e)?e:[e];for(const n of e)t[n.id]={links:n.links,meta:n.meta,default:VV}}var VV=()=>null;function jV({createFromReadableStream:t,createTemporaryReferenceSet:e,encodeReply:n,fetch:r=fetch}){const a=window;let o=0;return async(u,d)=>{let f=a.__routerActionID=(a.__routerActionID??(a.__routerActionID=0))+1;const h=e(),g=await r(new Request(location.href,{body:await n(d,{temporaryReferences:h}),method:"POST",headers:{Accept:"text/x-component","rsc-action-id":u}}));if(!g.body)throw new Error("No response body");const _=await t(g.body,{temporaryReferences:h});if(_.type==="redirect"){if(_.reload){window.location.href=_.location;return}return a.__reactRouterDataRouter.navigate(_.location,{replace:_.replace}),_.actionResult}if(_.type!=="action")throw new Error("Unexpected payload type");return _.rerender&&E.startTransition(async()=>{const v=await _.rerender;if(v&&o<f&&a.__routerActionID<=f){if(o=f,v.type==="redirect"){if(v.reload){window.location.href=v.location;return}a.__reactRouterDataRouter.navigate(v.location,{replace:v.replace});return}let b;for(const T of v.matches)a.__reactRouterDataRouter.patchRoutes(b?.id??null,[hu(T)],!0),b=T;window.__reactRouterDataRouter._internalSetStateDoNotUseOrYouWillBreakYourApp({}),E.startTransition(()=>{window.__reactRouterDataRouter._internalSetStateDoNotUseOrYouWillBreakYourApp({loaderData:Object.assign({},a.__reactRouterDataRouter.state.loaderData,v.loaderData),errors:v.errors?Object.assign({},a.__reactRouterDataRouter.state.errors,v.errors):null})})}}),_.actionResult}}function UV({fetchImplementation:t,createFromReadableStream:e,getContext:n,payload:r}){const a=window;if(a.__reactRouterDataRouter&&a.__reactRouterRouteModules)return{router:a.__reactRouterDataRouter,routeModules:a.__reactRouterRouteModules};if(r.type!=="render")throw new Error("Invalid payload type");a.__reactRouterRouteModules=a.__reactRouterRouteModules??{},AE(a.__reactRouterRouteModules,r.matches);let o=new Map;r.patches?.forEach(f=>{qe(f.parentId,"Invalid patch parentId"),o.has(f.parentId)||o.set(f.parentId,[]),o.get(f.parentId)?.push(f)});let u=r.matches.reduceRight((f,h)=>{const g=hu(h,r);if(f.length>0){g.children=f;let _=o.get(h.id);_&&g.children.push(..._.map(v=>hu(v)))}return[g]},[]);a.__reactRouterDataRouter=ju({routes:u,getContext:n,basename:r.basename,history:Xd(),hydrationData:RE({state:{loaderData:r.loaderData,actionData:r.actionData,errors:r.errors},routes:u,getRouteInfo:f=>{let h=r.matches.find(g=>g.id===f);return qe(h,"Route not found in payload"),{clientLoader:h.clientLoader,hasLoader:h.hasLoader,hasHydrateFallback:h.hydrateFallbackElement!=null}},location:r.location,basename:r.basename,isSpaMode:!1}),async patchRoutesOnNavigation({path:f,signal:h}){Lm.has(f)||await tI([f],e,t,h)},dataStrategy:FV(()=>a.__reactRouterDataRouter,!0,r.basename,e,t)}),a.__reactRouterDataRouter.state.initialized?(a.__routerInitialized=!0,a.__reactRouterDataRouter.initialize()):a.__routerInitialized=!1;let d;return a.__reactRouterDataRouter.subscribe(({loaderData:f,actionData:h})=>{d!==f&&(a.__routerActionID=(a.__routerActionID??(a.__routerActionID=0))+1)}),a.__reactRouterDataRouter._updateRoutesForHMR=f=>{const h=window.__reactRouterDataRouter.routes,g=[];function _(v,b){return v.map(T=>{const x=f.get(T.id);if(x){const{routeModule:I,hasAction:O,hasComponent:B,hasErrorBoundary:j,hasLoader:M}=x,V=hu({clientAction:I.clientAction,clientLoader:I.clientLoader,element:T.element,errorElement:T.errorElement,handle:T.handle,hasAction:O,hasComponent:B,hasErrorBoundary:j,hasLoader:M,hydrateFallbackElement:T.hydrateFallbackElement,id:T.id,index:T.index,links:I.links,meta:I.meta,parentId:b,path:T.path,shouldRevalidate:I.shouldRevalidate});return T.children&&(V.children=_(T.children,T.id)),V}const R={...T};return T.children&&(R.children=_(T.children,T.id)),R})}g.push(..._(h,void 0)),window.__reactRouterDataRouter._internalSetRoutes(g)},{router:a.__reactRouterDataRouter,routeModules:a.__reactRouterRouteModules}}var l_=GC();function FV(t,e,n,r,a){let o=l1(t,u=>{let d=u;return{hasLoader:d.route.hasLoader,hasClientLoader:d.route.hasClientLoader,hasComponent:d.route.hasComponent,hasAction:d.route.hasAction,hasClientAction:d.route.hasClientAction,hasShouldRevalidate:d.route.hasShouldRevalidate}},BV(r,a),e,n,u=>{let d=u;return d.route.hasComponent&&!d.route.element});return async u=>u.runClientMiddleware(async()=>{let d=u.context;d.set(l_,[]);let f=await o(u);const h=new Map;for(const g of d.get(l_))h.has(g.id)||h.set(g.id,[]),h.get(g.id).push(g);for(const g of u.matches){const _=h.get(g.route.id);if(_)for(const v of _)window.__reactRouterDataRouter.patchRoutes(v.parentId??null,[hu(v)],!0)}return f})}function BV(t,e){return async(n,r,a)=>{let{request:o,context:u}=n,d=rE(o.url,r,"rsc");o.method==="GET"&&(d=u1(d),a&&d.searchParams.set("_routes",a.join(",")));let f=await e(new Request(d,await r1(o)));if(f.status===404&&!f.headers.has("X-Remix-Response"))throw new Kn(404,"Not Found",!0);qe(f.body,"No response body to decode");try{const h=await t(f.body,{temporaryReferences:void 0});if(h.type==="redirect")return{status:f.status,data:{redirect:{redirect:h.location,reload:h.reload,replace:h.replace,revalidate:!1,status:h.status}}};if(h.type!=="render")throw new Error("Unexpected payload type");u.get(l_).push(...h.matches);let g={routes:{}};const _=ur(o.method)?"actionData":"loaderData";for(let[v,b]of Object.entries(h[_]||{}))g.routes[v]={data:b};if(h.errors)for(let[v,b]of Object.entries(h.errors))g.routes[v]={error:b};return{status:f.status,data:g}}catch{throw new Error("Unable to decode RSC response")}}}function zV({createFromReadableStream:t,fetch:e=fetch,payload:n,routeDiscovery:r="eager",getContext:a}){if(n.type!=="render")throw new Error("Invalid payload type");let{router:o,routeModules:u}=E.useMemo(()=>UV({payload:n,fetchImplementation:e,getContext:a,createFromReadableStream:t}),[t,n,e,a]);E.useEffect(()=>{S1()},[]),E.useLayoutEffect(()=>{const g=window;g.__routerInitialized||(g.__routerInitialized=!0,g.__reactRouterDataRouter.initialize())},[]);let[d,f]=E.useState(o.state.location);E.useLayoutEffect(()=>o.subscribe(g=>{g.location!==d&&f(g.location)}),[o,d]),E.useEffect(()=>{if(r==="lazy"||window.navigator?.connection?.saveData===!0)return;function g(T){let x=T.tagName==="FORM"?T.getAttribute("action"):T.getAttribute("href");if(!x)return;let R=T.tagName==="A"?T.pathname:new URL(x,window.location.origin).pathname;Lm.has(R)||ym.add(R)}async function _(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(g);let T=Array.from(ym.keys()).filter(x=>Lm.has(x)?(ym.delete(x),!1):!0);if(T.length!==0)try{await tI(T,t,e)}catch(x){console.error("Failed to fetch manifest patches",x)}}let v=KV(_,100);_(),new MutationObserver(()=>v()).observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]})},[r,t,e]);const h={future:{v8_middleware:!1,unstable_subResourceIntegrity:!1},isSpaMode:!1,ssr:!0,criticalCss:"",manifest:{routes:{},version:"1",url:"",entry:{module:"",imports:[]}},routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"},routeModules:u};return E.createElement(Q_.Provider,{value:!0},E.createElement(Z1,{location:d},E.createElement(la.Provider,{value:h},E.createElement(wp,{router:o,flushSync:_E.flushSync}))))}function hu(t,e){let n=e&&t.id in e.loaderData,r=e?.loaderData[t.id],a=e?.errors&&t.id in e.errors,o=e?.errors?.[t.id],u=t.clientLoader?.hydrate===!0||!t.hasLoader||t.hasComponent&&!t.element;qe(window.__reactRouterRouteModules),AE(window.__reactRouterRouteModules,t);let d={id:t.id,element:t.element,errorElement:t.errorElement,handle:t.handle,hasErrorBoundary:t.hasErrorBoundary,hydrateFallbackElement:t.hydrateFallbackElement,index:t.index,loader:t.clientLoader?async(f,h)=>{try{return await t.clientLoader({...f,serverLoader:()=>{if(iR("loader",t.id,t.hasLoader),u){if(n)return r;if(a)throw o}return Xh(h)}})}finally{u=!1}}:((f,h)=>Xh(h)),action:t.clientAction?(f,h)=>t.clientAction({...f,serverAction:async()=>(iR("action",t.id,t.hasLoader),await Xh(h))}):t.hasAction?(f,h)=>Xh(h):()=>{throw mm("action",t.id)},path:t.path,shouldRevalidate:t.shouldRevalidate,hasLoader:!0,hasClientLoader:t.clientLoader!=null,hasAction:t.hasAction,hasClientAction:t.clientAction!=null,hasShouldRevalidate:t.shouldRevalidate!=null};return typeof d.loader=="function"&&(d.loader.hydrate=Fu(t.id,t.clientLoader,t.hasLoader,!1)),d}function Xh(t){return qe(typeof t=="function","Invalid singleFetch parameter"),t()}function iR(t,e,n){if(!n){let a=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e}")`;throw console.error(a),new Kn(400,"Bad Request",new Error(a),!0)}}var ym=new Set,HV=1e3,Lm=new Set,$V=7680;function qV(t){if(t.length===0)return null;if(t.length===1)return new URL(`${t[0]}.manifest`,window.location.origin);let n=(window.__reactRouterDataRouter.basename??"").replace(/^\/|\/$/g,""),r=new URL(`${n}/.manifest`,window.location.origin);return t.sort().forEach(a=>r.searchParams.append("p",a)),r}async function tI(t,e,n,r){let a=qV(t);if(a==null)return;if(a.toString().length>$V){ym.clear();return}let o=await n(new Request(a,{signal:r}));if(!o.body||o.status<200||o.status>=300)throw new Error("Unable to fetch new route matches from the server");let u=await e(o.body,{temporaryReferences:void 0});if(u.type!=="manifest")throw new Error("Failed to patch routes");t.forEach(d=>GV(d,Lm)),u.patches.forEach(d=>{window.__reactRouterDataRouter.patchRoutes(d.parentId??null,[hu(d)])})}function GV(t,e){if(e.size>=HV){let n=e.values().next().value;e.delete(n)}e.add(t)}function KV(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}var u_=new TextEncoder,aR="</body></html>";function YV(t){let e=new TextDecoder,n,r=new Promise(f=>n=f),a=!1,o=[],u=null;function d(f){for(let h of o){let g=e.decode(h,{stream:!0});g.endsWith(aR)&&(g=g.slice(0,-aR.length)),f.enqueue(u_.encode(g))}o.length=0,u=null}return new TransformStream({transform(f,h){o.push(f),!u&&(u=setTimeout(async()=>{d(h),a||(a=!0,QV(t,h).catch(g=>h.error(g)).then(n))},0))},async flush(f){await r,u&&(clearTimeout(u),d(f)),f.enqueue(u_.encode("</body></html>"))}})}async function QV(t,e){let n=new TextDecoder("utf-8",{fatal:!0});const r=t.getReader();try{let o;for(;(o=await r.read())&&!o.done;){const u=o.value;try{gv(JSON.stringify(n.decode(u,{stream:!0})),e)}catch{let f=JSON.stringify(btoa(String.fromCodePoint(...u)));gv(`Uint8Array.from(atob(${f}), m => m.codePointAt(0))`,e)}}}finally{r.releaseLock()}let a=n.decode();a.length&&gv(JSON.stringify(a),e)}function gv(t,e){e.enqueue(u_.encode(`<script>${WV(`(self.__FLIGHT_DATA||=[]).push(${t})`)}<\/script>`))}function WV(t){return t.replace(/<!--/g,"<\\!--").replace(/<\/(script)/gi,"</\\$1")}var XV="use",sR=mk[XV];function JV(t){if(sR)return sR(t);throw new Error("React Router v7 requires React 19+ for RSC features.")}async function ZV({request:t,fetchServer:e,createFromReadableStream:n,renderHTML:r,hydrate:a=!0}){const o=new URL(t.url),d=tj(o)||nj(o)||t.headers.has("rsc-action-id"),f=await e(t);if(d||f.headers.get("React-Router-Resource")==="true")return f;if(!f.body)throw new Error("Missing body in server response");const h=f.clone();let g=null;a&&(g=f.clone());const _=f.body;let v,b=[];const T=()=>v?new ReadableStream({start(R){v.forEach(I=>R.enqueue(I)),b.push(R)}}):(v=[],_.pipeThrough(new TransformStream({transform(R,I){v.push(R),I.enqueue(R),b.forEach(O=>O.enqueue(R))},flush(){b.forEach(R=>R.close()),b=[]}}))),x=async()=>n(T());try{if(!h.body)throw new Error("Failed to clone server response");const R=await n(h.body);if(f.status===nE&&R.type==="redirect"){const j=new Headers(f.headers);return j.delete("Content-Encoding"),j.delete("Content-Length"),j.delete("Content-Type"),j.delete("x-remix-response"),j.set("Location",R.location),new Response(g?.body||"",{headers:j,status:R.status,statusText:f.statusText})}const I=await r(x),O=new Headers(f.headers);if(O.set("Content-Type","text/html"),!a)return new Response(I,{status:f.status,headers:O});if(!g?.body)throw new Error("Failed to clone server response");const B=I.pipeThrough(YV(g.body));return new Response(B,{status:f.status,headers:O})}catch(R){if(R instanceof Response)return R;throw R}}function ej({getPayload:t}){const e=JV(t());if(e.type==="redirect")throw new Response(null,{status:e.status,headers:{Location:e.location}});if(e.type!=="render")return null;let n={...e.loaderData};for(const u of e.matches)Fu(u.id,u.clientLoader,u.hasLoader,!1)&&(u.hydrateFallbackElement||!u.hasLoader)&&delete n[u.id];const r={actionData:e.actionData,actionHeaders:{},basename:e.basename,errors:e.errors,loaderData:n,loaderHeaders:{},location:e.location,statusCode:200,matches:e.matches.map(u=>({params:u.params,pathname:u.pathname,pathnameBase:u.pathnameBase,route:{id:u.id,action:u.hasAction||!!u.clientAction,handle:u.handle,hasErrorBoundary:u.hasErrorBoundary,loader:u.hasLoader||!!u.clientLoader,index:u.index,path:u.path,shouldRevalidate:u.shouldRevalidate}}))},a=vE(e.matches.reduceRight((u,d)=>{const f={id:d.id,action:d.hasAction||!!d.clientAction,element:d.element,errorElement:d.errorElement,handle:d.handle,hasErrorBoundary:!!d.errorElement,hydrateFallbackElement:d.hydrateFallbackElement,index:d.index,loader:d.hasLoader||!!d.clientLoader,path:d.path,shouldRevalidate:d.shouldRevalidate};return u.length>0&&(f.children=u),[f]},[]),r),o={future:{v8_middleware:!1,unstable_subResourceIntegrity:!1},isSpaMode:!1,ssr:!0,criticalCss:"",manifest:{routes:{},version:"1",url:"",entry:{module:"",imports:[]}},routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"},routeModules:LV(e)};return E.createElement(Q_.Provider,{value:!0},E.createElement(Z1,{location:e.location},E.createElement(la.Provider,{value:o},E.createElement(yE,{context:r,router:a,hydrate:!1,nonce:e.nonce}))))}function tj(t){return t.pathname.endsWith(".rsc")}function nj(t){return t.pathname.endsWith(".manifest")}function rj(){let t=new TextEncoder,e=null,n=new ReadableStream({start(r){if(typeof window>"u")return;let a=o=>{typeof o=="string"?r.enqueue(t.encode(o)):r.enqueue(o)};window.__FLIGHT_DATA||(window.__FLIGHT_DATA=[]),window.__FLIGHT_DATA.forEach(a),window.__FLIGHT_DATA.push=o=>(a(o),0),e=r}});return typeof document<"u"&&document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{e?.close()}):e?.close(),n}function nI(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new Kn(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack=a.stack,n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack=a.stack,n[r]=o}}else n[r]=a;return n}function rI(t){return E.createElement(wp,{flushSync:_E.flushSync,...t})}var Ye=null,sd=null;function ij(){if(!Ye&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){const t=document.querySelector("script[rr-importmap]");if(t?.textContent)try{window.__reactRouterManifest.sri=JSON.parse(t.textContent).integrity}catch(e){console.error("Failed to parse import map",e)}}Ye={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function aj({getContext:t}){if(ij(),!Ye)throw new Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let e=Ye;if(!Ye.stateDecodingPromise){let o=Ye.context.stream;qe(o,"No stream found for single fetch decoding"),Ye.context.stream=void 0,Ye.stateDecodingPromise=Sp(o,window).then(u=>{Ye.context.state=u.value,e.stateDecodingPromise.value=!0}).catch(u=>{e.stateDecodingPromise.error=u})}if(Ye.stateDecodingPromise.error)throw Ye.stateDecodingPromise.error;if(!Ye.stateDecodingPromise.value)throw Ye.stateDecodingPromise;let n=sf(Ye.manifest.routes,Ye.routeModules,Ye.context.state,Ye.context.ssr,Ye.context.isSpaMode),r;if(Ye.context.isSpaMode){let{loaderData:o}=Ye.context.state;Ye.manifest.routes.root?.hasLoader&&o&&"root"in o&&(r={loaderData:{root:o.root}})}else r=RE({state:Ye.context.state,routes:n,getRouteInfo:o=>({clientLoader:Ye.routeModules[o]?.clientLoader,hasLoader:Ye.manifest.routes[o]?.hasLoader===!0,hasHydrateFallback:Ye.routeModules[o]?.HydrateFallback!=null}),location:window.location,basename:window.__reactRouterContext?.basename,isSpaMode:Ye.context.isSpaMode}),r&&r.errors&&(r.errors=nI(r.errors));let a=ju({routes:n,history:Xd(),basename:Ye.context.basename,getContext:t,hydrationData:r,hydrationRouteProperties:af,mapRouteProperties:sl,future:{middleware:Ye.context.future.v8_middleware},dataStrategy:o1(()=>a,Ye.manifest,Ye.routeModules,Ye.context.ssr,Ye.context.basename),patchRoutesOnNavigation:_1(Ye.manifest,Ye.routeModules,Ye.context.ssr,Ye.context.routeDiscovery,Ye.context.isSpaMode,Ye.context.basename)});return Ye.router=a,a.state.initialized&&(Ye.routerInitialized=!0,a.initialize()),a.createRoutesForHMR=y1,window.__reactRouterDataRouter=a,a}function sj(t){sd||(sd=aj({getContext:t.getContext}));let[e,n]=E.useState(void 0);E.useEffect(()=>{},[]),E.useEffect(()=>{},[e]);let[r,a]=E.useState(sd.state.location);return E.useLayoutEffect(()=>{Ye&&Ye.router&&!Ye.routerInitialized&&(Ye.routerInitialized=!0,Ye.router.initialize())},[]),E.useLayoutEffect(()=>{if(Ye&&Ye.router)return Ye.router.subscribe(o=>{o.location!==r&&a(o.location)})},[r]),qe(Ye,"ssrInfo unavailable for HydratedRouter"),E1(sd,Ye.manifest,Ye.routeModules,Ye.context.ssr,Ye.context.routeDiscovery,Ye.context.isSpaMode),E.createElement(E.Fragment,null,E.createElement(la.Provider,{value:{manifest:Ye.manifest,routeModules:Ye.routeModules,future:Ye.context.future,criticalCss:e,ssr:Ye.context.ssr,isSpaMode:Ye.context.isSpaMode,routeDiscovery:Ye.context.routeDiscovery}},E.createElement(dE,{location:r},E.createElement(rI,{router:sd,unstable_onError:t.unstable_onError}))),E.createElement(E.Fragment,null))}const oj=Object.freeze(Object.defineProperty({__proto__:null,HydratedRouter:sj,RouterProvider:rI},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lj=Object.freeze(Object.defineProperty({__proto__:null,Await:MP,BrowserRouter:x1,Form:hE,HashRouter:jL,IDLE_BLOCKER:Is,IDLE_FETCHER:pp,IDLE_NAVIGATION:_d,Link:fE,Links:xL,MemoryRouter:OP,Meta:NL,NavLink:N1,Navigate:Px,NavigationType:BC,Outlet:Lx,PrefetchPageLinks:cE,Route:Ki,Router:so,RouterContextProvider:Qi,RouterProvider:wp,Routes:Vx,Scripts:T1,ScrollRestoration:O1,ServerRouter:iV,StaticRouter:GL,StaticRouterProvider:yE,UNSAFE_AwaitContextProvider:hP,UNSAFE_DataRouterContext:oa,UNSAFE_DataRouterStateContext:ro,UNSAFE_ErrorResponseImpl:Kn,UNSAFE_FetchersContext:ef,UNSAFE_FrameworkContext:la,UNSAFE_LocationContext:al,UNSAFE_NavigationContext:Vr,UNSAFE_RSCDefaultRootErrorBoundary:PV,UNSAFE_RemixErrorBoundary:dE,UNSAFE_RouteContext:jr,UNSAFE_ServerMode:H1,UNSAFE_SingleFetchRedirectSymbol:Fa,UNSAFE_ViewTransitionContext:Zd,UNSAFE_WithComponentProps:jP,UNSAFE_WithErrorBoundaryProps:FP,UNSAFE_WithHydrateFallbackProps:UP,UNSAFE_createBrowserHistory:Xd,UNSAFE_createClientRoutes:sf,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:y1,UNSAFE_createRouter:ju,UNSAFE_decodeViaTurboStream:Sp,UNSAFE_deserializeErrors:nI,UNSAFE_getHydrationData:RE,UNSAFE_getPatchRoutesOnNavigationFunction:_1,UNSAFE_getTurboStreamSingleFetchDataStrategy:o1,UNSAFE_hydrationRouteProperties:af,UNSAFE_invariant:qe,UNSAFE_mapRouteProperties:sl,UNSAFE_shouldHydrateRouteLoader:Fu,UNSAFE_useFogOFWarDiscovery:E1,UNSAFE_useScrollRestoration:L1,UNSAFE_withComponentProps:Ux,UNSAFE_withErrorBoundaryProps:Hx,UNSAFE_withHydrateFallbackProps:Bx,createBrowserRouter:PL,createContext:GC,createCookie:wE,createCookieSessionStorage:OV,createHashRouter:LL,createMemoryRouter:kx,createMemorySessionStorage:MV,createPath:Ar,createRequestHandler:TV,createRoutesFromChildren:Md,createRoutesFromElements:LP,createRoutesStub:aV,createSearchParams:Nm,createSession:TE,createSessionStorage:X1,createStaticHandler:QL,createStaticRouter:vE,data:ex,generatePath:Uk,href:kV,isCookie:bE,isRouteErrorResponse:xn,isSession:NV,matchPath:Eu,matchRoutes:kr,parsePath:ri,redirect:Jd,redirectDocument:tx,renderMatches:VP,replace:nx,resolvePath:JC,unstable_HistoryRouter:I1,unstable_RSCHydratedRouter:zV,unstable_RSCStaticRouter:ej,unstable_createCallServer:jV,unstable_getRSCStream:rj,unstable_routeRSCServerRequest:ZV,unstable_setDevServerHooks:_V,unstable_usePrompt:qL,useActionData:Ep,useAsyncError:AP,useAsyncValue:Nx,useBeforeUnload:HL,useBlocker:Ox,useFetcher:BL,useFetchers:zL,useFormAction:P1,useHref:Sx,useInRouterContext:io,useLinkClickHandler:k1,useLoaderData:_p,useLocation:mr,useMatch:pP,useMatches:vp,useNavigate:tf,useNavigation:Dx,useNavigationType:mP,useOutlet:Cx,useOutletContext:yP,useParams:yp,useResolvedPath:Uu,useRevalidator:TP,useRouteError:rf,useRouteLoaderData:RP,useRoutes:xx,useSearchParams:pE,useSubmit:gE,useViewTransitionState:V1},Symbol.toStringTag,{value:"Module"}));var yv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var oR;function uj(){return oR||(oR=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var d=arguments[u];d&&(o=a(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var d in o)e.call(o,d)&&o[d]&&(u=a(u,d));return u}function a(o,u){return u?o?o+" "+u:o+u:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yv)),yv.exports}var cj=uj();const Me=Wd(cj);function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}function iI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lR(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function dj(t){var e=fj(t,"string");return typeof e=="symbol"?e:String(e)}function fj(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hj(t,e,n){var r=E.useRef(t!==void 0),a=E.useState(e),o=a[0],u=a[1],d=t!==void 0,f=r.current;return r.current=d,!d&&f&&o!==e&&u(e),[d?t:o,E.useCallback(function(h){for(var g=arguments.length,_=new Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];n&&n.apply(void 0,[h].concat(_)),u(h)},[n])]}function of(t,e){return Object.keys(e).reduce(function(n,r){var a,o=n,u=o[lR(r)],d=o[r],f=iI(o,[lR(r),r].map(dj)),h=e[r],g=hj(d,u,t[h]),_=g[0],v=g[1];return c_({},f,(a={},a[r]=_,a[h]=v,a))},t)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},d_(t,e)}function mj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d_(t,e)}const pj=["xxl","xl","lg","md","sm","xs"],gj="xs",lf=E.createContext({prefixes:{},breakpoints:pj,minBreakpoint:gj}),{Consumer:Y$,Provider:Q$}=lf;function Ge(t,e){const{prefixes:n}=E.useContext(lf);return t||n[e]||e}function aI(){const{breakpoints:t}=E.useContext(lf);return t}function sI(){const{minBreakpoint:t}=E.useContext(lf);return t}function oI(){const{dir:t}=E.useContext(lf);return t==="rtl"}function uf(t){return t&&t.ownerDocument||document}function yj(t){var e=uf(t);return e&&e.defaultView||window}function vj(t,e){return yj(t).getComputedStyle(t,e)}var _j=/([A-Z])/g;function Ej(t){return t.replace(_j,"-$1").toLowerCase()}var wj=/^ms-/;function Jh(t){return Ej(t).replace(wj,"-ms-")}var bj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Sj(t){return!!(t&&bj.test(t))}function Va(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Jh(e))||vj(t).getPropertyValue(Jh(e));Object.keys(e).forEach(function(a){var o=e[a];!o&&o!==0?t.style.removeProperty(Jh(a)):Sj(a)?r+=a+"("+o+") ":n+=Jh(a)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var vv={exports:{}},_v,uR;function Tj(){if(uR)return _v;uR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _v=t,_v}var Ev,cR;function Rj(){if(cR)return Ev;cR=1;var t=Tj();function e(){}function n(){}return n.resetWarningCache=e,Ev=function(){function r(u,d,f,h,g,_){if(_!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Ev}var dR;function lI(){return dR||(dR=1,vv.exports=Rj()()),vv.exports}var Aj=lI();const ja=Wd(Aj),fR={disabled:!1},uI=Pe.createContext(null);var Cj=function(e){return e.scrollTop},fd="unmounted",xs="exited",Ni="entering",Ma="entered",Ld="exiting",Ya=(function(t){mj(e,t);function e(r,a){var o;o=t.call(this,r,a)||this;var u=a,d=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?d?(f=xs,o.appearStatus=Ni):f=Ma:r.unmountOnExit||r.mountOnEnter?f=fd:f=xs,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var u=a.in;return u&&o.status===fd?{status:xs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var o=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Ni&&u!==Ma&&(o=Ni):(u===Ni||u===Ma)&&(o=Ld)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,o,u,d;return o=u=d=a,a!=null&&typeof a!="number"&&(o=a.exit,u=a.enter,d=a.appear!==void 0?a.appear:u),{exit:o,enter:u,appear:d}},n.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===Ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:ou.findDOMNode(this);u&&Cj(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xs&&this.setState({status:fd})},n.performEnter=function(a){var o=this,u=this.props.enter,d=this.context?this.context.isMounting:a,f=this.props.nodeRef?[d]:[ou.findDOMNode(this),d],h=f[0],g=f[1],_=this.getTimeouts(),v=d?_.appear:_.enter;if(!a&&!u||fR.disabled){this.safeSetState({status:Ma},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Ni},function(){o.props.onEntering(h,g),o.onTransitionEnd(v,function(){o.safeSetState({status:Ma},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var a=this,o=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:ou.findDOMNode(this);if(!o||fR.disabled){this.safeSetState({status:xs},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Ld},function(){a.props.onExiting(d),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:xs},function(){a.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},n.setNextCallback=function(a){var o=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,o.nextCallback=null,a(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:ou.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===fd)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var d=iI(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(uI.Provider,{value:null},typeof u=="function"?u(a,d):Pe.cloneElement(Pe.Children.only(u),d))},e})(Pe.Component);Ya.contextType=uI;Ya.propTypes={};function Wl(){}Ya.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wl,onEntering:Wl,onEntered:Wl,onExit:Wl,onExiting:Wl,onExited:Wl};Ya.UNMOUNTED=fd;Ya.EXITED=xs;Ya.ENTERING=Ni;Ya.ENTERED=Ma;Ya.EXITING=Ld;function xj(t){return t.code==="Escape"||t.keyCode===27}function Ij(){const t=E.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function zu(t){if(!t||typeof t=="function")return null;const{major:e}=Ij();return e>=19?t.props.ref:t.ref}const Hu=!!(typeof window<"u"&&window.document&&window.document.createElement);var f_=!1,h_=!1;try{var wv={get passive(){return f_=!0},get once(){return h_=f_=!0}};Hu&&(window.addEventListener("test",wv,wv),window.removeEventListener("test",wv,!0))}catch{}function CE(t,e,n,r){if(r&&typeof r!="boolean"&&!h_){var a=r.once,o=r.capture,u=n;!h_&&a&&(u=n.__once||function d(f){this.removeEventListener(e,d,o),n.call(this,f)},n.__once=u),t.addEventListener(e,u,f_?r:o)}t.addEventListener(e,n,r)}function m_(t,e,n,r){var a=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,a),n.__once&&t.removeEventListener(e,n.__once,a)}function Ps(t,e,n,r){return CE(t,e,n,r),function(){m_(t,e,n,r)}}function Dj(t,e,n,r){if(r===void 0&&(r=!0),t){var a=document.createEvent("HTMLEvents");a.initEvent(e,n,r),t.dispatchEvent(a)}}function Nj(t){var e=Va(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Oj(t,e,n){n===void 0&&(n=5);var r=!1,a=setTimeout(function(){r||Dj(t,"transitionend",!0)},e+n),o=Ps(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),o()}}function cI(t,e,n,r){n==null&&(n=Nj(t)||0);var a=Oj(t,n,r),o=Ps(t,"transitionend",e);return function(){a(),o()}}function hR(t,e){const n=Va(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function xE(t,e){const n=hR(t,"transitionDuration"),r=hR(t,"transitionDelay"),a=cI(t,o=>{o.target===t&&(a(),e(o))},n+r)}function od(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...a){e.apply(this,a),n.apply(this,a)}},null)}function dI(t){t.offsetHeight}const mR=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Mj(t,e){const n=mR(t),r=mR(e);return a=>{n&&n(a),r&&r(a)}}function Cp(t,e){return E.useMemo(()=>Mj(t,e),[t,e])}function kj(t){return t&&"setState"in t?ou.findDOMNode(t):t??null}const xp=Pe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:a,onExited:o,addEndListener:u,children:d,childRef:f,...h},g)=>{const _=E.useRef(null),v=Cp(_,f),b=V=>{v(kj(V))},T=V=>P=>{V&&_.current&&V(_.current,P)},x=E.useCallback(T(t),[t]),R=E.useCallback(T(e),[e]),I=E.useCallback(T(n),[n]),O=E.useCallback(T(r),[r]),B=E.useCallback(T(a),[a]),j=E.useCallback(T(o),[o]),M=E.useCallback(T(u),[u]);return w.jsx(Ya,{ref:g,...h,onEnter:x,onEntered:I,onEntering:R,onExit:O,onExited:j,onExiting:B,addEndListener:M,nodeRef:_,children:typeof d=="function"?(V,P)=>d(V,{...P,ref:b}):Pe.cloneElement(d,{ref:b})})});xp.displayName="TransitionWrapper";const Pj={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Lj(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],a=Pj[t];return r+parseInt(Va(e,a[0]),10)+parseInt(Va(e,a[1]),10)}const Vj={[xs]:"collapse",[Ld]:"collapsing",[Ni]:"collapsing",[Ma]:"collapse show"},IE=Pe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:a,className:o,children:u,dimension:d="height",in:f=!1,timeout:h=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:v=!1,getDimensionValue:b=Lj,...T},x)=>{const R=typeof d=="function"?d():d,I=E.useMemo(()=>od(V=>{V.style[R]="0"},t),[R,t]),O=E.useMemo(()=>od(V=>{const P=`scroll${R[0].toUpperCase()}${R.slice(1)}`;V.style[R]=`${V[P]}px`},e),[R,e]),B=E.useMemo(()=>od(V=>{V.style[R]=null},n),[R,n]),j=E.useMemo(()=>od(V=>{V.style[R]=`${b(R,V)}px`,dI(V)},r),[r,b,R]),M=E.useMemo(()=>od(V=>{V.style[R]=null},a),[R,a]);return w.jsx(xp,{ref:x,addEndListener:xE,...T,"aria-expanded":T.role?f:null,onEnter:I,onEntering:O,onEntered:B,onExit:j,onExiting:M,childRef:zu(u),in:f,timeout:h,mountOnEnter:g,unmountOnExit:_,appear:v,children:(V,P)=>Pe.cloneElement(u,{...P,className:Me(o,u.props.className,Vj[V],R==="width"&&"collapse-horizontal")})})});IE.displayName="Collapse";function jj(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function Ba(t){const e=jj(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const cf=(t=>E.forwardRef((e,n)=>w.jsx("div",{...e,ref:n,className:Me(e.className,t)}))),fI=cf("h4");fI.displayName="DivStyledAsH4";const hI=E.forwardRef(({className:t,bsPrefix:e,as:n=fI,...r},a)=>(e=Ge(e,"alert-heading"),w.jsx(n,{ref:a,className:Me(t,e),...r})));hI.displayName="AlertHeading";function Uj(){return E.useState(null)}function Fj(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function dr(t){const e=Fj(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function Bj(t,e,n,r=!1){const a=dr(n);E.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,a,r),()=>o.removeEventListener(e,a,r)},[t])}function mI(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function pI(t){const e=E.useRef(null);return E.useEffect(()=>{e.current=t}),e.current}const zj=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Hj=typeof document<"u",pR=Hj||zj?E.useLayoutEffect:E.useEffect,$j=["as","disabled"];function qj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gj(t){return!t||t.trim()==="#"}function DE({tagName:t,disabled:e,href:n,target:r,rel:a,role:o,onClick:u,tabIndex:d=0,type:f}){t||(n!=null||r!=null||a!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:f||"button",disabled:e},h];const g=v=>{if((e||t==="a"&&Gj(n))&&v.preventDefault(),e){v.stopPropagation();return}u?.(v)},_=v=>{v.key===" "&&(v.preventDefault(),g(v))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:d,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?a:void 0,onClick:g,onKeyDown:_},h]}const NE=E.forwardRef((t,e)=>{let{as:n,disabled:r}=t,a=qj(t,$j);const[o,{tagName:u}]=DE(Object.assign({tagName:n,disabled:r},a));return w.jsx(u,Object.assign({},a,o,{ref:e}))});NE.displayName="Button";const Kj=["onKeyDown"];function Yj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qj(t){return!t||t.trim()==="#"}const Ip=E.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Yj(t,Kj);const[a]=DE(Object.assign({tagName:"a"},r)),o=dr(u=>{a.onKeyDown(u),n?.(u)});return Qj(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:e},r,a,{onKeyDown:o})):w.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Ip.displayName="Anchor";const gI=E.forwardRef(({className:t,bsPrefix:e,as:n=Ip,...r},a)=>(e=Ge(e,"alert-link"),w.jsx(n,{ref:a,className:Me(t,e),...r})));gI.displayName="AlertLink";const Wj={[Ni]:"show",[Ma]:"show"},bu=E.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...a},o)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},d=E.useCallback((f,h)=>{dI(f),r?.(f,h)},[r]);return w.jsx(xp,{ref:o,addEndListener:xE,...u,onEnter:d,childRef:zu(e),children:(f,h)=>E.cloneElement(e,{...h,className:Me("fade",t,e.props.className,Wj[f],n[f])})})});bu.displayName="Fade";const Xj={"aria-label":ja.string,onClick:ja.func,variant:ja.oneOf(["white"])},Dp=E.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},a)=>w.jsx("button",{ref:a,type:"button",className:Me("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Dp.displayName="CloseButton";Dp.propTypes=Xj;const yI=E.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:a="Close alert",closeVariant:o,className:u,children:d,variant:f="primary",onClose:h,dismissible:g,transition:_=bu,...v}=of(t,{show:"onClose"}),b=Ge(n,"alert"),T=Ba(I=>{h&&h(!1,I)}),x=_===!0?bu:_,R=w.jsxs("div",{role:"alert",...x?void 0:v,ref:e,className:Me(u,b,f&&`${b}-${f}`,g&&`${b}-dismissible`),children:[g&&w.jsx(Dp,{onClick:T,"aria-label":a,variant:o}),d]});return x?w.jsx(x,{unmountOnExit:!0,...v,ref:void 0,in:r,children:R}):r?R:null});yI.displayName="Alert";const Fs=Object.assign(yI,{Link:gI,Heading:hI}),Wo=E.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:a,as:o="span",...u},d)=>{const f=Ge(t,"badge");return w.jsx(o,{ref:d,...u,className:Me(a,f,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Wo.displayName="Badge";const Je=E.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:a=!1,disabled:o=!1,className:u,...d},f)=>{const h=Ge(e,"btn"),[g,{tagName:_}]=DE({tagName:t,disabled:o,...d}),v=_;return w.jsx(v,{...g,...d,ref:f,disabled:o,className:Me(u,h,a&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,d.href&&o&&"disabled")})});Je.displayName="Button";const Vm=E.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:a="group",as:o="div",...u},d)=>{const f=Ge(t,"btn-group");let h=f;return n&&(h=`${f}-vertical`),w.jsx(o,{...u,ref:d,role:a,className:Me(r,h,e&&`${f}-${e}`)})});Vm.displayName="ButtonGroup";const OE=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"card-body"),w.jsx(n,{ref:a,className:Me(t,e),...r})));OE.displayName="CardBody";const vI=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"card-footer"),w.jsx(n,{ref:a,className:Me(t,e),...r})));vI.displayName="CardFooter";const ME=E.createContext(null);ME.displayName="CardHeaderContext";const _I=E.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},a)=>{const o=Ge(t,"card-header"),u=E.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return w.jsx(ME.Provider,{value:u,children:w.jsx(n,{ref:a,...r,className:Me(e,o)})})});_I.displayName="CardHeader";const EI=E.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...a},o)=>{const u=Ge(t,"card-img");return w.jsx(r,{ref:o,className:Me(n?`${u}-${n}`:u,e),...a})});EI.displayName="CardImg";const wI=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"card-img-overlay"),w.jsx(n,{ref:a,className:Me(t,e),...r})));wI.displayName="CardImgOverlay";const bI=E.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},a)=>(e=Ge(e,"card-link"),w.jsx(n,{ref:a,className:Me(t,e),...r})));bI.displayName="CardLink";const Jj=cf("h6"),SI=E.forwardRef(({className:t,bsPrefix:e,as:n=Jj,...r},a)=>(e=Ge(e,"card-subtitle"),w.jsx(n,{ref:a,className:Me(t,e),...r})));SI.displayName="CardSubtitle";const TI=E.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},a)=>(e=Ge(e,"card-text"),w.jsx(n,{ref:a,className:Me(t,e),...r})));TI.displayName="CardText";const Zj=cf("h5"),RI=E.forwardRef(({className:t,bsPrefix:e,as:n=Zj,...r},a)=>(e=Ge(e,"card-title"),w.jsx(n,{ref:a,className:Me(t,e),...r})));RI.displayName="CardTitle";const AI=E.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:a,body:o=!1,children:u,as:d="div",...f},h)=>{const g=Ge(t,"card");return w.jsx(d,{ref:h,...f,className:Me(e,g,n&&`bg-${n}`,r&&`text-${r}`,a&&`border-${a}`),children:o?w.jsx(OE,{children:u}):u})});AI.displayName="Card";const qt=Object.assign(AI,{Img:EI,Title:RI,Subtitle:SI,Body:OE,Link:bI,Text:TI,Header:_I,Footer:vI,ImgOverlay:wI});function eU(t){const e=E.useRef(t);return e.current=t,e}function tU(t){const e=eU(t);E.useEffect(()=>()=>e.current(),[])}function nU(t,e){return E.Children.toArray(t).some(n=>E.isValidElement(n)&&n.type===e)}function rU({as:t,bsPrefix:e,className:n,...r}){e=Ge(e,"col");const a=aI(),o=sI(),u=[],d=[];return a.forEach(f=>{const h=r[f];delete r[f];let g,_,v;typeof h=="object"&&h!=null?{span:g,offset:_,order:v}=h:g=h;const b=f!==o?`-${f}`:"";g&&u.push(g===!0?`${e}${b}`:`${e}${b}-${g}`),v!=null&&d.push(`order${b}-${v}`),_!=null&&d.push(`offset${b}-${_}`)}),[{...r,className:Me(n,...u,...d)},{as:t,bsPrefix:e,spans:u}]}const _n=E.forwardRef((t,e)=>{const[{className:n,...r},{as:a="div",bsPrefix:o,spans:u}]=rU(t);return w.jsx(a,{...r,ref:e,className:Me(n,!u.length&&o)})});_n.displayName="Col";const ol=E.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...a},o)=>{const u=Ge(t,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return w.jsx(n,{ref:o,...a,className:Me(r,e?`${u}${d}`:u)})});ol.displayName="Container";var iU=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oa(t,e){return iU(t.querySelectorAll(e))}function aU(t,e,n){const r=E.useRef(t!==void 0),[a,o]=E.useState(e),u=t!==void 0,d=r.current;return r.current=u,!u&&d&&a!==e&&o(e),[u?t:a,E.useCallback((...f)=>{const[h,...g]=f;let _=n?.(h,...g);return o(h),_},[n])]}function CI(){const[,t]=E.useReducer(e=>e+1,0);return t}const Np=E.createContext(null);var gR=Object.prototype.hasOwnProperty;function yR(t,e,n){for(n of t.keys())if(Ed(n,e))return n}function Ed(t,e){var n,r,a;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ed(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(a=r,a&&typeof a=="object"&&(a=yR(e,a),!a)||!e.has(a))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(a=r[0],a&&typeof a=="object"&&(a=yR(e,a),!a)||!Ed(r[1],e.get(a)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(gR.call(t,n)&&++r&&!gR.call(e,n)||!(n in e)||!Ed(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function sU(t){const e=mI();return[t[0],E.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Pr="top",_i="bottom",Ei="right",Lr="left",kE="auto",df=[Pr,_i,Ei,Lr],Su="start",Vd="end",oU="clippingParents",xI="viewport",ld="popper",lU="reference",vR=df.reduce(function(t,e){return t.concat([e+"-"+Su,e+"-"+Vd])},[]),II=[].concat(df,[kE]).reduce(function(t,e){return t.concat([e,e+"-"+Su,e+"-"+Vd])},[]),uU="beforeRead",cU="read",dU="afterRead",fU="beforeMain",hU="main",mU="afterMain",pU="beforeWrite",gU="write",yU="afterWrite",vU=[uU,cU,dU,fU,hU,mU,pU,gU,yU];function Xi(t){return t.split("-")[0]}function ni(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jo(t){var e=ni(t).Element;return t instanceof e||t instanceof Element}function Ji(t){var e=ni(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function PE(t){if(typeof ShadowRoot>"u")return!1;var e=ni(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Xo=Math.max,jm=Math.min,Tu=Math.round;function p_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function DI(){return!/^((?!chrome|android).)*safari/i.test(p_())}function Ru(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),a=1,o=1;e&&Ji(t)&&(a=t.offsetWidth>0&&Tu(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Tu(r.height)/t.offsetHeight||1);var u=Jo(t)?ni(t):window,d=u.visualViewport,f=!DI()&&n,h=(r.left+(f&&d?d.offsetLeft:0))/a,g=(r.top+(f&&d?d.offsetTop:0))/o,_=r.width/a,v=r.height/o;return{width:_,height:v,top:g,right:h+_,bottom:g+v,left:h,x:h,y:g}}function LE(t){var e=Ru(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function NI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&PE(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qs(t){return t?(t.nodeName||"").toLowerCase():null}function za(t){return ni(t).getComputedStyle(t)}function _U(t){return["table","td","th"].indexOf(Qs(t))>=0}function oo(t){return((Jo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Op(t){return Qs(t)==="html"?t:t.assignedSlot||t.parentNode||(PE(t)?t.host:null)||oo(t)}function _R(t){return!Ji(t)||za(t).position==="fixed"?null:t.offsetParent}function EU(t){var e=/firefox/i.test(p_()),n=/Trident/i.test(p_());if(n&&Ji(t)){var r=za(t);if(r.position==="fixed")return null}var a=Op(t);for(PE(a)&&(a=a.host);Ji(a)&&["html","body"].indexOf(Qs(a))<0;){var o=za(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function ff(t){for(var e=ni(t),n=_R(t);n&&_U(n)&&za(n).position==="static";)n=_R(n);return n&&(Qs(n)==="html"||Qs(n)==="body"&&za(n).position==="static")?e:n||EU(t)||e}function VE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wd(t,e,n){return Xo(t,jm(e,n))}function wU(t,e,n){var r=wd(t,e,n);return r>n?n:r}function OI(){return{top:0,right:0,bottom:0,left:0}}function MI(t){return Object.assign({},OI(),t)}function kI(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var bU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,MI(typeof e!="number"?e:kI(e,df))};function SU(t){var e,n=t.state,r=t.name,a=t.options,o=n.elements.arrow,u=n.modifiersData.popperOffsets,d=Xi(n.placement),f=VE(d),h=[Lr,Ei].indexOf(d)>=0,g=h?"height":"width";if(!(!o||!u)){var _=bU(a.padding,n),v=LE(o),b=f==="y"?Pr:Lr,T=f==="y"?_i:Ei,x=n.rects.reference[g]+n.rects.reference[f]-u[f]-n.rects.popper[g],R=u[f]-n.rects.reference[f],I=ff(o),O=I?f==="y"?I.clientHeight||0:I.clientWidth||0:0,B=x/2-R/2,j=_[b],M=O-v[g]-_[T],V=O/2-v[g]/2+B,P=wd(j,V,M),D=f;n.modifiersData[r]=(e={},e[D]=P,e.centerOffset=P-V,e)}}function TU(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||NI(e.elements.popper,a)&&(e.elements.arrow=a))}const RU={name:"arrow",enabled:!0,phase:"main",fn:SU,effect:TU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Au(t){return t.split("-")[1]}var AU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CU(t,e){var n=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:Tu(n*a)/a||0,y:Tu(r*a)/a||0}}function ER(t){var e,n=t.popper,r=t.popperRect,a=t.placement,o=t.variation,u=t.offsets,d=t.position,f=t.gpuAcceleration,h=t.adaptive,g=t.roundOffsets,_=t.isFixed,v=u.x,b=v===void 0?0:v,T=u.y,x=T===void 0?0:T,R=typeof g=="function"?g({x:b,y:x}):{x:b,y:x};b=R.x,x=R.y;var I=u.hasOwnProperty("x"),O=u.hasOwnProperty("y"),B=Lr,j=Pr,M=window;if(h){var V=ff(n),P="clientHeight",D="clientWidth";if(V===ni(n)&&(V=oo(n),za(V).position!=="static"&&d==="absolute"&&(P="scrollHeight",D="scrollWidth")),V=V,a===Pr||(a===Lr||a===Ei)&&o===Vd){j=_i;var k=_&&V===M&&M.visualViewport?M.visualViewport.height:V[P];x-=k-r.height,x*=f?1:-1}if(a===Lr||(a===Pr||a===_i)&&o===Vd){B=Ei;var z=_&&V===M&&M.visualViewport?M.visualViewport.width:V[D];b-=z-r.width,b*=f?1:-1}}var H=Object.assign({position:d},h&&AU),$=g===!0?CU({x:b,y:x},ni(n)):{x:b,y:x};if(b=$.x,x=$.y,f){var N;return Object.assign({},H,(N={},N[j]=O?"0":"",N[B]=I?"0":"",N.transform=(M.devicePixelRatio||1)<=1?"translate("+b+"px, "+x+"px)":"translate3d("+b+"px, "+x+"px, 0)",N))}return Object.assign({},H,(e={},e[j]=O?x+"px":"",e[B]=I?b+"px":"",e.transform="",e))}function xU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,u=o===void 0?!0:o,d=n.roundOffsets,f=d===void 0?!0:d,h={placement:Xi(e.placement),variation:Au(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ER(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ER(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const IU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xU,data:{}};var Zh={passive:!0};function DU(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,o=a===void 0?!0:a,u=r.resize,d=u===void 0?!0:u,f=ni(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,Zh)}),d&&f.addEventListener("resize",n.update,Zh),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,Zh)}),d&&f.removeEventListener("resize",n.update,Zh)}}const NU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DU,data:{}};var OU={left:"right",right:"left",bottom:"top",top:"bottom"};function vm(t){return t.replace(/left|right|bottom|top/g,function(e){return OU[e]})}var MU={start:"end",end:"start"};function wR(t){return t.replace(/start|end/g,function(e){return MU[e]})}function jE(t){var e=ni(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function UE(t){return Ru(oo(t)).left+jE(t).scrollLeft}function kU(t,e){var n=ni(t),r=oo(t),a=n.visualViewport,o=r.clientWidth,u=r.clientHeight,d=0,f=0;if(a){o=a.width,u=a.height;var h=DI();(h||!h&&e==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:u,x:d+UE(t),y:f}}function PU(t){var e,n=oo(t),r=jE(t),a=(e=t.ownerDocument)==null?void 0:e.body,o=Xo(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=Xo(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-r.scrollLeft+UE(t),f=-r.scrollTop;return za(a||n).direction==="rtl"&&(d+=Xo(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:u,x:d,y:f}}function FE(t){var e=za(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function PI(t){return["html","body","#document"].indexOf(Qs(t))>=0?t.ownerDocument.body:Ji(t)&&FE(t)?t:PI(Op(t))}function bd(t,e){var n;e===void 0&&(e=[]);var r=PI(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=ni(r),u=a?[o].concat(o.visualViewport||[],FE(r)?r:[]):r,d=e.concat(u);return a?d:d.concat(bd(Op(u)))}function g_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function LU(t,e){var n=Ru(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bR(t,e,n){return e===xI?g_(kU(t,n)):Jo(e)?LU(e,n):g_(PU(oo(t)))}function VU(t){var e=bd(Op(t)),n=["absolute","fixed"].indexOf(za(t).position)>=0,r=n&&Ji(t)?ff(t):t;return Jo(r)?e.filter(function(a){return Jo(a)&&NI(a,r)&&Qs(a)!=="body"}):[]}function jU(t,e,n,r){var a=e==="clippingParents"?VU(t):[].concat(e),o=[].concat(a,[n]),u=o[0],d=o.reduce(function(f,h){var g=bR(t,h,r);return f.top=Xo(g.top,f.top),f.right=jm(g.right,f.right),f.bottom=jm(g.bottom,f.bottom),f.left=Xo(g.left,f.left),f},bR(t,u,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function LI(t){var e=t.reference,n=t.element,r=t.placement,a=r?Xi(r):null,o=r?Au(r):null,u=e.x+e.width/2-n.width/2,d=e.y+e.height/2-n.height/2,f;switch(a){case Pr:f={x:u,y:e.y-n.height};break;case _i:f={x:u,y:e.y+e.height};break;case Ei:f={x:e.x+e.width,y:d};break;case Lr:f={x:e.x-n.width,y:d};break;default:f={x:e.x,y:e.y}}var h=a?VE(a):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Su:f[h]=f[h]-(e[g]/2-n[g]/2);break;case Vd:f[h]=f[h]+(e[g]/2-n[g]/2);break}}return f}function jd(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,o=n.strategy,u=o===void 0?t.strategy:o,d=n.boundary,f=d===void 0?oU:d,h=n.rootBoundary,g=h===void 0?xI:h,_=n.elementContext,v=_===void 0?ld:_,b=n.altBoundary,T=b===void 0?!1:b,x=n.padding,R=x===void 0?0:x,I=MI(typeof R!="number"?R:kI(R,df)),O=v===ld?lU:ld,B=t.rects.popper,j=t.elements[T?O:v],M=jU(Jo(j)?j:j.contextElement||oo(t.elements.popper),f,g,u),V=Ru(t.elements.reference),P=LI({reference:V,element:B,placement:a}),D=g_(Object.assign({},B,P)),k=v===ld?D:V,z={top:M.top-k.top+I.top,bottom:k.bottom-M.bottom+I.bottom,left:M.left-k.left+I.left,right:k.right-M.right+I.right},H=t.modifiersData.offset;if(v===ld&&H){var $=H[a];Object.keys(z).forEach(function(N){var J=[Ei,_i].indexOf(N)>=0?1:-1,me=[Pr,_i].indexOf(N)>=0?"y":"x";z[N]+=$[me]*J})}return z}function UU(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,o=n.rootBoundary,u=n.padding,d=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?II:f,g=Au(r),_=g?d?vR:vR.filter(function(T){return Au(T)===g}):df,v=_.filter(function(T){return h.indexOf(T)>=0});v.length===0&&(v=_);var b=v.reduce(function(T,x){return T[x]=jd(t,{placement:x,boundary:a,rootBoundary:o,padding:u})[Xi(x)],T},{});return Object.keys(b).sort(function(T,x){return b[T]-b[x]})}function FU(t){if(Xi(t)===kE)return[];var e=vm(t);return[wR(t),e,wR(e)]}function BU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,u=n.altAxis,d=u===void 0?!0:u,f=n.fallbackPlacements,h=n.padding,g=n.boundary,_=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,x=n.allowedAutoPlacements,R=e.options.placement,I=Xi(R),O=I===R,B=f||(O||!T?[vm(R)]:FU(R)),j=[R].concat(B).reduce(function(Re,ke){return Re.concat(Xi(ke)===kE?UU(e,{placement:ke,boundary:g,rootBoundary:_,padding:h,flipVariations:T,allowedAutoPlacements:x}):ke)},[]),M=e.rects.reference,V=e.rects.popper,P=new Map,D=!0,k=j[0],z=0;z<j.length;z++){var H=j[z],$=Xi(H),N=Au(H)===Su,J=[Pr,_i].indexOf($)>=0,me=J?"width":"height",K=jd(e,{placement:H,boundary:g,rootBoundary:_,altBoundary:v,padding:h}),ue=J?N?Ei:Lr:N?_i:Pr;M[me]>V[me]&&(ue=vm(ue));var pe=vm(ue),xe=[];if(o&&xe.push(K[$]<=0),d&&xe.push(K[ue]<=0,K[pe]<=0),xe.every(function(Re){return Re})){k=H,D=!1;break}P.set(H,xe)}if(D)for(var q=T?3:1,se=function(ke){var Oe=j.find(function(pt){var st=P.get(pt);if(st)return st.slice(0,ke).every(function(Mt){return Mt})});if(Oe)return k=Oe,"break"},Te=q;Te>0;Te--){var fe=se(Te);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const zU={name:"flip",enabled:!0,phase:"main",fn:BU,requiresIfExists:["offset"],data:{_skip:!1}};function SR(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function TR(t){return[Pr,Ei,_i,Lr].some(function(e){return t[e]>=0})}function HU(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,o=e.modifiersData.preventOverflow,u=jd(e,{elementContext:"reference"}),d=jd(e,{altBoundary:!0}),f=SR(u,r),h=SR(d,a,o),g=TR(f),_=TR(h);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const $U={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:HU};function qU(t,e,n){var r=Xi(t),a=[Lr,Pr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=o[0],d=o[1];return u=u||0,d=(d||0)*a,[Lr,Ei].indexOf(r)>=0?{x:d,y:u}:{x:u,y:d}}function GU(t){var e=t.state,n=t.options,r=t.name,a=n.offset,o=a===void 0?[0,0]:a,u=II.reduce(function(g,_){return g[_]=qU(_,e.rects,o),g},{}),d=u[e.placement],f=d.x,h=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const KU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GU};function YU(t){var e=t.state,n=t.name;e.modifiersData[n]=LI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const QU={name:"popperOffsets",enabled:!0,phase:"read",fn:YU,data:{}};function WU(t){return t==="x"?"y":"x"}function XU(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,o=a===void 0?!0:a,u=n.altAxis,d=u===void 0?!1:u,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,_=n.padding,v=n.tether,b=v===void 0?!0:v,T=n.tetherOffset,x=T===void 0?0:T,R=jd(e,{boundary:f,rootBoundary:h,padding:_,altBoundary:g}),I=Xi(e.placement),O=Au(e.placement),B=!O,j=VE(I),M=WU(j),V=e.modifiersData.popperOffsets,P=e.rects.reference,D=e.rects.popper,k=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,z=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(V){if(o){var N,J=j==="y"?Pr:Lr,me=j==="y"?_i:Ei,K=j==="y"?"height":"width",ue=V[j],pe=ue+R[J],xe=ue-R[me],q=b?-D[K]/2:0,se=O===Su?P[K]:D[K],Te=O===Su?-D[K]:-P[K],fe=e.elements.arrow,Re=b&&fe?LE(fe):{width:0,height:0},ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OI(),Oe=ke[J],pt=ke[me],st=wd(0,P[K],Re[K]),Mt=B?P[K]/2-q-st-Oe-z.mainAxis:se-st-Oe-z.mainAxis,ft=B?-P[K]/2+q+st+pt+z.mainAxis:Te+st+pt+z.mainAxis,Ct=e.elements.arrow&&ff(e.elements.arrow),Zt=Ct?j==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,un=(N=H?.[j])!=null?N:0,Dt=ue+Mt-un-Zt,gt=ue+ft-un,Dn=wd(b?jm(pe,Dt):pe,ue,b?Xo(xe,gt):xe);V[j]=Dn,$[j]=Dn-ue}if(d){var Nt,Ae=j==="x"?Pr:Lr,ge=j==="x"?_i:Ei,F=V[M],Q=M==="y"?"height":"width",X=F+R[Ae],we=F-R[ge],be=[Pr,Lr].indexOf(I)!==-1,ye=(Nt=H?.[M])!=null?Nt:0,Se=be?X:F-P[Q]-D[Q]-ye+z.altAxis,je=be?F+P[Q]+D[Q]-ye-z.altAxis:we,it=b&&be?wU(Se,F,je):wd(b?Se:X,F,b?je:we);V[M]=it,$[M]=it-F}e.modifiersData[r]=$}}const JU={name:"preventOverflow",enabled:!0,phase:"main",fn:XU,requiresIfExists:["offset"]};function ZU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function e4(t){return t===ni(t)||!Ji(t)?jE(t):ZU(t)}function t4(t){var e=t.getBoundingClientRect(),n=Tu(e.width)/t.offsetWidth||1,r=Tu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function n4(t,e,n){n===void 0&&(n=!1);var r=Ji(e),a=Ji(e)&&t4(e),o=oo(e),u=Ru(t,a,n),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((Qs(e)!=="body"||FE(o))&&(d=e4(e)),Ji(e)?(f=Ru(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=UE(o))),{x:u.left+d.scrollLeft-f.x,y:u.top+d.scrollTop-f.y,width:u.width,height:u.height}}function r4(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function a(o){n.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(d){if(!n.has(d)){var f=e.get(d);f&&a(f)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||a(o)}),r}function i4(t){var e=r4(t);return vU.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function a4(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function s4(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var RR={placement:"bottom",modifiers:[],strategy:"absolute"};function AR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function o4(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,o=a===void 0?RR:a;return function(d,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},RR,o),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},_=[],v=!1,b={state:g,setOptions:function(I){var O=typeof I=="function"?I(g.options):I;x(),g.options=Object.assign({},o,g.options,O),g.scrollParents={reference:Jo(d)?bd(d):d.contextElement?bd(d.contextElement):[],popper:bd(f)};var B=i4(s4([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(j){return j.enabled}),T(),b.update()},forceUpdate:function(){if(!v){var I=g.elements,O=I.reference,B=I.popper;if(AR(O,B)){g.rects={reference:n4(O,ff(B),g.options.strategy==="fixed"),popper:LE(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(z){return g.modifiersData[z.name]=Object.assign({},z.data)});for(var j=0;j<g.orderedModifiers.length;j++){if(g.reset===!0){g.reset=!1,j=-1;continue}var M=g.orderedModifiers[j],V=M.fn,P=M.options,D=P===void 0?{}:P,k=M.name;typeof V=="function"&&(g=V({state:g,options:D,name:k,instance:b})||g)}}}},update:a4(function(){return new Promise(function(R){b.forceUpdate(),R(g)})}),destroy:function(){x(),v=!0}};if(!AR(d,f))return b;b.setOptions(h).then(function(R){!v&&h.onFirstUpdate&&h.onFirstUpdate(R)});function T(){g.orderedModifiers.forEach(function(R){var I=R.name,O=R.options,B=O===void 0?{}:O,j=R.effect;if(typeof j=="function"){var M=j({state:g,name:I,instance:b,options:B}),V=function(){};_.push(M||V)}})}function x(){_.forEach(function(R){return R()}),_=[]}return b}}const l4=o4({defaultModifiers:[$U,QU,IU,NU,KU,zU,JU,RU]}),u4=["enabled","placement","strategy","modifiers"];function c4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const d4={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},f4={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,a=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&a==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},h4=[];function m4(t,e,n={}){let{enabled:r=!0,placement:a="bottom",strategy:o="absolute",modifiers:u=h4}=n,d=c4(n,u4);const f=E.useRef(u),h=E.useRef(),g=E.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),_=E.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[v,b]=sU(E.useState({placement:a,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),T=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const I={},O={};Object.keys(R.elements).forEach(B=>{I[B]=R.styles[B],O[B]=R.attributes[B]}),b({state:R,styles:I,attributes:O,update:g,forceUpdate:_,placement:R.placement})}}),[g,_,b]),x=E.useMemo(()=>(Ed(f.current,u)||(f.current=u),f.current),[u]);return E.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:a,strategy:o,modifiers:[...x,T,d4]})},[o,a,T,r,x]),E.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=l4(t,e,Object.assign({},d,{placement:a,strategy:o,modifiers:[...x,f4,T]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,b(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),v}function Um(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var bv,CR;function p4(){if(CR)return bv;CR=1;var t=function(){};return bv=t,bv}var g4=p4();const y4=Wd(g4),xR=()=>{};function v4(t){return t.button===0}function _4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Sv=t=>t&&("current"in t?t.current:t),IR={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function E4(t,e=xR,{disabled:n,clickTrigger:r="click"}={}){const a=E.useRef(!1),o=E.useRef(!1),u=E.useCallback(h=>{const g=Sv(t);y4(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!g||_4(h)||!v4(h)||!!Um(g,h.target)||o.current,o.current=!1},[t]),d=dr(h=>{const g=Sv(t);g&&Um(g,h.target)?o.current=!0:o.current=!1}),f=dr(h=>{a.current||e(h)});E.useEffect(()=>{var h,g;if(n||t==null)return;const _=uf(Sv(t)),v=_.defaultView||window;let b=(h=v.event)!=null?h:(g=v.parent)==null?void 0:g.event,T=null;IR[r]&&(T=Ps(_,IR[r],d,!0));const x=Ps(_,r,u,!0),R=Ps(_,r,O=>{if(O===b){b=void 0;return}f(O)});let I=[];return"ontouchstart"in _.documentElement&&(I=[].slice.call(_.body.children).map(O=>Ps(O,"mousemove",xR))),()=>{T?.(),x(),R(),I.forEach(O=>O())}},[t,n,r,u,d,f])}function w4(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function b4(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function S4({enabled:t,enableEvents:e,placement:n,flip:r,offset:a,fixed:o,containerPadding:u,arrowElement:d,popperConfig:f={}}){var h,g,_,v,b;const T=w4(f.modifiers);return Object.assign({},f,{placement:n,enabled:t,strategy:o?"fixed":f.strategy,modifiers:b4(Object.assign({},T,{eventListeners:{enabled:e,options:(h=T.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(g=T.preventOverflow)==null?void 0:g.options):(_=T.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:a},(v=T.offset)==null?void 0:v.options)},arrow:Object.assign({},T.arrow,{enabled:!!d,options:Object.assign({},(b=T.arrow)==null?void 0:b.options,{element:d})}),flip:Object.assign({enabled:!!r},T.flip)}))})}const T4=["children","usePopper"];function R4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const A4=()=>{};function VI(t={}){const e=E.useContext(Np),[n,r]=Uj(),a=E.useRef(!1),{flip:o,offset:u,rootCloseEvent:d,fixed:f=!1,placement:h,popperConfig:g={},enableEventListeners:_=!0,usePopper:v=!!e}=t,b=e?.show==null?!!t.show:e.show;b&&!a.current&&(a.current=!0);const T=V=>{e?.toggle(!1,V)},{placement:x,setMenu:R,menuElement:I,toggleElement:O}=e||{},B=m4(O,I,S4({placement:h||x||"bottom-start",enabled:v,enableEvents:_??b,offset:u,flip:o,fixed:f,arrowElement:n,popperConfig:g})),j=Object.assign({ref:R||A4,"aria-labelledby":O?.id},B.attributes.popper,{style:B.styles.popper}),M={show:b,placement:x,hasShown:a.current,toggle:e?.toggle,popper:v?B:null,arrowProps:v?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return E4(I,T,{clickTrigger:d,disabled:!b}),[j,M]}function jI(t){let{children:e,usePopper:n=!0}=t,r=R4(t,T4);const[a,o]=VI(Object.assign({},r,{usePopper:n}));return w.jsx(w.Fragment,{children:e(a,o)})}jI.displayName="DropdownMenu";const UI={prefix:String(Math.round(Math.random()*1e10)),current:0},FI=Pe.createContext(UI),C4=Pe.createContext(!1);let Tv=new WeakMap;function x4(t=!1){let e=E.useContext(FI),n=E.useRef(null);if(n.current===null&&!t){var r,a;let o=(a=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(r=a.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let u=Tv.get(o);u==null?Tv.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==u.state&&(e.current=u.id,Tv.delete(o))}n.current=++e.current}return n.current}function I4(t){let e=E.useContext(FI),n=x4(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function D4(t){let e=Pe.useId(),[n]=E.useState(P4()),r=n?"react-aria":`react-aria${UI.prefix}`;return t||`${r}-${e}`}const N4=typeof Pe.useId=="function"?D4:I4;function O4(){return!1}function M4(){return!0}function k4(t){return()=>{}}function P4(){return typeof Pe.useSyncExternalStore=="function"?Pe.useSyncExternalStore(k4,O4,M4):E.useContext(C4)}const BI=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},DR=()=>{};function zI(){const t=N4(),{show:e=!1,toggle:n=DR,setToggle:r,menuElement:a}=E.useContext(Np)||{},o=E.useCallback(d=>{n(!e,d)},[e,n]),u={id:t,ref:r||DR,onClick:o,"aria-expanded":!!e};return a&&BI(a)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function HI({children:t}){const[e,n]=zI();return w.jsx(w.Fragment,{children:t(e,n)})}HI.displayName="DropdownToggle";const Zo=E.createContext(null),Cu=(t,e=null)=>t!=null?String(t):e||null,Mp=E.createContext(null);Mp.displayName="NavContext";const L4="data-rr-ui-",V4="rrUi";function $u(t){return`${L4}${t}`}function j4(t){return`${V4}${t}`}const U4=["eventKey","disabled","onClick","active","as"];function F4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $I({key:t,href:e,active:n,disabled:r,onClick:a}){const o=E.useContext(Zo),u=E.useContext(Mp),{activeKey:d}=u||{},f=Cu(t,e),h=n==null&&t!=null?Cu(d)===f:n;return[{onClick:dr(_=>{r||(a?.(_),o&&!_.isPropagationStopped()&&o(f,_))}),"aria-disabled":r||void 0,"aria-selected":h,[$u("dropdown-item")]:""},{isActive:h}]}const qI=E.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:a,active:o,as:u=NE}=t,d=F4(t,U4);const[f]=$I({key:n,href:d.href,disabled:r,onClick:a,active:o});return w.jsx(u,Object.assign({},d,{ref:e},f))});qI.displayName="DropdownItem";const GI=E.createContext(Hu?window:void 0);GI.Provider;function kp(){return E.useContext(GI)}function NR(){const t=CI(),e=E.useRef(null),n=E.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function hf({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:a=`* [${$u("dropdown-item")}]`,focusFirstItemOnShow:o,placement:u="bottom-start",children:d}){const f=kp(),[h,g]=aU(e,t,r),[_,v]=NR(),b=_.current,[T,x]=NR(),R=T.current,I=pI(h),O=E.useRef(null),B=E.useRef(!1),j=E.useContext(Zo),M=E.useCallback((H,$,N=$?.type)=>{g(H,{originalEvent:$,source:N})},[g]),V=dr((H,$)=>{n?.(H,$),M(!1,$,"select"),$.isPropagationStopped()||j?.(H,$)}),P=E.useMemo(()=>({toggle:M,placement:u,show:h,menuElement:b,toggleElement:R,setMenu:v,setToggle:x}),[M,u,h,b,R,v,x]);b&&I&&!h&&(B.current=b.contains(b.ownerDocument.activeElement));const D=dr(()=>{R&&R.focus&&R.focus()}),k=dr(()=>{const H=O.current;let $=o;if($==null&&($=_.current&&BI(_.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(H))return;const N=Oa(_.current,a)[0];N&&N.focus&&N.focus()});E.useEffect(()=>{h?k():B.current&&(B.current=!1,D())},[h,B,D,k]),E.useEffect(()=>{O.current=null});const z=(H,$)=>{if(!_.current)return null;const N=Oa(_.current,a);let J=N.indexOf(H)+$;return J=Math.max(0,Math.min(J,N.length)),N[J]};return Bj(E.useCallback(()=>f.document,[f]),"keydown",H=>{var $,N;const{key:J}=H,me=H.target,K=($=_.current)==null?void 0:$.contains(me),ue=(N=T.current)==null?void 0:N.contains(me);if(/input|textarea/i.test(me.tagName)&&(J===" "||J!=="Escape"&&K||J==="Escape"&&me.type==="search")||!K&&!ue||J==="Tab"&&(!_.current||!h))return;O.current=H.type;const xe={originalEvent:H,source:H.type};switch(J){case"ArrowUp":{const q=z(me,-1);q&&q.focus&&q.focus(),H.preventDefault();return}case"ArrowDown":if(H.preventDefault(),!h)g(!0,xe);else{const q=z(me,1);q&&q.focus&&q.focus()}return;case"Tab":CE(me.ownerDocument,"keyup",q=>{var se;(q.key==="Tab"&&!q.target||!((se=_.current)!=null&&se.contains(q.target)))&&g(!1,xe)},{once:!0});break;case"Escape":J==="Escape"&&(H.preventDefault(),H.stopPropagation()),g(!1,xe);break}}),w.jsx(Zo.Provider,{value:V,children:w.jsx(Np.Provider,{value:P,children:d})})}hf.displayName="Dropdown";hf.Menu=jI;hf.Toggle=HI;hf.Item=qI;const BE=E.createContext({});BE.displayName="DropdownContext";const KI=E.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...a},o)=>(e=Ge(e,"dropdown-divider"),w.jsx(n,{ref:o,className:Me(t,e),role:r,...a})));KI.displayName="DropdownDivider";const YI=E.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...a},o)=>(e=Ge(e,"dropdown-header"),w.jsx(n,{ref:o,className:Me(t,e),role:r,...a})));YI.displayName="DropdownHeader";const QI=E.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:a,active:o,as:u=Ip,...d},f)=>{const h=Ge(t,"dropdown-item"),[g,_]=$I({key:n,href:d.href,disabled:r,onClick:a,active:o});return w.jsx(u,{...d,...g,ref:f,className:Me(e,h,_.isActive&&"active",r&&"disabled")})});QI.displayName="DropdownItem";const WI=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},a)=>(e=Ge(e,"dropdown-item-text"),w.jsx(n,{ref:a,className:Me(t,e),...r})));WI.displayName="DropdownItemText";const B4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",z4=typeof document<"u",XI=z4||B4?E.useLayoutEffect:E.useEffect,Pp=E.createContext(null);Pp.displayName="InputGroupContext";const ll=E.createContext(null);ll.displayName="NavbarContext";function JI(t,e){return t}function ZI(t,e,n){const r=n?"top-end":"top-start",a=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",d=n?"right-start":"left-start",f=n?"right-end":"left-end",h=n?"left-start":"right-start",g=n?"left-end":"right-end";let _=t?u:o;return e==="up"?_=t?a:r:e==="end"?_=t?g:h:e==="start"?_=t?f:d:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const eD=E.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:a=!0,show:o,renderOnMount:u,as:d="div",popperConfig:f,variant:h,...g},_)=>{let v=!1;const b=E.useContext(ll),T=Ge(t,"dropdown-menu"),{align:x,drop:R,isRTL:I}=E.useContext(BE);n=n||x;const O=E.useContext(Pp),B=[];if(n)if(typeof n=="object"){const H=Object.keys(n);if(H.length){const $=H[0],N=n[$];v=N==="start",B.push(`${T}-${$}-${N}`)}}else n==="end"&&(v=!0);const j=ZI(v,R,I),[M,{hasShown:V,popper:P,show:D,toggle:k}]=VI({flip:a,rootCloseEvent:r,show:o,usePopper:!b&&B.length===0,offset:[0,2],popperConfig:f,placement:j});if(M.ref=Cp(JI(_),M.ref),XI(()=>{D&&P?.update()},[D]),!V&&!u&&!O)return null;typeof d!="string"&&(M.show=D,M.close=()=>k?.(!1),M.align=n);let z=g.style;return P!=null&&P.placement&&(z={...g.style,...M.style},g["x-placement"]=P.placement),w.jsx(d,{...g,...M,style:z,...(B.length||b)&&{"data-bs-popper":"static"},className:Me(e,T,D&&"show",v&&`${T}-end`,h&&`${T}-${h}`,...B)})});eD.displayName="DropdownMenu";const tD=E.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:a=Je,...o},u)=>{const d=Ge(t,"dropdown-toggle"),f=E.useContext(Np);r!==void 0&&(o.bsPrefix=r);const[h]=zI();return h.ref=Cp(h.ref,JI(u)),w.jsx(a,{className:Me(n,d,e&&`${d}-split`,f?.show&&"show"),...h,...o})});tD.displayName="DropdownToggle";const nD=E.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:a,className:o,align:u="start",onSelect:d,onToggle:f,focusFirstItemOnShow:h,as:g="div",navbar:_,autoClose:v=!0,...b}=of(t,{show:"onToggle"}),T=E.useContext(Pp),x=Ge(n,"dropdown"),R=oI(),I=P=>v===!1?P==="click":v==="inside"?P!=="rootClose":v==="outside"?P!=="select":!0,O=Ba((P,D)=>{var k;!((k=D.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&D.source==="mousedown"||(D.originalEvent.currentTarget===document&&(D.source!=="keydown"||D.originalEvent.key==="Escape")&&(D.source="rootClose"),I(D.source)&&f?.(P,D))}),j=ZI(u==="end",r,R),M=E.useMemo(()=>({align:u,drop:r,isRTL:R}),[u,r,R]),V={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(BE.Provider,{value:M,children:w.jsx(hf,{placement:j,show:a,onSelect:d,onToggle:O,focusFirstItemOnShow:h,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:T?b.children:w.jsx(g,{...b,ref:e,className:Me(o,a&&"show",V[r])})})})});nD.displayName="Dropdown";const em=Object.assign(nD,{Toggle:tD,Menu:eD,Item:QI,ItemText:WI,Divider:KI,Header:YI}),H4={type:ja.string,tooltip:ja.bool,as:ja.elementType},Lp=E.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...a},o)=>w.jsx(t,{...a,ref:o,className:Me(e,`${n}-${r?"tooltip":"feedback"}`)}));Lp.displayName="Feedback";Lp.propTypes=H4;const Ha=E.createContext({}),mf=E.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:a=!1,isInvalid:o=!1,as:u="input",...d},f)=>{const{controlId:h}=E.useContext(Ha);return e=Ge(e,"form-check-input"),w.jsx(u,{...d,ref:f,type:r,id:t||h,className:Me(n,e,a&&"is-valid",o&&"is-invalid")})});mf.displayName="FormCheckInput";const Fm=E.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},a)=>{const{controlId:o}=E.useContext(Ha);return t=Ge(t,"form-check-label"),w.jsx("label",{...r,ref:a,htmlFor:n||o,className:Me(e,t)})});Fm.displayName="FormCheckLabel";const rD=E.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:a=!1,disabled:o=!1,isValid:u=!1,isInvalid:d=!1,feedbackTooltip:f=!1,feedback:h,feedbackType:g,className:_,style:v,title:b="",type:T="checkbox",label:x,children:R,as:I="input",...O},B)=>{e=Ge(e,"form-check"),n=Ge(n,"form-switch");const{controlId:j}=E.useContext(Ha),M=E.useMemo(()=>({controlId:t||j}),[j,t]),V=!R&&x!=null&&x!==!1||nU(R,Fm),P=w.jsx(mf,{...O,type:T==="switch"?"checkbox":T,ref:B,isValid:u,isInvalid:d,disabled:o,as:I});return w.jsx(Ha.Provider,{value:M,children:w.jsx("div",{style:v,className:Me(_,V&&e,r&&`${e}-inline`,a&&`${e}-reverse`,T==="switch"&&n),children:R||w.jsxs(w.Fragment,{children:[P,V&&w.jsx(Fm,{title:b,children:x}),h&&w.jsx(Lp,{type:g,tooltip:f,children:h})]})})})});rD.displayName="FormCheck";const Bm=Object.assign(rD,{Input:mf,Label:Fm}),iD=E.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:a,className:o,isValid:u=!1,isInvalid:d=!1,plaintext:f,readOnly:h,as:g="input",..._},v)=>{const{controlId:b}=E.useContext(Ha);return t=Ge(t,"form-control"),w.jsx(g,{..._,type:e,size:r,ref:v,readOnly:h,id:a||b,className:Me(o,f?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",d&&"is-invalid")})});iD.displayName="FormControl";const $4=Object.assign(iD,{Feedback:Lp}),aD=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"form-floating"),w.jsx(n,{ref:a,className:Me(t,e),...r})));aD.displayName="FormFloating";const zE=E.forwardRef(({controlId:t,as:e="div",...n},r)=>{const a=E.useMemo(()=>({controlId:t}),[t]);return w.jsx(Ha.Provider,{value:a,children:w.jsx(e,{...n,ref:r})})});zE.displayName="FormGroup";const sD=E.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:a,htmlFor:o,...u},d)=>{const{controlId:f}=E.useContext(Ha);e=Ge(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const g=Me(a,e,r&&"visually-hidden",n&&h);return o=o||f,n?w.jsx(_n,{ref:d,as:"label",className:g,htmlFor:o,...u}):w.jsx(t,{ref:d,className:g,htmlFor:o,...u})});sD.displayName="FormLabel";const oD=E.forwardRef(({bsPrefix:t,className:e,id:n,...r},a)=>{const{controlId:o}=E.useContext(Ha);return t=Ge(t,"form-range"),w.jsx("input",{...r,type:"range",ref:a,className:Me(e,t),id:n||o})});oD.displayName="FormRange";const lD=E.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:a=!1,isInvalid:o=!1,id:u,...d},f)=>{const{controlId:h}=E.useContext(Ha);return t=Ge(t,"form-select"),w.jsx("select",{...d,size:n,ref:f,className:Me(r,t,e&&`${t}-${e}`,a&&"is-valid",o&&"is-invalid"),id:u||h})});lD.displayName="FormSelect";const uD=E.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...a},o)=>(t=Ge(t,"form-text"),w.jsx(n,{...a,ref:o,className:Me(e,t,r&&"text-muted")})));uD.displayName="FormText";const cD=E.forwardRef((t,e)=>w.jsx(Bm,{...t,ref:e,type:"switch"}));cD.displayName="Switch";const q4=Object.assign(cD,{Input:Bm.Input,Label:Bm.Label}),dD=E.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:a,...o},u)=>(t=Ge(t,"form-floating"),w.jsxs(zE,{ref:u,className:Me(e,t),controlId:r,...o,children:[n,w.jsx("label",{htmlFor:r,children:a})]})));dD.displayName="FloatingLabel";const G4={_ref:ja.any,validated:ja.bool,as:ja.elementType},HE=E.forwardRef(({className:t,validated:e,as:n="form",...r},a)=>w.jsx(n,{...r,ref:a,className:Me(t,e&&"was-validated")}));HE.displayName="Form";HE.propTypes=G4;const $e=Object.assign(HE,{Group:zE,Control:$4,Floating:aD,Check:Bm,Switch:q4,Label:sD,Text:uD,Range:oD,Select:lD,FloatingLabel:dD}),Vp=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},a)=>(e=Ge(e,"input-group-text"),w.jsx(n,{ref:a,className:Me(t,e),...r})));Vp.displayName="InputGroupText";const K4=t=>w.jsx(Vp,{children:w.jsx(mf,{type:"checkbox",...t})}),Y4=t=>w.jsx(Vp,{children:w.jsx(mf,{type:"radio",...t})}),fD=E.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:a="div",...o},u)=>{t=Ge(t,"input-group");const d=E.useMemo(()=>({}),[]);return w.jsx(Pp.Provider,{value:d,children:w.jsx(a,{ref:u,...o,className:Me(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});fD.displayName="InputGroup";const y_=Object.assign(fD,{Text:Vp,Radio:Y4,Checkbox:K4}),OR=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Q4(t,e){const n=OR(t),r=OR(e);return a=>{n&&n(a),r&&r(a)}}function jp(t,e){return E.useMemo(()=>Q4(t,e),[t,e])}const hD=E.createContext(null),W4=["as","active","eventKey"];function X4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $E({key:t,onClick:e,active:n,id:r,role:a,disabled:o}){const u=E.useContext(Zo),d=E.useContext(Mp),f=E.useContext(hD);let h=n;const g={role:a};if(d){!a&&d.role==="tablist"&&(g.role="tab");const _=d.getControllerId(t??null),v=d.getControlledId(t??null);g[$u("event-key")]=t,g.id=_||r,h=n==null&&t!=null?d.activeKey===t:n,(h||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=v)}return g.role==="tab"&&(g["aria-selected"]=h,h||(g.tabIndex=-1),o&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=dr(_=>{o||(e?.(_),t!=null&&u&&!_.isPropagationStopped()&&u(t,_))}),[g,{isActive:h}]}const mD=E.forwardRef((t,e)=>{let{as:n=NE,active:r,eventKey:a}=t,o=X4(t,W4);const[u,d]=$E(Object.assign({key:Cu(a,o.href),active:r},o));return u[$u("active")]=d.isActive,w.jsx(n,Object.assign({},o,u,{ref:e}))});mD.displayName="NavItem";const J4=["as","onSelect","activeKey","role","onKeyDown"];function Z4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const MR=()=>{},kR=$u("event-key"),pD=E.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:a,role:o,onKeyDown:u}=t,d=Z4(t,J4);const f=CI(),h=E.useRef(!1),g=E.useContext(Zo),_=E.useContext(hD);let v,b;_&&(o=o||"tablist",a=_.activeKey,v=_.getControlledId,b=_.getControllerId);const T=E.useRef(null),x=B=>{const j=T.current;if(!j)return null;const M=Oa(j,`[${kR}]:not([aria-disabled=true])`),V=j.querySelector("[aria-selected=true]");if(!V||V!==document.activeElement)return null;const P=M.indexOf(V);if(P===-1)return null;let D=P+B;return D>=M.length&&(D=0),D<0&&(D=M.length-1),M[D]},R=(B,j)=>{B!=null&&(r?.(B,j),g?.(B,j))},I=B=>{if(u?.(B),!_)return;let j;switch(B.key){case"ArrowLeft":case"ArrowUp":j=x(-1);break;case"ArrowRight":case"ArrowDown":j=x(1);break;default:return}j&&(B.preventDefault(),R(j.dataset[j4("EventKey")]||null,B),h.current=!0,f())};E.useEffect(()=>{if(T.current&&h.current){const B=T.current.querySelector(`[${kR}][aria-selected=true]`);B?.focus()}h.current=!1});const O=jp(e,T);return w.jsx(Zo.Provider,{value:R,children:w.jsx(Mp.Provider,{value:{role:o,activeKey:Cu(a),getControlledId:v||MR,getControllerId:b||MR},children:w.jsx(n,Object.assign({},d,{onKeyDown:I,ref:O,role:o}))})})});pD.displayName="Nav";const gD=Object.assign(pD,{Item:mD}),yD=E.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:a,variant:o,action:u,as:d,...f},h)=>{t=Ge(t,"list-group-item");const[g,_]=$E({key:Cu(r,f.href),active:e,...f}),v=Ba(T=>{if(n){T.preventDefault(),T.stopPropagation();return}g.onClick(T)});n&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const b=d||(u?f.href?"a":"button":"div");return w.jsx(b,{ref:h,...f,...g,onClick:v,className:Me(a,t,_.isActive&&"active",n&&"disabled",o&&`${t}-${o}`,u&&`${t}-action`)})});yD.displayName="ListGroupItem";const vD=E.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:a,horizontal:o,numbered:u,as:d="div",...f}=of(t,{activeKey:"onSelect"}),h=Ge(r,"list-group");let g;return o&&(g=o===!0?"horizontal":`horizontal-${o}`),w.jsx(gD,{ref:e,...f,as:d,className:Me(n,h,a&&`${h}-${a}`,g&&`${h}-${g}`,u&&`${h}-numbered`)})});vD.displayName="ListGroup";const PR=Object.assign(vD,{Item:yD});var tm;function LR(t){if((!tm&&tm!==0||t)&&Hu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),tm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return tm}function e3(){return E.useState(null)}function Rv(t){t===void 0&&(t=uf());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function t3(t){const e=E.useRef(t);return e.current=t,e}function n3(t){const e=t3(t);E.useEffect(()=>()=>e.current(),[])}function r3(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const VR=$u("modal-open");class qE{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return r3(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[r]:a.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Va(a,r)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(VR,""),Va(a,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(VR),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Av=(t,e)=>Hu?t==null?(e||uf()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function i3(t,e){const n=kp(),[r,a]=E.useState(()=>Av(t,n?.document));if(!r){const o=Av(t);o&&a(o)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const o=Av(t);o!==r&&a(o)},[t,r]),r}function a3({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:a}){const o=E.useRef(null),u=E.useRef(e),d=dr(n);E.useEffect(()=>{e?u.current=!0:d(o.current)},[e,d]);const f=jp(o,zu(t)),h=E.cloneElement(t,{ref:f});return e?h:a||!u.current&&r?null:h}const s3=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function o3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l3(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:a,onExiting:o,onExited:u,addEndListener:d,children:f}=t,h=o3(t,s3);const g=E.useRef(null),_=jp(g,zu(f)),v=j=>M=>{j&&g.current&&j(g.current,M)},b=E.useCallback(v(e),[e]),T=E.useCallback(v(n),[n]),x=E.useCallback(v(r),[r]),R=E.useCallback(v(a),[a]),I=E.useCallback(v(o),[o]),O=E.useCallback(v(u),[u]),B=E.useCallback(v(d),[d]);return Object.assign({},h,{nodeRef:g},e&&{onEnter:b},n&&{onEntering:T},r&&{onEntered:x},a&&{onExit:R},o&&{onExiting:I},u&&{onExited:O},d&&{addEndListener:B},{children:typeof f=="function"?(j,M)=>f(j,Object.assign({},M,{ref:_})):E.cloneElement(f,{ref:_})})}const u3=["component"];function c3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const d3=E.forwardRef((t,e)=>{let{component:n}=t,r=c3(t,u3);const a=l3(r);return w.jsx(n,Object.assign({ref:e},a))});function f3({in:t,onTransition:e}){const n=E.useRef(null),r=E.useRef(!0),a=dr(e);return pR(()=>{if(!n.current)return;let o=!1;return a({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,a]),pR(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function h3({children:t,in:e,onExited:n,onEntered:r,transition:a}){const[o,u]=E.useState(!e);e&&o&&u(!1);const d=f3({in:!!e,onTransition:h=>{const g=()=>{h.isStale()||(h.in?r?.(h.element,h.initial):(u(!0),n?.(h.element)))};Promise.resolve(a(h)).then(g,_=>{throw h.in||u(!0),_})}}),f=jp(d,zu(t));return o&&!e?null:E.cloneElement(t,{ref:f})}function jR(t,e,n){return t?w.jsx(d3,Object.assign({},n,{component:t})):e?w.jsx(h3,Object.assign({},n,{transition:e})):w.jsx(a3,Object.assign({},n))}const m3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function p3(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Cv;function g3(t){return Cv||(Cv=new qE({ownerDocument:t?.document})),Cv}function y3(t){const e=kp(),n=t||g3(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:E.useCallback(a=>{r.current.dialog=a},[]),setBackdropRef:E.useCallback(a=>{r.current.backdrop=a},[])})}const _D=E.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:a,style:o,children:u,backdrop:d=!0,keyboard:f=!0,onBackdropClick:h,onEscapeKeyDown:g,transition:_,runTransition:v,backdropTransition:b,runBackdropTransition:T,autoFocus:x=!0,enforceFocus:R=!0,restoreFocus:I=!0,restoreFocusOptions:O,renderDialog:B,renderBackdrop:j=gt=>w.jsx("div",Object.assign({},gt)),manager:M,container:V,onShow:P,onHide:D=()=>{},onExit:k,onExited:z,onExiting:H,onEnter:$,onEntering:N,onEntered:J}=t,me=p3(t,m3);const K=kp(),ue=i3(V),pe=y3(M),xe=mI(),q=pI(n),[se,Te]=E.useState(!n),fe=E.useRef(null);E.useImperativeHandle(e,()=>pe,[pe]),Hu&&!q&&n&&(fe.current=Rv(K?.document)),n&&se&&Te(!1);const Re=dr(()=>{if(pe.add(),ft.current=Ps(document,"keydown",st),Mt.current=Ps(document,"focus",()=>setTimeout(Oe),!0),P&&P(),x){var gt,Dn;const Nt=Rv((gt=(Dn=pe.dialog)==null?void 0:Dn.ownerDocument)!=null?gt:K?.document);pe.dialog&&Nt&&!Um(pe.dialog,Nt)&&(fe.current=Nt,pe.dialog.focus())}}),ke=dr(()=>{if(pe.remove(),ft.current==null||ft.current(),Mt.current==null||Mt.current(),I){var gt;(gt=fe.current)==null||gt.focus==null||gt.focus(O),fe.current=null}});E.useEffect(()=>{!n||!ue||Re()},[n,ue,Re]),E.useEffect(()=>{se&&ke()},[se,ke]),n3(()=>{ke()});const Oe=dr(()=>{if(!R||!xe()||!pe.isTopModal())return;const gt=Rv(K?.document);pe.dialog&&gt&&!Um(pe.dialog,gt)&&pe.dialog.focus()}),pt=dr(gt=>{gt.target===gt.currentTarget&&(h?.(gt),d===!0&&D())}),st=dr(gt=>{f&&xj(gt)&&pe.isTopModal()&&(g?.(gt),gt.defaultPrevented||D())}),Mt=E.useRef(),ft=E.useRef(),Ct=(...gt)=>{Te(!0),z?.(...gt)};if(!ue)return null;const Zt=Object.assign({role:r,ref:pe.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:o,className:a,tabIndex:-1});let un=B?B(Zt):w.jsx("div",Object.assign({},Zt,{children:E.cloneElement(u,{role:"document"})}));un=jR(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:k,onExiting:H,onExited:Ct,onEnter:$,onEntering:N,onEntered:J,children:un});let Dt=null;return d&&(Dt=j({ref:pe.setBackdropRef,onClick:pt}),Dt=jR(b,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Dt})),w.jsx(w.Fragment,{children:ou.createPortal(w.jsxs(w.Fragment,{children:[Dt,un]}),ue)})});_D.displayName="Modal";const ED=Object.assign(_D,{Manager:qE});function v3(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function _3(t,e){t.classList?t.classList.add(e):v3(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function UR(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function E3(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=UR(t.className,e):t.setAttribute("class",UR(t.className&&t.className.baseVal||"",e))}const Xl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class wD extends qE{adjustAndStore(e,n,r){const a=n.style[e];n.dataset[e]=a,Va(n,{[e]:`${parseFloat(Va(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Va(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(_3(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Oa(n,Xl.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Oa(n,Xl.STICKY_CONTENT).forEach(o=>this.adjustAndStore(a,o,-e.scrollBarWidth)),Oa(n,Xl.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(a,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();E3(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Oa(n,Xl.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Oa(n,Xl.STICKY_CONTENT).forEach(o=>this.restore(a,o)),Oa(n,Xl.NAVBAR_TOGGLER).forEach(o=>this.restore(a,o))}}let xv;function bD(t){return xv||(xv=new wD(t)),xv}const SD=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"modal-body"),w.jsx(n,{ref:a,className:Me(t,e),...r})));SD.displayName="ModalBody";const GE=E.createContext({onHide(){}}),KE=E.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:a,fullscreen:o,children:u,scrollable:d,...f},h)=>{t=Ge(t,"modal");const g=`${t}-dialog`,_=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return w.jsx("div",{...f,ref:h,className:Me(g,e,a&&`${t}-${a}`,r&&`${g}-centered`,d&&`${g}-scrollable`,o&&_),children:w.jsx("div",{className:Me(`${t}-content`,n),children:u})})});KE.displayName="ModalDialog";const TD=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"modal-footer"),w.jsx(n,{ref:a,className:Me(t,e),...r})));TD.displayName="ModalFooter";const YE=E.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:a,...o},u)=>{const d=E.useContext(GE),f=Ba(()=>{d?.onHide(),r?.()});return w.jsxs("div",{ref:u,...o,children:[a,n&&w.jsx(Dp,{"aria-label":t,variant:e,onClick:f})]})});YE.displayName="AbstractModalHeader";const RD=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...a},o)=>(t=Ge(t,"modal-header"),w.jsx(YE,{ref:o,...a,className:Me(e,t),closeLabel:n,closeButton:r})));RD.displayName="ModalHeader";const w3=cf("h4"),AD=E.forwardRef(({className:t,bsPrefix:e,as:n=w3,...r},a)=>(e=Ge(e,"modal-title"),w.jsx(n,{ref:a,className:Me(t,e),...r})));AD.displayName="ModalTitle";function b3(t){return w.jsx(bu,{...t,timeout:null})}function S3(t){return w.jsx(bu,{...t,timeout:null})}const CD=E.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:a,children:o,dialogAs:u=KE,"data-bs-theme":d,"aria-labelledby":f,"aria-describedby":h,"aria-label":g,show:_=!1,animation:v=!0,backdrop:b=!0,keyboard:T=!0,onEscapeKeyDown:x,onShow:R,onHide:I,container:O,autoFocus:B=!0,enforceFocus:j=!0,restoreFocus:M=!0,restoreFocusOptions:V,onEntered:P,onExit:D,onExiting:k,onEnter:z,onEntering:H,onExited:$,backdropClassName:N,manager:J,...me},K)=>{const[ue,pe]=E.useState({}),[xe,q]=E.useState(!1),se=E.useRef(!1),Te=E.useRef(!1),fe=E.useRef(null),[Re,ke]=e3(),Oe=Cp(K,ke),pt=Ba(I),st=oI();t=Ge(t,"modal");const Mt=E.useMemo(()=>({onHide:pt}),[pt]);function ft(){return J||bD({isRTL:st})}function Ct(Se){if(!Hu)return;const je=ft().getScrollbarWidth()>0,it=Se.scrollHeight>uf(Se).documentElement.clientHeight;pe({paddingRight:je&&!it?LR():void 0,paddingLeft:!je&&it?LR():void 0})}const Zt=Ba(()=>{Re&&Ct(Re.dialog)});tU(()=>{m_(window,"resize",Zt),fe.current==null||fe.current()});const un=()=>{se.current=!0},Dt=Se=>{se.current&&Re&&Se.target===Re.dialog&&(Te.current=!0),se.current=!1},gt=()=>{q(!0),fe.current=cI(Re.dialog,()=>{q(!1)})},Dn=Se=>{Se.target===Se.currentTarget&&gt()},Nt=Se=>{if(b==="static"){Dn(Se);return}if(Te.current||Se.target!==Se.currentTarget){Te.current=!1;return}I?.()},Ae=Se=>{T?x?.(Se):(Se.preventDefault(),b==="static"&&gt())},ge=(Se,je)=>{Se&&Ct(Se),z?.(Se,je)},F=Se=>{fe.current==null||fe.current(),D?.(Se)},Q=(Se,je)=>{H?.(Se,je),CE(window,"resize",Zt)},X=Se=>{Se&&(Se.style.display=""),$?.(Se),m_(window,"resize",Zt)},we=E.useCallback(Se=>w.jsx("div",{...Se,className:Me(`${t}-backdrop`,N,!v&&"show")}),[v,N,t]),be={...n,...ue};be.display="block";const ye=Se=>w.jsx("div",{role:"dialog",...Se,style:be,className:Me(e,t,xe&&`${t}-static`,!v&&"show"),onClick:b?Nt:void 0,onMouseUp:Dt,"data-bs-theme":d,"aria-label":g,"aria-labelledby":f,"aria-describedby":h,children:w.jsx(u,{...me,onMouseDown:un,className:r,contentClassName:a,children:o})});return w.jsx(GE.Provider,{value:Mt,children:w.jsx(ED,{show:_,ref:Oe,backdrop:b,container:O,keyboard:!0,autoFocus:B,enforceFocus:j,restoreFocus:M,restoreFocusOptions:V,onEscapeKeyDown:Ae,onShow:R,onHide:I,onEnter:ge,onEntering:Q,onEntered:P,onExit:F,onExiting:k,onExited:X,manager:ft(),transition:v?b3:void 0,backdropTransition:v?S3:void 0,renderBackdrop:we,renderDialog:ye})})});CD.displayName="Modal";const Tr=Object.assign(CD,{Body:SD,Header:RD,Title:AD,Footer:TD,Dialog:KE,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),xD=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"nav-item"),w.jsx(n,{ref:a,className:Me(t,e),...r})));xD.displayName="NavItem";const ID=E.forwardRef(({bsPrefix:t,className:e,as:n=Ip,active:r,eventKey:a,disabled:o=!1,...u},d)=>{t=Ge(t,"nav-link");const[f,h]=$E({key:Cu(a,u.href),active:r,disabled:o,...u});return w.jsx(n,{...u,...f,ref:d,disabled:o,className:Me(e,t,o&&"disabled",h.isActive&&"active")})});ID.displayName="NavLink";const DD=E.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:a,fill:o=!1,justify:u=!1,navbar:d,navbarScroll:f,className:h,activeKey:g,..._}=of(t,{activeKey:"onSelect"}),v=Ge(r,"nav");let b,T,x=!1;const R=E.useContext(ll),I=E.useContext(ME);return R?(b=R.bsPrefix,x=d??!0):I&&({cardHeaderBsPrefix:T}=I),w.jsx(gD,{as:n,ref:e,activeKey:g,className:Me(h,{[v]:!x,[`${b}-nav`]:x,[`${b}-nav-scroll`]:x&&f,[`${T}-${a}`]:!!T,[`${v}-${a}`]:!!a,[`${v}-fill`]:o,[`${v}-justified`]:u}),..._})});DD.displayName="Nav";const Rs=Object.assign(DD,{Item:xD,Link:ID}),ND=E.forwardRef(({bsPrefix:t,className:e,as:n,...r},a)=>{t=Ge(t,"navbar-brand");const o=n||(r.href?"a":"span");return w.jsx(o,{...r,ref:a,className:Me(e,t)})});ND.displayName="NavbarBrand";const OD=E.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ge(e,"navbar-collapse");const a=E.useContext(ll);return w.jsx(IE,{in:!!(a&&a.expanded),...n,children:w.jsx("div",{ref:r,className:e,children:t})})});OD.displayName="NavbarCollapse";const MD=E.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:a="button",onClick:o,...u},d)=>{t=Ge(t,"navbar-toggler");const{onToggle:f,expanded:h}=E.useContext(ll)||{},g=Ba(_=>{o&&o(_),f&&f()});return a==="button"&&(u.type="button"),w.jsx(a,{...u,ref:d,onClick:g,"aria-label":r,className:Me(e,t,!h&&"collapsed"),children:n||w.jsx("span",{className:`${t}-icon`})})});MD.displayName="NavbarToggle";const v_=new WeakMap,FR=(t,e)=>{if(!t||!e)return;const n=v_.get(e)||new Map;v_.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function T3(t,e=typeof window>"u"?void 0:window){const n=FR(t,e),[r,a]=E.useState(()=>n?n.matches:!1);return XI(()=>{let o=FR(t,e);if(!o)return a(!1);let u=v_.get(e);const d=()=>{a(o.matches)};return o.refCount++,o.addListener(d),d(),()=>{o.removeListener(d),o.refCount--,o.refCount<=0&&u?.delete(o.media),o=void 0}},[t]),r}function R3(t){const e=Object.keys(t);function n(d,f){return d===f?f:d?`${d} and ${f}`:f}function r(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function a(d){const f=r(d);let h=t[f];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function o(d){let f=t[d];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function u(d,f,h){let g;typeof d=="object"?(g=d,h=f,f=!0):(f=f||!0,g={[d]:f});let _=E.useMemo(()=>Object.entries(g).reduce((v,[b,T])=>((T==="up"||T===!0)&&(v=n(v,o(b))),(T==="down"||T===!0)&&(v=n(v,a(b))),v),""),[JSON.stringify(g)]);return T3(_,h)}return u}const A3=R3({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),kD=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=Ge(e,"offcanvas-body"),w.jsx(n,{ref:a,className:Me(t,e),...r})));kD.displayName="OffcanvasBody";const C3={[Ni]:"show",[Ma]:"show"},PD=E.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:a=!1,unmountOnExit:o=!1,appear:u=!1,...d},f)=>(t=Ge(t,"offcanvas"),w.jsx(xp,{ref:f,addEndListener:xE,in:r,mountOnEnter:a,unmountOnExit:o,appear:u,...d,childRef:zu(n),children:(h,g)=>E.cloneElement(n,{...g,className:Me(e,n.props.className,(h===Ni||h===Ld)&&`${t}-toggling`,C3[h])})})));PD.displayName="OffcanvasToggling";const LD=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...a},o)=>(t=Ge(t,"offcanvas-header"),w.jsx(YE,{ref:o,...a,className:Me(e,t),closeLabel:n,closeButton:r})));LD.displayName="OffcanvasHeader";const x3=cf("h5"),VD=E.forwardRef(({className:t,bsPrefix:e,as:n=x3,...r},a)=>(e=Ge(e,"offcanvas-title"),w.jsx(n,{ref:a,className:Me(t,e),...r})));VD.displayName="OffcanvasTitle";function I3(t){return w.jsx(PD,{...t})}function D3(t){return w.jsx(bu,{...t})}const jD=E.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:a="start",responsive:o,show:u=!1,backdrop:d=!0,keyboard:f=!0,scroll:h=!1,onEscapeKeyDown:g,onShow:_,onHide:v,container:b,autoFocus:T=!0,enforceFocus:x=!0,restoreFocus:R=!0,restoreFocusOptions:I,onEntered:O,onExit:B,onExiting:j,onEnter:M,onEntering:V,onExited:P,backdropClassName:D,manager:k,renderStaticNode:z=!1,...H},$)=>{const N=E.useRef();t=Ge(t,"offcanvas");const[J,me]=E.useState(!1),K=Ba(v),ue=A3(o||"xs","up");E.useEffect(()=>{me(o?u&&!ue:u)},[u,o,ue]);const pe=E.useMemo(()=>({onHide:K}),[K]);function xe(){return k||(h?(N.current||(N.current=new wD({handleContainerOverflow:!1})),N.current):bD())}const q=(Re,...ke)=>{Re&&(Re.style.visibility="visible"),M?.(Re,...ke)},se=(Re,...ke)=>{Re&&(Re.style.visibility=""),P?.(...ke)},Te=E.useCallback(Re=>w.jsx("div",{...Re,className:Me(`${t}-backdrop`,D)}),[D,t]),fe=Re=>w.jsx("div",{...Re,...H,className:Me(e,o?`${t}-${o}`:t,`${t}-${a}`),"aria-labelledby":r,children:n});return w.jsxs(w.Fragment,{children:[!J&&(o||z)&&fe({}),w.jsx(GE.Provider,{value:pe,children:w.jsx(ED,{show:J,ref:$,backdrop:d,container:b,keyboard:f,autoFocus:T,enforceFocus:x&&!h,restoreFocus:R,restoreFocusOptions:I,onEscapeKeyDown:g,onShow:_,onHide:K,onEnter:q,onEntering:V,onEntered:O,onExit:B,onExiting:j,onExited:se,manager:xe(),transition:I3,backdropTransition:D3,renderBackdrop:Te,renderDialog:fe})})]})});jD.displayName="Offcanvas";const N3=Object.assign(jD,{Body:kD,Header:LD,Title:VD}),UD=E.forwardRef(({onHide:t,...e},n)=>{const r=E.useContext(ll),a=Ba(()=>{r==null||r.onToggle==null||r.onToggle(),t?.()});return w.jsx(N3,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:a})});UD.displayName="NavbarOffcanvas";const FD=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},a)=>(e=Ge(e,"navbar-text"),w.jsx(n,{ref:a,className:Me(t,e),...r})));FD.displayName="NavbarText";const BD=E.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:a="light",bg:o,fixed:u,sticky:d,className:f,as:h="nav",expanded:g,onToggle:_,onSelect:v,collapseOnSelect:b=!1,...T}=of(t,{expanded:"onToggle"}),x=Ge(n,"navbar"),R=E.useCallback((...B)=>{v?.(...B),b&&g&&_?.(!1)},[v,b,g,_]);T.role===void 0&&h!=="nav"&&(T.role="navigation");let I=`${x}-expand`;typeof r=="string"&&(I=`${I}-${r}`);const O=E.useMemo(()=>({onToggle:()=>_?.(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return w.jsx(ll.Provider,{value:O,children:w.jsx(Zo.Provider,{value:R,children:w.jsx(h,{ref:e,...T,className:Me(f,x,r&&I,a&&`${x}-${a}`,o&&`bg-${o}`,d&&`sticky-${d}`,u&&`fixed-${u}`)})})})});BD.displayName="Navbar";const nm=Object.assign(BD,{Brand:ND,Collapse:OD,Offcanvas:UD,Text:FD,Toggle:MD}),aa=E.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},a)=>{const o=Ge(t,"row"),u=aI(),d=sI(),f=`${o}-cols`,h=[];return u.forEach(g=>{const _=r[g];delete r[g];let v;_!=null&&typeof _=="object"?{cols:v}=_:v=_;const b=g!==d?`-${g}`:"";v!=null&&h.push(`${f}${b}-${v}`)}),w.jsx(n,{ref:a,...r,className:Me(e,o,...h)})});aa.displayName="Row";const Ws=E.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:a="div",className:o,...u},d)=>{t=Ge(t,"spinner");const f=`${t}-${n}`;return w.jsx(a,{ref:d,...u,className:Me(o,f,r&&`${f}-${r}`,e&&`text-${e}`)})});Ws.displayName="Spinner";const pf=E.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:a,hover:o,size:u,variant:d,responsive:f,...h},g)=>{const _=Ge(t,"table"),v=Me(e,_,d&&`${_}-${d}`,u&&`${_}-${u}`,n&&`${_}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${_}-bordered`,a&&`${_}-borderless`,o&&`${_}-hover`),b=w.jsx("table",{...h,className:v,ref:g});if(f){let T=`${_}-responsive`;return typeof f=="string"&&(T=`${T}-${f}`),w.jsx("div",{className:T,children:b})}return b});pf.displayName="Table";var Iv={},Dv={},Nv={exports:{}};const O3=jC(oj),M3=jC(lj);/**
 * react-router-dom v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BR;function k3(){return BR||(BR=1,(function(t){var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=(_,v)=>{for(var b in v)e(_,b,{get:v[b],enumerable:!0})},u=(_,v,b,T)=>{if(v&&typeof v=="object"||typeof v=="function")for(let x of r(v))!a.call(_,x)&&x!==b&&e(_,x,{get:()=>v[x],enumerable:!(T=n(v,x))||T.enumerable});return _},d=(_,v,b)=>(u(_,v,"default"),b&&u(b,v,"default")),f=_=>u(e({},"__esModule",{value:!0}),_),h={};o(h,{HydratedRouter:()=>g.HydratedRouter,RouterProvider:()=>g.RouterProvider}),t.exports=f(h);var g=O3;d(h,M3,t.exports)})(Nv)),Nv.exports}var zR;function P3(){return zR||(zR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(fp()),n=o(lI()),r=k3(),a=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function o(x){return x&&x.__esModule?x:{default:x}}function u(x,R){var I=Object.keys(x);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(x);R&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(x,B).enumerable})),I.push.apply(I,O)}return I}function d(x){for(var R=1;R<arguments.length;R++){var I=arguments[R]!=null?arguments[R]:{};R%2?u(Object(I),!0).forEach(function(O){f(x,O,I[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(I)):u(Object(I)).forEach(function(O){Object.defineProperty(x,O,Object.getOwnPropertyDescriptor(I,O))})}return x}function f(x,R,I){return R in x?Object.defineProperty(x,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[R]=I,x}function h(x){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},h(x)}function g(x,R){if(x==null)return{};var I=_(x,R),O,B;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(x);for(B=0;B<j.length;B++)O=j[B],!(R.indexOf(O)>=0)&&Object.prototype.propertyIsEnumerable.call(x,O)&&(I[O]=x[O])}return I}function _(x,R){if(x==null)return{};var I={},O=Object.keys(x),B,j;for(j=0;j<O.length;j++)B=O[j],!(R.indexOf(B)>=0)&&(I[B]=x[B]);return I}var v=function(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)},b=function(R){var I=R.children,O=R.onClick,B=R.replace,j=B===void 0?!1:B,M=R.to,V=R.state,P=R.activeClassName,D=P===void 0?"active":P,k=R.className,z=R.activeStyle,H=R.style,$=R.isActive,N=g(R,a),J=h(M)==="object"?M.pathname||"":M,me=(0,r.useNavigate)(),K=(0,r.useHref)(typeof M=="string"?{pathname:M}:M),ue=(0,r.useMatch)(J),pe=(0,r.useLocation)(),xe=e.default.Children.only(I),q=!!($?typeof $=="function"?$(ue,pe):$:ue),se=function(fe){I.props.onClick&&I.props.onClick(fe),O&&O(fe),!fe.defaultPrevented&&fe.button===0&&!v(fe)&&(fe.preventDefault(),me(M,{replace:j,state:V}))};return e.default.cloneElement(xe,d(d({},N),{},{className:[k,xe.props.className,q?D:null].join(" ").trim(),style:q?d(d({},H),z):H,href:K,onClick:se}))};b.propTypes={children:n.default.element.isRequired,onClick:n.default.func,replace:n.default.bool,to:n.default.oneOfType([n.default.string,n.default.object]).isRequired,state:n.default.object,className:n.default.string,activeClassName:n.default.string,style:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),activeStyle:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),isActive:n.default.oneOfType([n.default.func,n.default.bool])};var T=b;t.default=T})(Dv)),Dv}var HR;function L3(){return HR||(HR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LinkContainer",{enumerable:!0,get:function(){return e.default}});var e=n(P3());function n(r){return r&&r.__esModule?r:{default:r}}})(Iv)),Iv}var qo=L3();function Da({children:t,admin:e}){return w.jsxs(w.Fragment,{children:[w.jsx(V3,{admin:e}),t]})}function V3({admin:t}){return w.jsx(nm,{expand:"lg",className:"shadow-sm mb-4",children:w.jsxs(ol,{className:"ms-1",children:[w.jsx(qo.LinkContainer,{to:"/",children:w.jsx(nm.Brand,{children:"Bllk Forms"})}),w.jsx(nm.Toggle,{"aria-controls":"main-navbar"}),w.jsxs(nm.Collapse,{id:"main-navbar",children:[w.jsxs(Rs,{className:"me-auto",children:[w.jsx(qo.LinkContainer,{to:"/daily",children:w.jsx(Rs.Link,{children:"Daily"})}),w.jsx(qo.LinkContainer,{to:"/weekly",children:w.jsx(Rs.Link,{children:"Weekly"})}),!t&&w.jsx(qo.LinkContainer,{to:"/admin",children:w.jsx(Rs.Link,{children:"Admin"})}),t&&w.jsx(qo.LinkContainer,{to:"/admin/builder",children:w.jsx(Rs.Link,{children:"Builder"})}),t&&w.jsx(qo.LinkContainer,{to:"/admin/submissions",children:w.jsx(Rs.Link,{children:"Submissions"})}),t&&w.jsx(qo.LinkContainer,{to:"/admin/staff",children:w.jsx(Rs.Link,{children:"Staff"})})]}),w.jsx(Rs,{})]})]})})}const j3=()=>{};var $R={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},U3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],d=t[n++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,d=u?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,g=o>>2,_=(o&3)<<4|d>>4;let v=(d&15)<<2|h>>6,b=h&63;f||(b=64,u||(v=64)),r.push(n[g],n[_],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||h==null||_==null)throw new F3;const v=o<<2|d>>4;if(r.push(v),h!==64){const b=d<<4&240|h>>2;if(r.push(b),_!==64){const T=h<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B3=function(t){const e=zD(t);return HD.encodeByteArray(e,!0)},zm=function(t){return B3(t).replace(/\./g,"")},$D=function(t){try{return HD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=()=>z3().__FIREBASE_DEFAULTS__,$3=()=>{if(typeof process>"u"||typeof $R>"u")return;const t=$R.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$D(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return j3()||H3()||$3()||q3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qD=t=>Up()?.emulatorHosts?.[t],G3=t=>{const e=qD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GD=()=>Up()?.config,KD=t=>Up()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zm(JSON.stringify(n)),zm(JSON.stringify(u)),""].join(".")}const Sd={};function Q3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sd))Sd[e]?t.emulator.push(e):t.prod.push(e);return t}function W3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qR=!1;function QD(t,e){if(typeof window>"u"||typeof document>"u"||!qu(window.location.host)||Sd[t]===e||Sd[t]||qR)return;Sd[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=Q3().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{qR=!0,u()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=W3(r),b=n("text"),T=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),R=document.getElementById(x)||document.createElement("a"),I=n("preprendIcon"),O=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;d(B),g(R,x);const j=h();f(O,I),B.append(O,T,R,j),document.body.appendChild(B)}o?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function J3(){const t=Up()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n6(){const t=fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r6(){return!J3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i6(){try{return typeof indexedDB=="object"}catch{return!1}}function a6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="FirebaseError";class Qa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s6,Object.setPrototypeOf(this,Qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?o6(o,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Qa(a,d,r)}}function o6(t,e){return t.replace(l6,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const l6=/\{\$([^}]+)}/g;function u6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(GR(o)&&GR(u)){if(!el(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function GR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c6(t,e){const n=new d6(t,e);return n.subscribe.bind(n)}class d6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ov),a.error===void 0&&(a.error=Ov),a.complete===void 0&&(a.complete=Ov);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p6(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m6(t){return t===Ko?void 0:t}function p6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const y6={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},v6=Et.INFO,_6={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},E6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=_6[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QE{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=E6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const w6=(t,e)=>e.some(n=>t instanceof n);let KR,YR;function b6(){return KR||(KR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S6(){return YR||(YR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WD=new WeakMap,__=new WeakMap,XD=new WeakMap,Mv=new WeakMap,WE=new WeakMap;function T6(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Bs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&WD.set(n,t)}).catch(()=>{}),WE.set(e,t),e}function R6(t){if(__.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});__.set(t,e)}let E_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A6(t){E_=t(E_)}function C6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kv(this),e,...n);return XD.set(r,e.sort?e.sort():[e]),Bs(r)}:S6().includes(t)?function(...e){return t.apply(kv(this),e),Bs(WD.get(this))}:function(...e){return Bs(t.apply(kv(this),e))}}function x6(t){return typeof t=="function"?C6(t):(t instanceof IDBTransaction&&R6(t),w6(t,b6())?new Proxy(t,E_):t)}function Bs(t){if(t instanceof IDBRequest)return T6(t);if(Mv.has(t))return Mv.get(t);const e=x6(t);return e!==t&&(Mv.set(t,e),WE.set(e,t)),e}const kv=t=>WE.get(t);function I6(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),d=Bs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Bs(u.result),f.oldVersion,f.newVersion,Bs(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const D6=["get","getKey","getAll","getAllKeys","count"],N6=["put","add","delete","clear"],Pv=new Map;function QR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pv.get(e))return Pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=N6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||D6.includes(n)))return;const o=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Pv.set(e,o),o}A6(t=>({...t,get:(e,n,r)=>QR(e,n)||t.get(e,n,r),has:(e,n)=>!!QR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M6(t){return t.getComponent()?.type==="VERSION"}const w_="@firebase/app",WR="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new QE("@firebase/app"),k6="@firebase/app-compat",P6="@firebase/analytics-compat",L6="@firebase/analytics",V6="@firebase/app-check-compat",j6="@firebase/app-check",U6="@firebase/auth",F6="@firebase/auth-compat",B6="@firebase/database",z6="@firebase/data-connect",H6="@firebase/database-compat",$6="@firebase/functions",q6="@firebase/functions-compat",G6="@firebase/installations",K6="@firebase/installations-compat",Y6="@firebase/messaging",Q6="@firebase/messaging-compat",W6="@firebase/performance",X6="@firebase/performance-compat",J6="@firebase/remote-config",Z6="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/ai",iF="@firebase/firestore-compat",aF="firebase",sF="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="[DEFAULT]",oF={[w_]:"fire-core",[k6]:"fire-core-compat",[L6]:"fire-analytics",[P6]:"fire-analytics-compat",[j6]:"fire-app-check",[V6]:"fire-app-check-compat",[U6]:"fire-auth",[F6]:"fire-auth-compat",[B6]:"fire-rtdb",[z6]:"fire-data-connect",[H6]:"fire-rtdb-compat",[$6]:"fire-fn",[q6]:"fire-fn-compat",[G6]:"fire-iid",[K6]:"fire-iid-compat",[Y6]:"fire-fcm",[Q6]:"fire-fcm-compat",[W6]:"fire-perf",[X6]:"fire-perf-compat",[J6]:"fire-rc",[Z6]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[iF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[aF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Map,lF=new Map,S_=new Map;function XR(t,e){try{t.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xu(t){const e=t.name;if(S_.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,t);for(const n of Hm.values())XR(n,t);for(const n of lF.values())XR(n,t);return!0}function XE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new gf("app","Firebase",uF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=sF;function JD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:b_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw zs.create("bad-app-name",{appName:String(a)});if(n||(n=GD()),!n)throw zs.create("no-options");const o=Hm.get(a);if(o){if(el(n,o.options)&&el(r,o.config))return o;throw zs.create("duplicate-app",{appName:a})}const u=new g6(a);for(const f of S_.values())u.addComponent(f);const d=new cF(n,r,u);return Hm.set(a,d),d}function ZD(t=b_){const e=Hm.get(t);if(!e&&t===b_&&GD())return JD();if(!e)throw zs.create("no-app",{appName:t});return e}function Hs(t,e,n){let r=oF[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(u.join(" "));return}xu(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="firebase-heartbeat-database",fF=1,Ud="firebase-heartbeat-store";let Lv=null;function eN(){return Lv||(Lv=I6(dF,fF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ud)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Lv}async function hF(t){try{const n=(await eN()).transaction(Ud),r=await n.objectStore(Ud).get(tN(t));return await n.done,r}catch(e){if(e instanceof Qa)$a.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e?.message});$a.warn(n.message)}}}async function JR(t,e){try{const r=(await eN()).transaction(Ud,"readwrite");await r.objectStore(Ud).put(e,tN(t)),await r.done}catch(n){if(n instanceof Qa)$a.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n?.message});$a.warn(r.message)}}}function tN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=1024,pF=30;class gF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>pF){const a=_F(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZR(),{heartbeatsToSend:n,unsentEntries:r}=yF(this._heartbeatsCache.heartbeats),a=zm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $a.warn(e),""}}}function ZR(){return new Date().toISOString().substring(0,10)}function yF(t,e=mF){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),eA(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),eA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i6()?a6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eA(t){return zm(JSON.stringify({version:2,heartbeats:t})).length}function _F(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){xu(new tl("platform-logger",e=>new O6(e),"PRIVATE")),xu(new tl("heartbeat",e=>new gF(e),"PRIVATE")),Hs(w_,WR,t),Hs(w_,WR,"esm2020"),Hs("fire-js","")}EF("");function nN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wF=nN,rN=new gf("auth","Firebase",nN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new QE("@firebase/auth");function bF(t,...e){$m.logLevel<=Et.WARN&&$m.warn(`Auth (${Gu}): ${t}`,...e)}function _m(t,...e){$m.logLevel<=Et.ERROR&&$m.error(`Auth (${Gu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,...e){throw JE(t,...e)}function Zi(t,...e){return JE(t,...e)}function iN(t,e,n){const r={...wF(),[e]:n};return new gf("auth","Firebase",r).create(e,{appName:t.name})}function $s(t){return iN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rN.create(t,...e)}function rt(t,e,...n){if(!t)throw JE(e,...n)}function Pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function qa(t,e){t||Pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof self<"u"&&self.location?.href||""}function SF(){return tA()==="http:"||tA()==="https:"}function tA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||e6()||"connection"in navigator)?navigator.onLine:!0}function RF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,qa(n>e,"Short delay should be less than long delay!"),this.isMobile=X3()||t6()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e){qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xF=new vf(3e4,6e4);function ul(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,n,r,a={}){return sN(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=yf({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return Z3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&qu(t.emulatorConfig.host)&&(h.credentials="include"),aN.fetch()(await oN(t,t.config.apiHost,n,d),h)})}async function sN(t,e,n){t._canInitEmulator=!1;const r={...AF,...e};try{const a=new DF(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw rm(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw rm(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw rm(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw rm(t,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw iN(t,g,h);Li(t,g)}}catch(a){if(a instanceof Qa)throw a;Li(t,"network-request-failed",{message:String(a)})}}async function Fp(t,e,n,r,a={}){const o=await lo(t,e,n,r,a);return"mfaPendingCredential"in o&&Li(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function oN(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?ZE(t.config,a):`${t.config.apiScheme}://${a}`;return CF.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function IF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),xF.get())})}}function rm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Zi(t,e,r);return a.customData._tokenResponse=n,a}function nA(t){return t!==void 0&&t.enterprise!==void 0}class NF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OF(t,e){return lo(t,"GET","/v2/recaptchaConfig",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function qm(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kF(t,e=!1){const n=En(t),r=await n.getIdToken(e),a=ew(r);rt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Td(Vv(a.auth_time)),issuedAtTime:Td(Vv(a.iat)),expirationTime:Td(Vv(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vv(t){return Number(t)*1e3}function ew(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const a=$D(n);return a?JSON.parse(a):(_m("Failed to decode base64 JWT payload"),null)}catch(a){return _m("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rA(t){const e=ew(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qa&&PF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Td(this.lastLoginAt),this.creationTime=Td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){const e=t.auth,n=await t.getIdToken(),r=await Fd(t,qm(e,{idToken:n}));rt(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?lN(a.providerUserInfo):[],u=jF(t.providerData,o),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new R_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function VF(t){const e=En(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jF(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function lN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e){const n=await sN(t,{},async()=>{const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await oN(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&qu(t.emulatorConfig.host)&&(f.credentials="include"),aN.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FF(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=rA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await UF(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new mu;return r&&(rt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(rt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(rt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new LF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new R_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Fd(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await Fd(this,MF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:x}=n;rt(_&&x,e,"internal-error");const R=mu.fromJSON(this.name,x);rt(typeof _=="string",e,"internal-error"),As(r,e.name),As(a,e.name),rt(typeof v=="boolean",e,"internal-error"),rt(typeof b=="boolean",e,"internal-error"),As(o,e.name),As(u,e.name),As(d,e.name),As(f,e.name),As(h,e.name),As(g,e.name);const I=new Pi({uid:_,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:d,stsTokenManager:R,createdAt:h,lastLoginAt:g});return T&&Array.isArray(T)&&(I.providerData=T.map(O=>({...O}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new mu;a.updateFromServerResponse(n);const o=new Pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Gm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];rt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?lN(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,d=new mu;d.updateFromIdToken(r);const f=new Pi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new R_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;function La(t){qa(t instanceof Function,"Expected a class definition");let e=iA.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uN.type="NONE";const aA=uN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){return`firebase:${t}:${e}:${n}`}class pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Em(this.userKey,a.apiKey,o),this.fullPersistenceKey=Em("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qm(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pu(La(aA),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=a[0]||La(aA);const u=Em(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const g=await h._get(u);if(g){let _;if(typeof g=="string"){const v=await qm(e,{idToken:g}).catch(()=>{});if(!v)break;_=await Pi._fromGetAccountInfoResponse(e,v,g)}else _=Pi._fromJSON(e,g);h!==o&&(d=_),o=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new pu(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new pu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pN(e))return"Blackberry";if(gN(e))return"Webos";if(dN(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(mN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cN(t=fr()){return/firefox\//i.test(t)}function dN(t=fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=fr()){return/crios\//i.test(t)}function hN(t=fr()){return/iemobile/i.test(t)}function mN(t=fr()){return/android/i.test(t)}function pN(t=fr()){return/blackberry/i.test(t)}function gN(t=fr()){return/webos/i.test(t)}function tw(t=fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BF(t=fr()){return tw(t)&&!!window.navigator?.standalone}function zF(){return n6()&&document.documentMode===10}function yN(t=fr()){return tw(t)||mN(t)||gN(t)||pN(t)||/windows phone/i.test(t)||hN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e=[]){let n;switch(t){case"Browser":n=sA(fr());break;case"Worker":n=`${sA(fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ul(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=6;class GF{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oA(this),this.idTokenSubscription=new oA(this),this.beforeStateQueue=new HF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=La(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qm(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject($s(this));const n=e?En(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $F(this),n=new GF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&La(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await pu.create(this,[La(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ku(t){return En(t)}class oA{constructor(e){this.auth=e,this.observer=null,this.addObserver=c6(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YF(t){Bp=t}function _N(t){return Bp.loadJS(t)}function QF(){return Bp.recaptchaEnterpriseScript}function WF(){return Bp.gapiScript}function XF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JF{constructor(){this.enterprise=new ZF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const e9="recaptcha-enterprise",EN="NO_RECAPTCHA";class t9{constructor(e){this.type=e9,this.auth=Ku(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{OF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new NF(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function a(o,u,d){const f=window.grecaptcha;nA(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(EN)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JF().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!n&&nA(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QF();f.length!==0&&(f+=d),_N(f).then(()=>{a(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function lA(t,e,n,r=!1,a=!1){const o=new t9(t);let u;if(a)u=EN;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function uA(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t,e){const n=XE(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(el(o,e??{}))return a;Li(a,"already-initialized")}return n.initialize({options:e})}function r9(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(La);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function i9(t,e,n){const r=Ku(t);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=wN(e),{host:u,port:d}=a9(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(el(h,r.config.emulator)&&el(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,qu(u)?(YD(`${o}//${u}${f}`),QD("Auth",!0)):s9()}function wN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a9(t){const e=wN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:cA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:cA(u)}}}function cA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pa("not implemented")}_getIdTokenResponse(e){return Pa("not implemented")}_linkToIdToken(e,n){return Pa("not implemented")}_getReauthenticationResolver(e){return Pa("not implemented")}}async function o9(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e){return Fp(t,"POST","/v1/accounts:signInWithPassword",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}async function c9(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends nw{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Bd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uA(e,n,"signInWithPassword",l9);case"emailLink":return u9(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uA(e,r,"signUpPassword",o9);case"emailLink":return c9(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e){return Fp(t,"POST","/v1/accounts:signInWithIdp",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="http://localhost";class nl extends nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new nl(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return gu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gu(e,n)}buildRequest(){const e={requestUri:d9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h9(t){const e=hd(md(t)).link,n=e?hd(md(e)).deep_link_id:null,r=hd(md(t)).deep_link_id;return(r?hd(md(r)).link:null)||r||n||e||t}class rw{constructor(e){const n=hd(md(e)),r=n.apiKey??null,a=n.oobCode??null,o=f9(n.mode??null);rt(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=h9(e);try{return new rw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.providerId=Yu.PROVIDER_ID}static credential(e,n){return Bd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rw.parseLink(n);return rt(r,"argument-error"),Bd._fromEmailAndCode(e,r.code,r.tenantId)}}Yu.PROVIDER_ID="password";Yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends bN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends _f{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends _f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends _f{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends _f{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Pi._fromIdTokenResponse(e,r,a),u=dA(r);return new Iu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=dA(r);return new Iu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function dA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Qa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Km(e,n,r,a)}}function SN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Km._fromErrorAndOperation(t,o,e,r):o})}async function m9(t,e,n=!1){const r=await Fd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e,n=!1){const{auth:r}=t;if(Oi(r.app))return Promise.reject($s(r));const a="reauthenticate";try{const o=await Fd(t,SN(r,a,e,t),n);rt(o.idToken,r,"internal-error");const u=ew(o.idToken);rt(u,r,"internal-error");const{sub:d}=u;return rt(t.uid===d,r,"user-mismatch"),Iu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e,n=!1){if(Oi(t.app))return Promise.reject($s(t));const r="signIn",a=await SN(t,r,e),o=await Iu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function g9(t,e){return TN(Ku(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t){const e=Ku(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v9(t,e,n){return Oi(t.app)?Promise.reject($s(t)):g9(En(t),Yu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&y9(t),r})}function _9(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function w9(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function b9(t){return En(t).signOut()}const Ym="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ym,"1"),this.storage.removeItem(Ym),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=1e3,T9=10;class AN extends RN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);zF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,T9):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AN.type="LOCAL";const R9=AN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends RN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CN.type="SESSION";const xN=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new zp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async h=>h(n.origin,o)),f=await A9(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=iw("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const v=_;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return window}function x9(t){ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof ea().WorkerGlobalScope<"u"&&typeof ea().importScripts=="function"}async function I9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D9(){return navigator?.serviceWorker?.controller||null}function N9(){return IN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebaseLocalStorageDb",O9=1,Qm="firebaseLocalStorage",NN="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([Qm],e?"readwrite":"readonly").objectStore(Qm)}function M9(){const t=indexedDB.deleteDatabase(DN);return new Ef(t).toPromise()}function A_(){const t=indexedDB.open(DN,O9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qm,{keyPath:NN})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qm)?e(r):(r.close(),await M9(),e(await A_()))})})}async function fA(t,e,n){const r=Hp(t,!0).put({[NN]:e,value:n});return new Ef(r).toPromise()}async function k9(t,e){const n=Hp(t,!1).get(e),r=await new Ef(n).toPromise();return r===void 0?null:r.value}function hA(t,e){const n=Hp(t,!0).delete(e);return new Ef(n).toPromise()}const P9=800,L9=3;class ON{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zp._getInstance(N9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I9(),!this.activeServiceWorker)return;this.sender=new C9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A_();return await fA(e,Ym,"1"),await hA(e,Ym),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>k9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Hp(a,!1).getAll();return new Ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ON.type="LOCAL";const V9=ON;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e){return e?La(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U9(t){return TN(t.auth,new aw(t),t.bypassAuthState)}function F9(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),p9(n,new aw(t),t.bypassAuthState)}async function B9(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),m9(n,new aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U9;case"linkViaPopup":case"linkViaRedirect":return B9;case"reauthViaPopup":case"reauthViaRedirect":return F9;default:Li(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new vf(2e3,1e4);class lu extends MN{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,lu.currentPopupAction&&lu.currentPopupAction.cancel(),lu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const e=iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z9.get())};e()}}lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="pendingRedirect",wm=new Map;class $9 extends MN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wm.get(this.auth._key());if(!e){try{const r=await q9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wm.set(this.auth._key(),e)}return this.bypassAuthState||wm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q9(t,e){const n=Y9(e),r=K9(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function G9(t,e){wm.set(t._key(),e)}function K9(t){return La(t._redirectPersistence)}function Y9(t){return Em(H9,t.config.apiKey,t.name)}async function Q9(t,e,n=!1){if(Oi(t.app))return Promise.reject($s(t));const r=Ku(t),a=j9(r,e),u=await new $9(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=600*1e3;class X9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W9&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(e))}saveEventToCache(e){this.cachedEventUids.add(mA(e)),this.lastProcessedEventTime=Date.now()}}function mA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function J9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tB=/^https?/;async function nB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z9(t);for(const n of e)try{if(rB(n))return}catch{}Li(t,"unauthorized-domain")}function rB(t){const e=T_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!tB.test(n))return!1;if(eB.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new vf(3e4,6e4);function pA(){const t=ea().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aB(t){return new Promise((e,n)=>{function r(){pA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pA(),n(Zi(t,"network-request-failed"))},timeout:iB.get()})}if(ea().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ea().gapi?.load)r();else{const a=XF("iframefcb");return ea()[a]=()=>{gapi.load?r():n(Zi(t,"network-request-failed"))},_N(`${WF()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw bm=null,e})}let bm=null;function sB(t){return bm=bm||aB(t),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=new vf(5e3,15e3),lB="__/auth/iframe",uB="emulator/auth/iframe",cB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fB(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZE(e,uB):`https://${t.config.authDomain}/${lB}`,r={apiKey:e.apiKey,appName:t.name,v:Gu},a=dB.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yf(r).slice(1)}`}async function hB(t){const e=await sB(t),n=ea().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:fB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cB,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Zi(t,"network-request-failed"),d=ea().setTimeout(()=>{o(u)},oB.get());function f(){ea().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pB=500,gB=600,yB="_blank",vB="http://localhost";class gA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _B(t,e,n,r=pB,a=gB){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...mB,width:r.toString(),height:a.toString(),top:o,left:u},h=fr().toLowerCase();n&&(d=fN(h)?yB:n),cN(h)&&(e=e||vB,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(BF(h)&&d!=="_self")return EB(e||"",d),new gA(null);const _=window.open(e||"",d,g);rt(_,t,"popup-blocked");try{_.focus()}catch{}return new gA(_)}function EB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="__/auth/handler",bB="emulator/auth/handler",SB=encodeURIComponent("fac");async function yA(t,e,n,r,a,o){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gu,eventId:a};if(e instanceof bN){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",u6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof _f){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),h=f?`#${SB}=${encodeURIComponent(f)}`:"";return`${TB(t)}?${yf(d).slice(1)}${h}`}function TB({config:t}){return t.emulator?ZE(t,bB):`https://${t.authDomain}/${wB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="webStorageSupport";class RB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xN,this._completeRedirectFn=Q9,this._overrideRedirectResult=G9}async _openPopup(e,n,r,a){qa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await yA(e,n,r,T_(),a);return _B(e,o,iw())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await yA(e,n,r,T_(),a);return x9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(qa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hB(e),r=new X9(e);return n.register("authEvent",a=>(rt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jv,{type:jv},a=>{const o=a?.[0]?.[jv];o!==void 0&&n(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yN()||dN()||tw()}}const AB=RB;var vA="@firebase/auth",_A="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IB(t){xu(new tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;rt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vN(t)},h=new KF(r,a,o,f);return r9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xu(new tl("auth-internal",e=>{const n=Ku(e.getProvider("auth").getImmediate());return(r=>new CB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(vA,_A,xB(t)),Hs(vA,_A,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=300,NB=KD("authIdTokenMaxAge")||DB;let EA=null;const OB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NB)return;const a=n?.token;EA!==a&&(EA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function MB(t=ZD()){const e=XE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=n9(t,{popupRedirectResolver:AB,persistence:[V9,R9,xN]}),r=KD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=OB(o.toString());E9(n,u,()=>u(n.currentUser)),_9(n,d=>u(d))}}const a=qD("auth");return a&&i9(n,`http://${a}`),n}function kB(){return document.getElementsByTagName("head")?.[0]??document}YF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Zi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",kB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IB("Browser");var PB="firebase",LB="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(PB,LB,"app");var wA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,PN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function k(){}k.prototype=D.prototype,P.F=D.prototype,P.prototype=new k,P.prototype.constructor=P,P.D=function(z,H,$){for(var N=Array(arguments.length-2),J=2;J<arguments.length;J++)N[J-2]=arguments[J];return D.prototype[H].apply(z,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,D,k){k||(k=0);const z=Array(16);if(typeof D=="string")for(var H=0;H<16;++H)z[H]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(H=0;H<16;++H)z[H]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=P.g[0],k=P.g[1],H=P.g[2];let $=P.g[3],N;N=D+($^k&(H^$))+z[0]+3614090360&4294967295,D=k+(N<<7&4294967295|N>>>25),N=$+(H^D&(k^H))+z[1]+3905402710&4294967295,$=D+(N<<12&4294967295|N>>>20),N=H+(k^$&(D^k))+z[2]+606105819&4294967295,H=$+(N<<17&4294967295|N>>>15),N=k+(D^H&($^D))+z[3]+3250441966&4294967295,k=H+(N<<22&4294967295|N>>>10),N=D+($^k&(H^$))+z[4]+4118548399&4294967295,D=k+(N<<7&4294967295|N>>>25),N=$+(H^D&(k^H))+z[5]+1200080426&4294967295,$=D+(N<<12&4294967295|N>>>20),N=H+(k^$&(D^k))+z[6]+2821735955&4294967295,H=$+(N<<17&4294967295|N>>>15),N=k+(D^H&($^D))+z[7]+4249261313&4294967295,k=H+(N<<22&4294967295|N>>>10),N=D+($^k&(H^$))+z[8]+1770035416&4294967295,D=k+(N<<7&4294967295|N>>>25),N=$+(H^D&(k^H))+z[9]+2336552879&4294967295,$=D+(N<<12&4294967295|N>>>20),N=H+(k^$&(D^k))+z[10]+4294925233&4294967295,H=$+(N<<17&4294967295|N>>>15),N=k+(D^H&($^D))+z[11]+2304563134&4294967295,k=H+(N<<22&4294967295|N>>>10),N=D+($^k&(H^$))+z[12]+1804603682&4294967295,D=k+(N<<7&4294967295|N>>>25),N=$+(H^D&(k^H))+z[13]+4254626195&4294967295,$=D+(N<<12&4294967295|N>>>20),N=H+(k^$&(D^k))+z[14]+2792965006&4294967295,H=$+(N<<17&4294967295|N>>>15),N=k+(D^H&($^D))+z[15]+1236535329&4294967295,k=H+(N<<22&4294967295|N>>>10),N=D+(H^$&(k^H))+z[1]+4129170786&4294967295,D=k+(N<<5&4294967295|N>>>27),N=$+(k^H&(D^k))+z[6]+3225465664&4294967295,$=D+(N<<9&4294967295|N>>>23),N=H+(D^k&($^D))+z[11]+643717713&4294967295,H=$+(N<<14&4294967295|N>>>18),N=k+($^D&(H^$))+z[0]+3921069994&4294967295,k=H+(N<<20&4294967295|N>>>12),N=D+(H^$&(k^H))+z[5]+3593408605&4294967295,D=k+(N<<5&4294967295|N>>>27),N=$+(k^H&(D^k))+z[10]+38016083&4294967295,$=D+(N<<9&4294967295|N>>>23),N=H+(D^k&($^D))+z[15]+3634488961&4294967295,H=$+(N<<14&4294967295|N>>>18),N=k+($^D&(H^$))+z[4]+3889429448&4294967295,k=H+(N<<20&4294967295|N>>>12),N=D+(H^$&(k^H))+z[9]+568446438&4294967295,D=k+(N<<5&4294967295|N>>>27),N=$+(k^H&(D^k))+z[14]+3275163606&4294967295,$=D+(N<<9&4294967295|N>>>23),N=H+(D^k&($^D))+z[3]+4107603335&4294967295,H=$+(N<<14&4294967295|N>>>18),N=k+($^D&(H^$))+z[8]+1163531501&4294967295,k=H+(N<<20&4294967295|N>>>12),N=D+(H^$&(k^H))+z[13]+2850285829&4294967295,D=k+(N<<5&4294967295|N>>>27),N=$+(k^H&(D^k))+z[2]+4243563512&4294967295,$=D+(N<<9&4294967295|N>>>23),N=H+(D^k&($^D))+z[7]+1735328473&4294967295,H=$+(N<<14&4294967295|N>>>18),N=k+($^D&(H^$))+z[12]+2368359562&4294967295,k=H+(N<<20&4294967295|N>>>12),N=D+(k^H^$)+z[5]+4294588738&4294967295,D=k+(N<<4&4294967295|N>>>28),N=$+(D^k^H)+z[8]+2272392833&4294967295,$=D+(N<<11&4294967295|N>>>21),N=H+($^D^k)+z[11]+1839030562&4294967295,H=$+(N<<16&4294967295|N>>>16),N=k+(H^$^D)+z[14]+4259657740&4294967295,k=H+(N<<23&4294967295|N>>>9),N=D+(k^H^$)+z[1]+2763975236&4294967295,D=k+(N<<4&4294967295|N>>>28),N=$+(D^k^H)+z[4]+1272893353&4294967295,$=D+(N<<11&4294967295|N>>>21),N=H+($^D^k)+z[7]+4139469664&4294967295,H=$+(N<<16&4294967295|N>>>16),N=k+(H^$^D)+z[10]+3200236656&4294967295,k=H+(N<<23&4294967295|N>>>9),N=D+(k^H^$)+z[13]+681279174&4294967295,D=k+(N<<4&4294967295|N>>>28),N=$+(D^k^H)+z[0]+3936430074&4294967295,$=D+(N<<11&4294967295|N>>>21),N=H+($^D^k)+z[3]+3572445317&4294967295,H=$+(N<<16&4294967295|N>>>16),N=k+(H^$^D)+z[6]+76029189&4294967295,k=H+(N<<23&4294967295|N>>>9),N=D+(k^H^$)+z[9]+3654602809&4294967295,D=k+(N<<4&4294967295|N>>>28),N=$+(D^k^H)+z[12]+3873151461&4294967295,$=D+(N<<11&4294967295|N>>>21),N=H+($^D^k)+z[15]+530742520&4294967295,H=$+(N<<16&4294967295|N>>>16),N=k+(H^$^D)+z[2]+3299628645&4294967295,k=H+(N<<23&4294967295|N>>>9),N=D+(H^(k|~$))+z[0]+4096336452&4294967295,D=k+(N<<6&4294967295|N>>>26),N=$+(k^(D|~H))+z[7]+1126891415&4294967295,$=D+(N<<10&4294967295|N>>>22),N=H+(D^($|~k))+z[14]+2878612391&4294967295,H=$+(N<<15&4294967295|N>>>17),N=k+($^(H|~D))+z[5]+4237533241&4294967295,k=H+(N<<21&4294967295|N>>>11),N=D+(H^(k|~$))+z[12]+1700485571&4294967295,D=k+(N<<6&4294967295|N>>>26),N=$+(k^(D|~H))+z[3]+2399980690&4294967295,$=D+(N<<10&4294967295|N>>>22),N=H+(D^($|~k))+z[10]+4293915773&4294967295,H=$+(N<<15&4294967295|N>>>17),N=k+($^(H|~D))+z[1]+2240044497&4294967295,k=H+(N<<21&4294967295|N>>>11),N=D+(H^(k|~$))+z[8]+1873313359&4294967295,D=k+(N<<6&4294967295|N>>>26),N=$+(k^(D|~H))+z[15]+4264355552&4294967295,$=D+(N<<10&4294967295|N>>>22),N=H+(D^($|~k))+z[6]+2734768916&4294967295,H=$+(N<<15&4294967295|N>>>17),N=k+($^(H|~D))+z[13]+1309151649&4294967295,k=H+(N<<21&4294967295|N>>>11),N=D+(H^(k|~$))+z[4]+4149444226&4294967295,D=k+(N<<6&4294967295|N>>>26),N=$+(k^(D|~H))+z[11]+3174756917&4294967295,$=D+(N<<10&4294967295|N>>>22),N=H+(D^($|~k))+z[2]+718787259&4294967295,H=$+(N<<15&4294967295|N>>>17),N=k+($^(H|~D))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(H+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+H&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,D){D===void 0&&(D=P.length);const k=D-this.blockSize,z=this.C;let H=this.h,$=0;for(;$<D;){if(H==0)for(;$<=k;)a(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<D;)if(z[H++]=P.charCodeAt($++),H==this.blockSize){a(this,z),H=0;break}}else for(;$<D;)if(z[H++]=P[$++],H==this.blockSize){a(this,z),H=0;break}}this.h=H,this.o+=D},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;D=this.o*8;for(var k=P.length-8;k<P.length;++k)P[k]=D&255,D/=256;for(this.v(P),P=Array(16),D=0,k=0;k<4;++k)for(let z=0;z<32;z+=8)P[D++]=this.g[k]>>>z&255;return P};function o(P,D){var k=d;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=D(P)}function u(P,D){this.h=D;const k=[];let z=!0;for(let H=P.length-1;H>=0;H--){const $=P[H]|0;z&&$==D||(k[H]=$,z=!1)}this.g=k}var d={};function f(P){return-128<=P&&P<128?o(P,function(D){return new u([D|0],D<0?-1:0)}):new u([P|0],P<0?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return _;if(P<0)return R(h(-P));const D=[];let k=1;for(let z=0;P>=k;z++)D[z]=P/k|0,k*=4294967296;return new u(D,0)}function g(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return R(g(P.substring(1),D));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(D,8));let z=_;for(let $=0;$<P.length;$+=8){var H=Math.min(8,P.length-$);const N=parseInt(P.substring($,$+H),D);H<8?(H=h(Math.pow(D,H)),z=z.j(H).add(h(N))):(z=z.j(k),z=z.add(h(N)))}return z}var _=f(0),v=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(x(this))return-R(this).m();let P=0,D=1;for(let k=0;k<this.g.length;k++){const z=this.i(k);P+=(z>=0?z:4294967296+z)*D,D*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(x(this))return"-"+R(this).toString(P);const D=h(Math.pow(P,6));var k=this;let z="";for(;;){const H=j(k,D).g;k=I(k,H.j(D));let $=((k.g.length>0?k.g[0]:k.h)>>>0).toString(P);if(k=H,T(k))return $+z;for(;$.length<6;)$="0"+$;z=$+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=I(this,P),x(P)?-1:T(P)?0:1};function R(P){const D=P.g.length,k=[];for(let z=0;z<D;z++)k[z]=~P.g[z];return new u(k,~P.h).add(v)}t.abs=function(){return x(this)?R(this):this},t.add=function(P){const D=Math.max(this.g.length,P.g.length),k=[];let z=0;for(let H=0;H<=D;H++){let $=z+(this.i(H)&65535)+(P.i(H)&65535),N=($>>>16)+(this.i(H)>>>16)+(P.i(H)>>>16);z=N>>>16,$&=65535,N&=65535,k[H]=N<<16|$}return new u(k,k[k.length-1]&-2147483648?-1:0)};function I(P,D){return P.add(R(D))}t.j=function(P){if(T(this)||T(P))return _;if(x(this))return x(P)?R(this).j(R(P)):R(R(this).j(P));if(x(P))return R(this.j(R(P)));if(this.l(b)<0&&P.l(b)<0)return h(this.m()*P.m());const D=this.g.length+P.g.length,k=[];for(var z=0;z<2*D;z++)k[z]=0;for(z=0;z<this.g.length;z++)for(let H=0;H<P.g.length;H++){const $=this.i(z)>>>16,N=this.i(z)&65535,J=P.i(H)>>>16,me=P.i(H)&65535;k[2*z+2*H]+=N*me,O(k,2*z+2*H),k[2*z+2*H+1]+=$*me,O(k,2*z+2*H+1),k[2*z+2*H+1]+=N*J,O(k,2*z+2*H+1),k[2*z+2*H+2]+=$*J,O(k,2*z+2*H+2)}for(P=0;P<D;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=D;P<2*D;P++)k[P]=0;return new u(k,0)};function O(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function B(P,D){this.g=P,this.h=D}function j(P,D){if(T(D))throw Error("division by zero");if(T(P))return new B(_,_);if(x(P))return D=j(R(P),D),new B(R(D.g),R(D.h));if(x(D))return D=j(P,R(D)),new B(R(D.g),D.h);if(P.g.length>30){if(x(P)||x(D))throw Error("slowDivide_ only works with positive integers.");for(var k=v,z=D;z.l(P)<=0;)k=M(k),z=M(z);var H=V(k,1),$=V(z,1);for(z=V(z,2),k=V(k,2);!T(z);){var N=$.add(z);N.l(P)<=0&&(H=H.add(k),$=N),z=V(z,1),k=V(k,1)}return D=I(P,H.j(D)),new B(H,D)}for(H=_;P.l(D)>=0;){for(k=Math.max(1,Math.floor(P.m()/D.m())),z=Math.ceil(Math.log(k)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),$=h(k),N=$.j(D);x(N)||N.l(P)>0;)k-=z,$=h(k),N=$.j(D);T($)&&($=v),H=H.add($),P=I(P,N)}return new B(H,P)}t.B=function(P){return j(this,P).h},t.and=function(P){const D=Math.max(this.g.length,P.g.length),k=[];for(let z=0;z<D;z++)k[z]=this.i(z)&P.i(z);return new u(k,this.h&P.h)},t.or=function(P){const D=Math.max(this.g.length,P.g.length),k=[];for(let z=0;z<D;z++)k[z]=this.i(z)|P.i(z);return new u(k,this.h|P.h)},t.xor=function(P){const D=Math.max(this.g.length,P.g.length),k=[];for(let z=0;z<D;z++)k[z]=this.i(z)^P.i(z);return new u(k,this.h^P.h)};function M(P){const D=P.g.length+1,k=[];for(let z=0;z<D;z++)k[z]=P.i(z)<<1|P.i(z-1)>>>31;return new u(k,P.h)}function V(P,D){const k=D>>5;D%=32;const z=P.g.length-k,H=[];for(let $=0;$<z;$++)H[$]=D>0?P.i($+k)>>>D|P.i($+k+1)<<32-D:P.i($+k);return new u(H,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=g,qs=u}).apply(typeof wA<"u"?wA:typeof self<"u"?self:typeof window<"u"?window:{});var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LN,pd,VN,Sm,C_,jN,UN,FN;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof im=="object"&&im];for(var S=0;S<m.length;++S){var A=m[S];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function a(m,S){if(S)e:{var A=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var ne=m[U];if(!(ne in A))break e;A=A[ne]}m=m[m.length-1],U=A[m],S=S(U),S!=U&&S!=null&&e(A,m,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(S){var A=[],U;for(U in S)Object.prototype.hasOwnProperty.call(S,U)&&A.push([U,S[U]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,A){return m.call.apply(m.bind,arguments)}function h(m,S,A){return h=f,h.apply(null,arguments)}function g(m,S){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function _(m,S){function A(){}A.prototype=S.prototype,m.Z=S.prototype,m.prototype=new A,m.prototype.constructor=m,m.Ob=function(U,ne,le){for(var De=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)De[dt-2]=arguments[dt];return S.prototype[ne].apply(U,De)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const S=m.length;if(S>0){const A=Array(S);for(let U=0;U<S;U++)A[U]=m[U];return A}return[]}function T(m,S){for(let U=1;U<arguments.length;U++){const ne=arguments[U];var A=typeof ne;if(A=A!="object"?A:ne?Array.isArray(ne)?"array":A:"null",A=="array"||A=="object"&&typeof ne.length=="number"){A=m.length||0;const le=ne.length||0;m.length=A+le;for(let De=0;De<le;De++)m[A+De]=ne[De]}else m.push(ne)}}class x{constructor(S,A){this.i=S,this.j=A,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function R(m){u.setTimeout(()=>{throw m},0)}function I(){var m=P;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class O{constructor(){this.h=this.g=null}add(S,A){const U=B.get();U.set(S,A),this.h?this.h.next=U:this.g=U,this.h=U}}var B=new x(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(S,A){this.h=S,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let M,V=!1,P=new O,D=()=>{const m=Promise.resolve(void 0);M=()=>{m.then(k)}};function k(){for(var m;m=I();){try{m.h.call(m.g)}catch(A){R(A)}var S=B;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}V=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};u.addEventListener("test",A,S),u.removeEventListener("test",A,S)}catch{}return m})();function N(m){return/^[\s\xa0]*$/.test(m)}function J(m,S){H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}_(J,H),J.prototype.init=function(m,S){const A=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(A=="mouseover"?S=m.fromElement:A=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),K=0;function ue(m,S,A,U,ne){this.listener=m,this.proxy=null,this.src=S,this.type=A,this.capture=!!U,this.ha=ne,this.key=++K,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xe(m,S,A){for(const U in m)S.call(A,m[U],U,m)}function q(m,S){for(const A in m)S.call(void 0,m[A],A,m)}function se(m){const S={};for(const A in m)S[A]=m[A];return S}const Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(m,S){let A,U;for(let ne=1;ne<arguments.length;ne++){U=arguments[ne];for(A in U)m[A]=U[A];for(let le=0;le<Te.length;le++)A=Te[le],Object.prototype.hasOwnProperty.call(U,A)&&(m[A]=U[A])}}function Re(m){this.src=m,this.g={},this.h=0}Re.prototype.add=function(m,S,A,U,ne){const le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);const De=Oe(m,S,U,ne);return De>-1?(S=m[De],A||(S.fa=!1)):(S=new ue(S,this.src,le,!!U,ne),S.fa=A,m.push(S)),S};function ke(m,S){const A=S.type;if(A in m.g){var U=m.g[A],ne=Array.prototype.indexOf.call(U,S,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(U,ne,1),le&&(pe(S),m.g[A].length==0&&(delete m.g[A],m.h--))}}function Oe(m,S,A,U){for(let ne=0;ne<m.length;++ne){const le=m[ne];if(!le.da&&le.listener==S&&le.capture==!!A&&le.ha==U)return ne}return-1}var pt="closure_lm_"+(Math.random()*1e6|0),st={};function Mt(m,S,A,U,ne){if(Array.isArray(S)){for(let le=0;le<S.length;le++)Mt(m,S[le],A,U,ne);return null}return A=Ae(A),m&&m[me]?m.J(S,A,d(U)?!!U.capture:!1,ne):ft(m,S,A,!1,U,ne)}function ft(m,S,A,U,ne,le){if(!S)throw Error("Invalid event type");const De=d(ne)?!!ne.capture:!!ne;let dt=Dn(m);if(dt||(m[pt]=dt=new Re(m)),A=dt.add(S,A,U,De,le),A.proxy)return A;if(U=Ct(),A.proxy=U,U.src=m,U.listener=A,m.addEventListener)$||(ne=De),ne===void 0&&(ne=!1),m.addEventListener(S.toString(),U,ne);else if(m.attachEvent)m.attachEvent(Dt(S.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ct(){function m(A){return S.call(m.src,m.listener,A)}const S=gt;return m}function Zt(m,S,A,U,ne){if(Array.isArray(S))for(var le=0;le<S.length;le++)Zt(m,S[le],A,U,ne);else U=d(U)?!!U.capture:!!U,A=Ae(A),m&&m[me]?(m=m.i,le=String(S).toString(),le in m.g&&(S=m.g[le],A=Oe(S,A,U,ne),A>-1&&(pe(S[A]),Array.prototype.splice.call(S,A,1),S.length==0&&(delete m.g[le],m.h--)))):m&&(m=Dn(m))&&(S=m.g[S.toString()],m=-1,S&&(m=Oe(S,A,U,ne)),(A=m>-1?S[m]:null)&&un(A))}function un(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[me])ke(S.i,m);else{var A=m.type,U=m.proxy;S.removeEventListener?S.removeEventListener(A,U,m.capture):S.detachEvent?S.detachEvent(Dt(A),U):S.addListener&&S.removeListener&&S.removeListener(U),(A=Dn(S))?(ke(A,m),A.h==0&&(A.src=null,S[pt]=null)):pe(m)}}}function Dt(m){return m in st?st[m]:st[m]="on"+m}function gt(m,S){if(m.da)m=!0;else{S=new J(S,this);const A=m.listener,U=m.ha||m.src;m.fa&&un(m),m=A.call(U,S)}return m}function Dn(m){return m=m[pt],m instanceof Re?m:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ae(m){return typeof m=="function"?m:(m[Nt]||(m[Nt]=function(S){return m.handleEvent(S)}),m[Nt])}function ge(){z.call(this),this.i=new Re(this),this.M=this,this.G=null}_(ge,z),ge.prototype[me]=!0,ge.prototype.removeEventListener=function(m,S,A,U){Zt(this,m,S,A,U)};function F(m,S){var A,U=m.G;if(U)for(A=[];U;U=U.G)A.push(U);if(m=m.M,U=S.type||S,typeof S=="string")S=new H(S,m);else if(S instanceof H)S.target=S.target||m;else{var ne=S;S=new H(U,m),fe(S,ne)}ne=!0;let le,De;if(A)for(De=A.length-1;De>=0;De--)le=S.g=A[De],ne=Q(le,U,!0,S)&&ne;if(le=S.g=m,ne=Q(le,U,!0,S)&&ne,ne=Q(le,U,!1,S)&&ne,A)for(De=0;De<A.length;De++)le=S.g=A[De],ne=Q(le,U,!1,S)&&ne}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const A=m.g[S];for(let U=0;U<A.length;U++)pe(A[U]);delete m.g[S],m.h--}}this.G=null},ge.prototype.J=function(m,S,A,U){return this.i.add(String(m),S,!1,A,U)},ge.prototype.K=function(m,S,A,U){return this.i.add(String(m),S,!0,A,U)};function Q(m,S,A,U){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let le=0;le<S.length;++le){const De=S[le];if(De&&!De.da&&De.capture==A){const dt=De.listener,Xt=De.ha||De.src;De.fa&&ke(m.i,De),ne=dt.call(Xt,U)!==!1&&ne}}return ne&&!U.defaultPrevented}function X(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(m,S||0)}function we(m){m.g=X(()=>{m.g=null,m.i&&(m.i=!1,we(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class be extends z{constructor(S,A){super(),this.m=S,this.l=A,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(m){z.call(this),this.h=m,this.g={}}_(ye,z);var Se=[];function je(m){xe(m.g,function(S,A){this.g.hasOwnProperty(A)&&un(S)},m),m.g={}}ye.prototype.N=function(){ye.Z.N.call(this),je(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=u.JSON.stringify,xt=u.JSON.parse,ji=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function cn(){}function ca(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pr(){H.call(this,"d")}_(pr,H);function gr(){H.call(this,"c")}_(gr,H);var jn={},yr=null;function ii(){return yr=yr||new ge}jn.Ia="serverreachability";function da(m){H.call(this,jn.Ia,m)}_(da,H);function Ui(m){const S=ii();F(S,new da(S))}jn.STAT_EVENT="statevent";function fa(m,S){H.call(this,jn.STAT_EVENT,m),this.stat=S}_(fa,H);function rn(m){const S=ii();F(S,new fa(S,m))}jn.Ja="timingevent";function ho(m,S){H.call(this,jn.Ja,m),this.size=S}_(ho,H);function Ur(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function Fr(){this.g=!0}Fr.prototype.ua=function(){this.g=!1};function mo(m,S,A,U,ne,le){m.info(function(){if(m.g)if(le){var De="",dt=le.split("&");for(let Pt=0;Pt<dt.length;Pt++){var Xt=dt[Pt].split("=");if(Xt.length>1){const mn=Xt[0];Xt=Xt[1];const Hr=mn.split("_");De=Hr.length>=2&&Hr[1]=="type"?De+(mn+"="+Xt+"&"):De+(mn+"=redacted&")}}}else De=null;else De=le;return"XMLHTTP REQ ("+U+") [attempt "+ne+"]: "+S+`
`+A+`
`+De})}function po(m,S,A,U,ne,le,De){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ne+"]: "+S+`
`+A+`
`+le+" "+De})}function Y(m,S,A,U){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+oe(m,A)+(U?" "+U:"")})}function ee(m,S){m.info(function(){return"TIMEOUT: "+S})}Fr.prototype.info=function(){};function oe(m,S){if(!m.g)return S;if(!S)return null;try{const le=JSON.parse(S);if(le){for(m=0;m<le.length;m++)if(Array.isArray(le[m])){var A=le[m];if(!(A.length<2)){var U=A[1];if(Array.isArray(U)&&!(U.length<1)){var ne=U[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let De=1;De<U.length;De++)U[De]=""}}}}return it(le)}catch{return S}}var ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ue;function ze(){}_(ze,cn),ze.prototype.g=function(){return new XMLHttpRequest},Ue=new ze;function Ve(m){return encodeURIComponent(String(m))}function Qe(m){var S=1;m=m.split(":");const A=[];for(;S>0&&m.length;)A.push(m.shift()),S--;return m.length&&A.push(m.join(":")),A}function Ke(m,S,A,U){this.j=m,this.i=S,this.l=A,this.S=U||1,this.V=new ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var He={},ct={};function St(m,S,A){m.M=1,m.A=ha(an(S)),m.u=A,m.R=!0,Ht(m,null)}function Ht(m,S){m.F=Date.now(),vr(m),m.B=an(m.A);var A=m.B,U=m.S;Array.isArray(U)||(U=[String(U)]),kf(A.i,"t",U),m.C=0,A=m.j.L,m.h=new Fe,m.g=_l(m.j,A?S:null,!m.u),m.P>0&&(m.O=new be(h(m.Y,m,m.g),m.P)),S=m.V,A=m.g,U=m.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Se[0]=ne.toString()),ne=Se);for(let le=0;le<ne.length;le++){const De=Mt(A,ne[le],U||S.handleEvent,!1,S.h||S);if(!De)break;S.g[De.key]=De}S=m.J?se(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Ui(),mo(m.i,m.v,m.B,m.l,m.S,m.u)}Ke.prototype.ba=function(m){m=m.target;const S=this.O;S&&ir(m)==3?S.j():this.Y(m)},Ke.prototype.Y=function(m){try{if(m==this.g)e:{const dt=ir(this.g),Xt=this.g.ya(),Pt=this.g.ca();if(!(dt<3)&&(dt!=3||this.g&&(this.h.h||this.g.la()||bo(this.g)))){this.K||dt!=4||Xt==7||(Xt==8||Pt<=0?Ui(3):Ui(2)),Nn(this);var S=this.g.ca();this.X=S;var A=en(this);if(this.o=S==200,po(this.i,this.v,this.B,this.l,this.S,dt,S),this.o){if(this.U&&!this.L){t:{if(this.g){var U,ne=this.g;if((U=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(U)){var le=U;break t}}le=null}if(m=le)Y(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,m);else{this.o=!1,this.m=3,rn(12),Cr(this),Un(this);break e}}if(this.R){m=!0;let mn;for(;!this.K&&this.C<A.length;)if(mn=kt(this,A),mn==ct){dt==4&&(this.m=4,rn(14),m=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==He){this.m=4,rn(15),Y(this.i,this.l,A,"[Invalid Chunk]"),m=!1;break}else Y(this.i,this.l,mn,null),ai(this,mn);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||A.length!=0||this.h.h||(this.m=1,rn(16),m=!1),this.o=this.o&&m,!m)Y(this.i,this.l,A,"[Invalid Chunked Response]"),Cr(this),Un(this);else if(A.length>0&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.aa&&!De.P&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),cc(De),De.P=!0,rn(11))}}else Y(this.i,this.l,A,null),ai(this,A);dt==4&&Cr(this),this.o&&!this.K&&(dt==4?dc(this.j,this):(this.o=!1,vr(this)))}else So(this.g),S==400&&A.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Cr(this),Un(this)}}}catch{}finally{}};function en(m){if(!lt(m))return m.g.la();const S=bo(m.g);if(S==="")return"";let A="";const U=S.length,ne=ir(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Cr(m),Un(m),"";m.h.i=new u.TextDecoder}for(let le=0;le<U;le++)m.h.h=!0,A+=m.h.i.decode(S[le],{stream:!(ne&&le==U-1)});return S.length=0,m.h.g+=A,m.C=0,m.h.g}function lt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function kt(m,S){var A=m.C,U=S.indexOf(`
`,A);return U==-1?ct:(A=Number(S.substring(A,U)),isNaN(A)?He:(U+=1,U+A>S.length?ct:(S=S.slice(U,U+A),m.C=U+A,S)))}Ke.prototype.cancel=function(){this.K=!0,Cr(this)};function vr(m){m.T=Date.now()+m.H,rr(m,m.H)}function rr(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ur(h(m.aa,m),S)}function Nn(m){m.D&&(u.clearTimeout(m.D),m.D=null)}Ke.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ee(this.i,this.B),this.M!=2&&(Ui(),rn(17)),Cr(this),this.m=2,Un(this)):rr(this,this.T-m)};function Un(m){m.j.I==0||m.K||dc(m.j,m)}function Cr(m){Nn(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,je(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function ai(m,S){try{var A=m.j;if(A.I!=0&&(A.g==m||tn(A.h,m))){if(!m.L&&tn(A.h,m)&&A.I==3){try{var U=A.Ba.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ne=U;if(ne[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<m.F)vl(A),Fi(A);else break e;uc(A),rn(18)}}else A.xa=ne[1],0<A.xa-A.K&&ne[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ur(h(A.Va,A),6e3));ut(A.h)<=1&&A.ta&&(A.ta=void 0)}else ga(A,11)}else if((m.L||A.g==m)&&vl(A),!N(S))for(ne=A.Ba.g.parse(S),S=0;S<ne.length;S++){let Pt=ne[S];const mn=Pt[0];if(!(mn<=A.K))if(A.K=mn,Pt=Pt[1],A.I==2)if(Pt[0]=="c"){A.M=Pt[1],A.ba=Pt[2];const Hr=Pt[3];Hr!=null&&(A.ka=Hr,A.j.info("VER="+A.ka));const Bi=Pt[4];Bi!=null&&(A.za=Bi,A.j.info("SVER="+A.za));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(U=1.5*Ri,A.O=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const Ai=m.g;if(Ai){const Ci=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var le=U.h;le.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Br(le,le.h),le.h=null))}if(U.G){const hc=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(U.wa=hc,Ut(U.J,U.G,hc))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-m.F,A.j.info("Handshake RTT: "+A.T+"ms")),U=A;var De=m;if(U.na=Hf(U,U.L?U.ba:null,U.W),De.L){Qn(U.h,De);var dt=De,Xt=U.O;Xt&&(dt.H=Xt),dt.D&&(Nn(dt),vr(dt)),U.g=De}else Uf(U);A.i.length>0&&Co(A)}else Pt[0]!="stop"&&Pt[0]!="close"||ga(A,7);else A.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?ga(A,7):Ro(A):Pt[0]!="noop"&&A.l&&A.l.qa(Pt),A.A=0)}}Ui(4)}catch{}}var bi=class{constructor(m,S){this.g=m,this.map=S}};function si(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ut(m){return m.h?1:m.g?m.g.size:0}function tn(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Br(m,S){m.g?m.g.add(S):m.h=S}function Qn(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}si.prototype.cancel=function(){if(this.i=Kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Kt(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const A of m.g.values())S=S.concat(A.G);return S}return b(m.i)}var Si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hl(m,S){if(m){m=m.split("&");for(let A=0;A<m.length;A++){const U=m[A].indexOf("=");let ne,le=null;U>=0?(ne=m[A].substring(0,U),le=m[A].substring(U+1)):ne=m[A],S(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function zr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof zr?(this.l=m.l,Xa(this,m.j),this.o=m.o,this.g=m.g,go(this,m.u),this.h=m.h,Ja(this,Pf(m.i)),this.m=m.m):m&&(S=String(m).match(Si))?(this.l=!1,Xa(this,S[1]||"",!0),this.o=yo(S[2]||""),this.g=yo(S[3]||"",!0),go(this,S[4]),this.h=yo(S[5]||"",!0),Ja(this,S[6]||"",!0),this.m=yo(S[7]||"")):(this.l=!1,this.i=new li(null,this.l))}zr.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(Fn(S,nc,!0),":");var A=this.g;return(A||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Fn(S,nc,!0),"@"),m.push(Ve(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&m.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Fn(A,A.charAt(0)=="/"?Za:rc,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Fn(A,Mf)),m.join("")},zr.prototype.resolve=function(m){const S=an(this);let A=!!m.j;A?Xa(S,m.j):A=!!m.o,A?S.o=m.o:A=!!m.g,A?S.g=m.g:A=m.u!=null;var U=m.h;if(A)go(S,m.u);else if(A=!!m.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(U=S.h.slice(0,ne+1)+U)}if(ne=U,ne==".."||ne==".")U="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){U=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let De=0;De<ne.length;){const dt=ne[De++];dt=="."?U&&De==ne.length&&le.push(""):dt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),U&&De==ne.length&&le.push("")):(le.push(dt),U=!0)}U=le.join("/")}else U=ne}return A?S.h=U:A=m.i.toString()!=="",A?Ja(S,Pf(m.i)):A=!!m.m,A&&(S.m=m.m),S};function an(m){return new zr(m)}function Xa(m,S,A){m.j=A?yo(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function go(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function Ja(m,S,A){S instanceof li?(m.i=S,sc(m.i,m.l)):(A||(S=Fn(S,Of)),m.i=new li(S,m.l))}function Ut(m,S,A){m.i.set(S,A)}function ha(m){return Ut(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function yo(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Fn(m,S,A){return typeof m=="string"?(m=encodeURI(m).replace(S,tc),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function tc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var nc=/[#\/\?@]/g,rc=/[#\?:]/g,Za=/[#\?]/g,Of=/[#\?@]/g,Mf=/#/g;function li(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function ma(m){m.g||(m.g=new Map,m.h=0,m.i&&hl(m.i,function(S,A){m.add(decodeURIComponent(S.replace(/\+/g," ")),A)}))}t=li.prototype,t.add=function(m,S){ma(this),this.i=null,m=Ti(this,m);let A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(S),this.h+=1,this};function ic(m,S){ma(m),S=Ti(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function ac(m,S){return ma(m),S=Ti(m,S),m.g.has(S)}t.forEach=function(m,S){ma(this),this.g.forEach(function(A,U){A.forEach(function(ne){m.call(S,ne,U,this)},this)},this)};function ml(m,S){ma(m);let A=[];if(typeof S=="string")ac(m,S)&&(A=A.concat(m.g.get(Ti(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)A=A.concat(m[S]);return A}t.set=function(m,S){return ma(this),this.i=null,m=Ti(this,m),ac(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=ml(this,m),m.length>0?String(m[0]):S):S};function kf(m,S,A){ic(m,S),A.length>0&&(m.i=null,m.g.set(Ti(m,S),b(A)),m.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let U=0;U<S.length;U++){var A=S[U];const ne=Ve(A);A=ml(this,A);for(let le=0;le<A.length;le++){let De=ne;A[le]!==""&&(De+="="+Ve(A[le])),m.push(De)}}return this.i=m.join("&")};function Pf(m){const S=new li;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function Ti(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function sc(m,S){S&&!m.j&&(ma(m),m.i=null,m.g.forEach(function(A,U){const ne=U.toLowerCase();U!=ne&&(ic(this,U),kf(this,ne,A))},m)),m.j=S}function oc(m,S){const A=new Fr;if(u.Image){const U=new Image;U.onload=g(_r,A,"TestLoadImage: loaded",!0,S,U),U.onerror=g(_r,A,"TestLoadImage: error",!1,S,U),U.onabort=g(_r,A,"TestLoadImage: abort",!1,S,U),U.ontimeout=g(_r,A,"TestLoadImage: timeout",!1,S,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else S(!1)}function es(m,S){const A=new Fr,U=new AbortController,ne=setTimeout(()=>{U.abort(),_r(A,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:U.signal}).then(le=>{clearTimeout(ne),le.ok?_r(A,"TestPingServer: ok",!0,S):_r(A,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),_r(A,"TestPingServer: error",!1,S)})}function _r(m,S,A,U,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),U(A)}catch{}}function Lf(){this.g=new ji}function vo(m){this.i=m.Sb||null,this.h=m.ab||!1}_(vo,cn),vo.prototype.g=function(){return new _o(this.i,this.h)};function _o(m,S){ge.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(_o,ge),t=_o.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,pa(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ts(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ts(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Er(this):pa(this),this.readyState==3&&ts(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Er(this))},t.Na=function(m){this.g&&(this.response=m,Er(this))},t.ga=function(){this.g&&Er(this)};function Er(m){m.readyState=4,m.l=null,m.j=null,m.B=null,pa(m)}t.setRequestHeader=function(m,S){this.A.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var A=S.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=S.next();return m.join(`\r
`)};function pa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ns(m){let S="";return xe(m,function(A,U){S+=U,S+=":",S+=A,S+=`\r
`}),S}function ui(m,S,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=ns(A),typeof m=="string"?A!=null&&Ve(A):Ut(m,S,A))}function Yt(m){ge.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Yt,ge);var pl=/^https?$/i,Vf=["POST","PUT"];t=Yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,S,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ue.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(le){Eo(this,le);return}if(m=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ne in U)A.set(ne,U[ne]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const le of U.keys())A.set(le,U.get(le));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(le=>le.toLowerCase()=="content-type"),ne=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Vf,S,void 0)>=0)||U||ne||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,De]of A)this.g.setRequestHeader(le,De);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(le){Eo(this,le)}};function Eo(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,wo(m),On(m)}function wo(m){m.A||(m.A=!0,F(m,"complete"),F(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,F(this,"complete"),F(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),Yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lc(this):this.Xa())},t.Xa=function(){lc(this)};function lc(m){if(m.h&&typeof o<"u"){if(m.v&&ir(m)==4)setTimeout(m.Ca.bind(m),0);else if(F(m,"readystatechange"),ir(m)==4){m.h=!1;try{const le=m.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var A;if(!(A=S)){var U;if(U=le===0){let De=String(m.D).match(Si)[1]||null;!De&&u.self&&u.self.location&&(De=u.self.location.protocol.slice(0,-1)),U=!pl.test(De?De.toLowerCase():"")}A=U}if(A)F(m,"complete"),F(m,"success");else{m.o=6;try{var ne=ir(m)>2?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.ca()+"]",wo(m)}}finally{On(m)}}}}function On(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const A=m.g;m.g=null,S||F(m,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ir(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ir(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),xt(S)}};function bo(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function So(m){const S={};m=(m.g&&ir(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(N(m[U]))continue;var A=Qe(m[U]);const ne=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const le=S[ne]||[];S[ne]=le,le.push(A)}q(S,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(m,S,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||S}function gl(m){this.za=0,this.i=[],this.j=new Fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=To("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=To("baseRetryDelayMs",5e3,m),this.Za=To("retryDelaySeedMs",1e4,m),this.Ta=To("forwardChannelMaxRetries",2,m),this.va=To("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new si(m&&m.concurrentRequestLimit),this.Ba=new Lf,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gl.prototype,t.ka=8,t.I=1,t.connect=function(m,S,A,U){rn(0),this.W=m,this.H=S||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.J=Hf(this,null,this.W),Co(this)};function Ro(m){if(Ao(m),m.I==3){var S=m.V++,A=an(m.J);if(Ut(A,"SID",m.M),Ut(A,"RID",S),Ut(A,"TYPE","terminate"),xo(m,A),S=new Ke(m,m.j,S),S.M=2,S.A=ha(an(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!A&&u.Image&&(new Image().src=S.A,A=!0),A||(S.g=_l(S.j,null),S.g.ea(S.A)),S.F=Date.now(),vr(S)}zf(m)}function Fi(m){m.g&&(cc(m),m.g.cancel(),m.g=null)}function Ao(m){Fi(m),m.v&&(u.clearTimeout(m.v),m.v=null),vl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Co(m){if(!oi(m.h)&&!m.m){m.m=!0;var S=m.Ea;M||D(),V||(M(),V=!0),P.add(S,m),m.D=0}}function dg(m,S){return ut(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ur(h(m.Ea,m,S),Bf(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ne=new Ke(this,this.j,m);let le=this.o;if(this.U&&(le?(le=se(le),fe(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var S=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,S>4096){S=A;break e}if(S===4096||A===this.i.length-1){S=A+1;break e}}S=1e3}else S=1e3;S=yl(this,ne,S),A=an(this.J),Ut(A,"RID",m),Ut(A,"CVER",22),this.G&&Ut(A,"X-HTTP-Session-Id",this.G),xo(this,A),le&&(this.R?S="headers="+Ve(ns(le))+"&"+S:this.u&&ui(A,this.u,le)),Br(this.h,ne),this.Ra&&Ut(A,"TYPE","init"),this.S?(Ut(A,"$req",S),Ut(A,"SID","null"),ne.U=!0,St(ne,A,null)):St(ne,A,S),this.I=2}}else this.I==3&&(m?jf(this,m):this.i.length==0||oi(this.h)||jf(this))};function jf(m,S){var A;S?A=S.l:A=m.V++;const U=an(m.J);Ut(U,"SID",m.M),Ut(U,"RID",A),Ut(U,"AID",m.K),xo(m,U),m.u&&m.o&&ui(U,m.u,m.o),A=new Ke(m,m.j,A,m.D+1),m.u===null&&(A.J=m.o),S&&(m.i=S.G.concat(m.i)),S=yl(m,A,1e3),A.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Br(m.h,A),St(A,U,S)}function xo(m,S){m.H&&xe(m.H,function(A,U){Ut(S,U,A)}),m.l&&xe({},function(A,U){Ut(S,U,A)})}function yl(m,S,A){A=Math.min(m.i.length,A);const U=m.l?h(m.l.Ka,m.l,m):null;e:{var ne=m.i;let dt=-1;for(;;){const Xt=["count="+A];dt==-1?A>0?(dt=ne[0].g,Xt.push("ofs="+dt)):dt=0:Xt.push("ofs="+dt);let Pt=!0;for(let mn=0;mn<A;mn++){var le=ne[mn].g;const Hr=ne[mn].map;if(le-=dt,le<0)dt=Math.max(0,ne[mn].g-100),Pt=!1;else try{le="req"+le+"_"||"";try{var De=Hr instanceof Map?Hr:Object.entries(Hr);for(const[Bi,Ri]of De){let Ai=Ri;d(Ri)&&(Ai=it(Ri)),Xt.push(le+Bi+"="+encodeURIComponent(Ai))}}catch(Bi){throw Xt.push(le+"type="+encodeURIComponent("_badmap")),Bi}}catch{U&&U(Hr)}}if(Pt){De=Xt.join("&");break e}}De=void 0}return m=m.i.splice(0,A),S.G=m,De}function Uf(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;M||D(),V||(M(),V=!0),P.add(S,m),m.A=0}}function uc(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ur(h(m.Da,m),Bf(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Ff(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ur(h(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Fi(this),Ff(this))};function cc(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Ff(m){m.g=new Ke(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=an(m.na);Ut(S,"RID","rpc"),Ut(S,"SID",m.M),Ut(S,"AID",m.K),Ut(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ut(S,"TO",m.ia),Ut(S,"TYPE","xmlhttp"),xo(m,S),m.u&&m.o&&ui(S,m.u,m.o),m.O&&(m.g.H=m.O);var A=m.g;m=m.ba,A.M=1,A.A=ha(an(S)),A.u=null,A.R=!0,Ht(A,m)}t.Va=function(){this.C!=null&&(this.C=null,Fi(this),uc(this),rn(19))};function vl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function dc(m,S){var A=null;if(m.g==S){vl(m),cc(m),m.g=null;var U=2}else if(tn(m.h,S))A=S.G,Qn(m.h,S),U=1;else return;if(m.I!=0){if(S.o)if(U==1){A=S.u?S.u.length:0,S=Date.now()-S.F;var ne=m.D;U=ii(),F(U,new ho(U,A)),Co(m)}else Uf(m);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(U==1&&dg(m,S)||U==2&&uc(m)))switch(A&&A.length>0&&(S=m.h,S.i=S.i.concat(A)),ne){case 1:ga(m,5);break;case 4:ga(m,10);break;case 3:ga(m,6);break;default:ga(m,2)}}}function Bf(m,S){let A=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(A*=2),A*S}function ga(m,S){if(m.j.info("Error code "+S),S==2){var A=h(m.bb,m),U=m.Ua;const ne=!U;U=new zr(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xa(U,"https"),ha(U),ne?oc(U.toString(),A):es(U.toString(),A)}else rn(2);m.I=0,m.l&&m.l.pa(S),zf(m),Ao(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function zf(m){if(m.I=0,m.ja=[],m.l){const S=Kt(m.h);(S.length!=0||m.i.length!=0)&&(T(m.ja,S),T(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function Hf(m,S,A){var U=A instanceof zr?an(A):new zr(A);if(U.g!="")S&&(U.g=S+"."+U.g),go(U,U.u);else{var ne=u.location;U=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new zr(null);U&&Xa(le,U),S&&(le.g=S),ne&&go(le,ne),A&&(le.h=A),U=le}return A=m.G,S=m.wa,A&&S&&Ut(U,A,S),Ut(U,"VER",m.ka),xo(m,U),U}function _l(m,S,A){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new Yt(new vo({ab:A})):new Yt(m.ma),S.Fa(m.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $f(){}t=$f.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function El(){}El.prototype.g=function(m,S){return new wr(m,S)};function wr(m,S){ge.call(this),this.g=new gl(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!N(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!N(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new rs(this)}_(wr,ge),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){Ro(this.g)},wr.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.v&&(A={},A.__data__=it(m),m=A);S.i.push(new bi(S.Ya++,m)),S.I==3&&Co(S)},wr.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,wr.Z.N.call(this)};function fc(m){pr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const A in S){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}_(fc,pr);function qf(){gr.call(this),this.status=1}_(qf,gr);function rs(m){this.g=m}_(rs,$f),rs.prototype.ra=function(){F(this.g,"a")},rs.prototype.qa=function(m){F(this.g,new fc(m))},rs.prototype.pa=function(m){F(this.g,new qf)},rs.prototype.oa=function(){F(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,FN=function(){return new El},UN=function(){return ii()},jN=jn,C_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Sm=ve,Ce.COMPLETE="complete",VN=Ce,ca.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,pd=ca,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,LN=Yt}).apply(typeof im<"u"?im:typeof self<"u"?self:typeof window<"u"?window:{});const bA="@firebase/firestore",SA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new QE("@firebase/firestore");function tu(){return rl.logLevel}function Le(t,...e){if(rl.logLevel<=Et.DEBUG){const n=e.map(sw);rl.debug(`Firestore (${Qu}): ${t}`,...n)}}function Ga(t,...e){if(rl.logLevel<=Et.ERROR){const n=e.map(sw);rl.error(`Firestore (${Qu}): ${t}`,...n)}}function Du(t,...e){if(rl.logLevel<=Et.WARN){const n=e.map(sw);rl.warn(`Firestore (${Qu}): ${t}`,...n)}}function sw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BN(t,r,n)}function BN(t,e,n){let r=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ga(r),new Error(r)}function At(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||BN(e,a,r)}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Qa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(lr.UNAUTHENTICATED)))}shutdown(){}}class jB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UB{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ta,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ta)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new zN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new lr(e)}}class FB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HB(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function wt(t,e){return t<e?-1:t>e?1:0}function x_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return Uv(a)===Uv(o)?wt(a,o):Uv(a)?1:-1}return wt(t.length,e.length)}const $B=55296,qB=57343;function Uv(t){const e=t.charCodeAt(0);return e>=$B&&e<=qB}function Nu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Yi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return wt(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),a=Yi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):x_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class jt extends Yi{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const GB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Yi{construct(e,n,r){return new er(e,n,r)}static isValidIdentifier(e){return GB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new er([RA])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ie(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(o(),a++)}if(o(),u)throw new Ie(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(jt.fromString(e))}static fromName(e){return new We(jt.fromString(e).popFirst(5))}static empty(){return new We(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e,n){if(!n)throw new Ie(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KB(t,e,n,r){if(e===!0&&r===!0)throw new Ie(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AA(t){if(!We.isDocumentKey(t))throw new Ie(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CA(t){if(We.isDocumentKey(t))throw new Ie(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $N(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new Ie(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YB(t,e){if(e<=0)throw new Ie(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wf(t,e){if(!$N(t))throw new Ie(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ie(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=-62135596800,IA=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IA);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xA)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IA}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wf(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Cn("string",Jt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Jt(0,0))}static max(){return new nt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-1;function QB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=nt.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Xs(a,We.empty(),e)}function WB(t){return new Xs(t.readTime,t.key,zd)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(nt.min(),We.empty(),zd)}static max(){return new Xs(nt.max(),We.empty(),zd)}}function XB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==JB)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.reject(n)}static resolve(e){return new Ee(((n,r)=>{n(e)}))}static reject(e){return new Ee(((n,r)=>{r(e)}))}static waitFor(e){return new Ee(((n,r)=>{let a=0,o=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++o,u&&o===a&&n()}),(f=>r(f)))})),u=!0,o===a&&n()}))}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next((a=>a?Ee.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new Ee(((r,a)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next((g=>{u[h]=g,++d,d===o&&r(u)}),(g=>a(g)))}}))}static doWhile(e,n){return new Ee(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function ez(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=-1;function bf(t){return t==null}function Wm(t){return t===0&&1/t==-1/0}function tz(t){return typeof t=="number"&&Number.isInteger(t)&&!Wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="";function nz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DA(e)),e=rz(t.get(n),e);return DA(e)}function rz(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case qN:n+="";break;default:n+=o}}return n}function DA(t){return t+qN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new am(this.root,e,this.comparator,!1)}getReverseIterator(){return new am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new am(this.root,e,this.comparator,!0)}}class am{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=a??Zn.EMPTY,this.right=o??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Zn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OA(this.data.getIterator())}getIteratorFrom(e){return new OA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class OA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Vn(er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KN("Invalid base64 string: "+o):o}})(e);return new nr(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const iz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=iz.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="server_timestamp",QN="__type__",WN="__previous_value__",XN="__local_write_time__";function Gp(t){return(t?.mapValue?.fields||{})[QN]?.stringValue===YN}function Kp(t){const e=t.mapValue.fields[WN];return Gp(e)?Kp(e):e}function Hd(t){const e=Js(t.mapValue.fields[XN].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,a,o,u,d,f,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=g}}const Xm="(default)";class $d{constructor(e,n){this.projectId=e,this.database=n||Xm}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database===Xm}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__type__",sz="__max__",sm={mapValue:{}},ZN="__vector__",Jm="value";function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gp(t)?4:lz(t)?9007199254740991:oz(t)?10:11:Ze(28295,{value:t})}function sa(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hd(t).isEqual(Hd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Js(a.timestampValue),d=Js(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Zs(a.bytesValue).isEqual(Zs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return yn(a.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return yn(a.integerValue)===yn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=yn(a.doubleValue),d=yn(o.doubleValue);return u===d?Wm(u)===Wm(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Nu(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(NA(u)!==NA(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!sa(u[f],d[f])))return!1;return!0})(t,e);default:return Ze(52216,{left:t})}}function qd(t,e){return(t.values||[]).find((n=>sa(n,e)))!==void 0}function Ou(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=yn(o.integerValue||o.doubleValue),f=yn(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return MA(t.timestampValue,e.timestampValue);case 4:return MA(Hd(t),Hd(e));case 5:return x_(t.stringValue,e.stringValue);case 6:return(function(o,u){const d=Zs(o),f=Zs(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const g=wt(d[h],f[h]);if(g!==0)return g}return wt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=wt(yn(o.latitude),yn(u.latitude));return d!==0?d:wt(yn(o.longitude),yn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kA(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const d=o.fields||{},f=u.fields||{},h=d[Jm]?.arrayValue,g=f[Jm]?.arrayValue,_=wt(h?.values?.length||0,g?.values?.length||0);return _!==0?_:kA(h,g)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===sm.mapValue&&u===sm.mapValue)return 0;if(o===sm.mapValue)return 1;if(u===sm.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=x_(f[_],g[_]);if(v!==0)return v;const b=Ou(d[f[_]],h[g[_]]);if(b!==0)return b}return wt(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function MA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const n=Js(t),r=Js(e),a=wt(n.seconds,r.seconds);return a!==0?a:wt(n.nanos,r.nanos)}function kA(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ou(n[a],r[a]);if(o)return o}return wt(n.length,r.length)}function Mu(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return We.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=I_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${I_(n.fields[u])}`;return a+"}"})(t.mapValue):Ze(61005,{value:t})}function Tm(t){switch(eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kp(t);return e?16+Tm(e):16;case 5:return 2*t.stringValue.length;case 6:return Zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Tm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return uo(r.fields,((o,u)=>{a+=o.length+Tm(u)})),a})(t.mapValue);default:throw Ze(13486,{value:t})}}function Zm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D_(t){return!!t&&"integerValue"in t}function uw(t){return!!t&&"arrayValue"in t}function PA(t){return!!t&&"nullValue"in t}function LA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rm(t){return!!t&&"mapValue"in t}function oz(t){return(t?.mapValue?.fields||{})[JN]?.stringValue===ZN}function Rd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rd(t.arrayValue.values[n]);return e}return{...t}}function lz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rd(n)}setAll(e){let n=er.emptyPath(),r={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}u?r[d.lastSegment()]=Rd(u):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Rm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){uo(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Rr(Rd(this.value))}}function eO(t){const e=[];return uo(t.fields,((n,r)=>{const a=new er([n]);if(Rm(r)){const o=eO(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,a,o,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,nt.min(),nt.min(),nt.min(),Rr.empty(),0)}static newFoundDocument(e,n,r,a){return new Gn(e,1,n,nt.min(),r,a,0)}static newNoDocument(e,n){return new Gn(e,2,n,nt.min(),nt.min(),Rr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,nt.min(),nt.min(),Rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.position=e,this.inclusive=n}}function VA(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=We.comparator(We.fromName(u.referenceValue),n.key):r=Ou(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function uz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{}class An extends tO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dz(e,n,r):n==="array-contains"?new mz(e,r):n==="in"?new pz(e,r):n==="not-in"?new gz(e,r):n==="array-contains-any"?new yz(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fz(e,r):new hz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ou(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends tO{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vi(e,n)}matches(e){return nO(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nO(t){return t.op==="and"}function rO(t){return cz(t)&&nO(t)}function cz(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function N_(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Mu(t.value);if(rO(t))return t.filters.map((e=>N_(e))).join(",");{const e=t.filters.map((n=>N_(n))).join(",");return`${t.op}(${e})`}}function iO(t,e){return t instanceof An?(function(r,a){return a instanceof An&&r.op===a.op&&r.field.isEqual(a.field)&&sa(r.value,a.value)})(t,e):t instanceof Vi?(function(r,a){return a instanceof Vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,d)=>o&&iO(u,a.filters[d])),!0):!1})(t,e):void Ze(19439)}function aO(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mu(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(aO).join(" ,")+"}"})(t):"Filter"}class dz extends An{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class fz extends An{constructor(e,n){super(e,"in",n),this.keys=sO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hz extends An{constructor(e,n){super(e,"not-in",n),this.keys=sO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sO(t,e){return(e.arrayValue?.values||[]).map((n=>We.fromName(n.referenceValue)))}class mz extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uw(n)&&qd(n.arrayValue,this.value)}}class pz extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qd(this.value.arrayValue,n)}}class gz extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qd(this.value.arrayValue,n)}}class yz extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n=null,r=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Te=null}}function UA(t,e=null,n=[],r=[],a=null,o=null,u=null){return new vz(t,e,n,r,a,o,u)}function cw(t){const e=ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>N_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Mu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Mu(r))).join(",")),e.Te=n}return e.Te}function dw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jA(t.startAt,e.startAt)&&jA(t.endAt,e.endAt)}function O_(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],a=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _z(t,e,n,r,a,o,u,d){return new cl(t,e,n,r,a,o,u,d)}function fw(t){return new cl(t)}function FA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hw(t){return t.collectionGroup!==null}function yu(t){const e=ot(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Vn(er.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Gd(o,r))})),n.has(er.keyField().canonicalString())||e.Ie.push(new Gd(er.keyField(),r))}return e.Ie}function na(t){const e=ot(t);return e.Ee||(e.Ee=Ez(e,yu(t))),e.Ee}function Ez(t,e){if(t.limitType==="F")return UA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Gd(a.field,o)}));const n=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;return UA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M_(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ep(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return dw(na(t),na(e))&&t.limitType===e.limitType}function oO(t){return`${cw(na(t))}|lt:${t.limitType}`}function nu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>aO(a))).join(", ")}]`),bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Mu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Mu(a))).join(",")),`Target(${r})`})(na(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):We.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of yu(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,d,f){const h=VA(u,d,f);return u.inclusive?h<=0:h<0})(r.startAt,yu(r),a)||r.endAt&&!(function(u,d,f){const h=VA(u,d,f);return u.inclusive?h>=0:h>0})(r.endAt,yu(r),a))})(t,e)}function wz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lO(t){return(e,n)=>{let r=!1;for(const a of yu(t)){const o=bz(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function bz(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):(function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?Ou(f,h):Ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return GN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new ln(We.comparator);function Ka(){return Sz}const uO=new ln(We.comparator);function gd(...t){let e=uO;for(const n of t)e=e.insert(n.key,n);return e}function cO(t){let e=uO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yo(){return Ad()}function dO(){return Ad()}function Ad(){return new dl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Tz=new ln(We.comparator),Rz=new Vn(We.comparator);function bt(...t){let e=Rz;for(const n of t)e=e.add(n);return e}const Az=new Vn(wt);function Cz(){return Az}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function fO(t){return{integerValue:""+t}}function xz(t,e){return tz(e)?fO(e):mw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function Iz(t,e,n){return t instanceof tp?(function(a,o){const u={fields:{[QN]:{stringValue:YN},[XN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Gp(o)&&(o=Kp(o)),o&&(u.fields[WN]=o),{mapValue:u}})(n,e):t instanceof Kd?mO(t,e):t instanceof Yd?pO(t,e):(function(a,o){const u=hO(a,o),d=BA(u)+BA(a.Ae);return D_(u)&&D_(a.Ae)?fO(d):mw(a.serializer,d)})(t,e)}function Dz(t,e,n){return t instanceof Kd?mO(t,e):t instanceof Yd?pO(t,e):n}function hO(t,e){return t instanceof np?(function(r){return D_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class tp extends Wp{}class Kd extends Wp{constructor(e){super(),this.elements=e}}function mO(t,e){const n=gO(e);for(const r of t.elements)n.some((a=>sa(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Yd extends Wp{constructor(e){super(),this.elements=e}}function pO(t,e){let n=gO(e);for(const r of t.elements)n=n.filter((a=>!sa(a,r)));return{arrayValue:{values:n}}}class np extends Wp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BA(t){return yn(t.integerValue||t.doubleValue)}function gO(t){return uw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nz(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Kd&&a instanceof Kd||r instanceof Yd&&a instanceof Yd?Nu(r.elements,a.elements,sa):r instanceof np&&a instanceof np?sa(r.Ae,a.Ae):r instanceof tp&&a instanceof tp})(t.transform,e.transform)}class Oz{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Am(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function yO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jp(t.key,tr.none()):new Sf(t.key,t.data,tr.none());{const n=t.data,r=Rr.empty();let a=new Vn(er.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new co(t.key,r,new ei(a.toArray()),tr.none())}}function Mz(t,e,n){t instanceof Sf?(function(a,o,u){const d=a.value.clone(),f=HA(a.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(a,o,u){if(!Am(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=HA(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(vO(a)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Cd(t,e,n,r){return t instanceof Sf?(function(o,u,d,f){if(!Am(o.precondition,u))return d;const h=o.value.clone(),g=$A(o.fieldTransforms,f,u);return h.setAll(g),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof co?(function(o,u,d,f){if(!Am(o.precondition,u))return d;const h=$A(o.fieldTransforms,f,u),g=u.data;return g.setAll(vO(o)),g.setAll(h),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,u,d){return Am(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function kz(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=hO(r.transform,a||null);o!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,o))}return n||null}function zA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Nu(r,a,((o,u)=>Nz(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sf extends Xp{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends Xp{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function HA(t,e,n){const r=new Map;At(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,d=e.data.field(o.field);r.set(o.field,Dz(u,d,n[a]))}return r}function $A(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,Iz(o,u,e))}return r}class Jp extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _O extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&Mz(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dO();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=n.has(a.key)?null:d;const f=yO(u,d);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(nt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),bt())}isEqual(e){return this.batchId===e.batchId&&Nu(this.mutations,e.mutations,((n,r)=>zA(n,r)))&&Nu(this.baseMutations,e.baseMutations,((n,r)=>zA(n,r)))}}class pw{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Tz})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new pw(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Rt;function EO(t){switch(t){case ce.OK:return Ze(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function wO(t){if(t===void 0)return Ga("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Tn.OK:return ce.OK;case Tn.CANCELLED:return ce.CANCELLED;case Tn.UNKNOWN:return ce.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ce.INTERNAL;case Tn.UNAVAILABLE:return ce.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ce.NOT_FOUND;case Tn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Tn.ABORTED:return ce.ABORTED;case Tn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Tn.DATA_LOSS:return ce.DATA_LOSS;default:return Ze(39323,{code:t})}}(Rt=Tn||(Tn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=new qs([4294967295,4294967295],0);function qA(t){const e=jz().encode(t),n=new PN;return n.update(e),new Uint8Array(n.digest())}function GA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qs([n,r],0),new qs([a,o],0)]}class gw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yd(`Invalid padding: ${n}`);if(r<0)throw new yd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(qs.fromNumber(r)));return a.compare(Uz)===1&&(a=new qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qA(e),[r,a]=GA(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new gw(o,a,n);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=qA(e),[r,a]=GA(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zp(nt.min(),a,new ln(wt),Ka(),bt())}}class Tf{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tf(r,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class bO{constructor(e,n){this.targetId=e,this.Ce=n}}class SO{constructor(e,n,r=nr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class KA{constructor(){this.ve=0,this.Fe=YA(),this.Me=nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),n=bt(),r=bt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ze(38017,{changeType:o})}})),new Tf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ka(),this.Je=om(),this.He=om(),this.Ye=new ln(wt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(O_(o))if(r===0){const u=new We(o.path);this.et(n,u,Gn.newNoDocument(u,nt.min()))}else At(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,d;try{u=Zs(r).toUint8Array()}catch(f){if(f instanceof KN)return Du("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new gw(u,a,o)}catch(f){return Du(f instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const d=this.ot(u);if(d){if(o.current&&O_(d.target)){const f=new We(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gn.newNoDocument(f,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=bt();this.He.forEach(((o,u)=>{let d=!0;u.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Zp(e,n,this.Ye,this.je,r);return this.je=Ka(),this.Je=om(),this.He=om(),this.Ye=new ln(wt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vn(wt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vn(wt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function om(){return new ln(We.comparator)}function YA(){return new ln(We.comparator)}const Bz={asc:"ASCENDING",desc:"DESCENDING"},zz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hz={and:"AND",or:"OR"};class $z{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||bf(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qz(t,e){return rp(t,e.toTimestamp())}function ti(t){return At(!!t,49232),nt.fromTimestamp((function(n){const r=Js(n);return new Jt(r.seconds,r.nanos)})(t))}function yw(t,e){return P_(t,e).canonicalString()}function P_(t,e){const n=(function(a){return new jt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function RO(t){const e=jt.fromString(t);return At(NO(e),10190,{key:e.toString()}),e}function ip(t,e){return yw(t.databaseId,e.path)}function xd(t,e){const n=RO(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(CO(n))}function AO(t,e){return yw(t.databaseId,e)}function Gz(t){const e=RO(t);return e.length===4?jt.emptyPath():CO(e)}function L_(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CO(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QA(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function Kz(t,e){return"found"in e?(function(r,a){At(!!a.found,43571),a.found.name,a.found.updateTime;const o=xd(r,a.found.name),u=ti(a.found.updateTime),d=a.found.createTime?ti(a.found.createTime):nt.min(),f=new Rr({mapValue:{fields:a.found.fields}});return Gn.newFoundDocument(o,u,d,f)})(t,e):"missing"in e?(function(r,a){At(!!a.missing,3894),At(!!a.readTime,22933);const o=xd(r,a.missing),u=ti(a.readTime);return Gn.newNoDocument(o,u)})(t,e):Ze(7234,{result:e})}function Yz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ze(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(h,g){return h.useProto3Json?(At(g===void 0||typeof g=="string",58123),nr.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),nr.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(h){const g=h.code===void 0?ce.UNKNOWN:wO(h.code);return new Ie(g,h.message||"")})(u);n=new SO(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=xd(t,r.document.name),o=ti(r.document.updateTime),u=r.document.createTime?ti(r.document.createTime):nt.min(),d=new Rr({mapValue:{fields:r.document.fields}}),f=Gn.newFoundDocument(a,o,u,d),h=r.targetIds||[],g=r.removedTargetIds||[];n=new Cm(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=xd(t,r.document),o=r.readTime?ti(r.readTime):nt.min(),u=Gn.newNoDocument(a,o),d=r.removedTargetIds||[];n=new Cm([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=xd(t,r.document),o=r.removedTargetIds||[];n=new Cm([],o,a,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new Vz(a,o),d=r.targetId;n=new bO(d,u)}}return n}function xO(t,e){let n;if(e instanceof Sf)n={update:QA(t,e.key,e.value)};else if(e instanceof Jp)n={delete:ip(t,e.key)};else if(e instanceof co)n={update:QA(t,e.key,e.data),updateMask:r5(e.fieldMask)};else{if(!(e instanceof _O))return Ze(16599,{Vt:e.type});n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const d=u.transform;if(d instanceof tp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof np)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ze(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:qz(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)})(t,e.precondition)),n}function Qz(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?ti(a.updateTime):ti(o);return u.isEqual(nt.min())&&(u=ti(o)),new Oz(u,a.transformResults||[])})(n,e)))):[]}function Wz(t,e){return{documents:[AO(t,e.path)]}}function Xz(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AO(t,a);const o=(function(h){if(h.length!==0)return DO(Vi.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(h){if(h.length!==0)return h.map((g=>(function(v){return{field:ru(v.field),direction:e5(v.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=k_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Jz(t){let e=Gz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){At(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(_){const v=IO(_);return v instanceof Vi&&rO(v)?v.getFilters():[v]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((v=>(function(T){return new Gd(iu(T.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let v;return v=typeof _=="object"?_.value:_,bf(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(_){const v=!!_.before,b=_.values||[];return new ku(b,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(_){const v=!_.before,b=_.values||[];return new ku(b,v)})(n.endAt)),_z(e,a,u,o,d,"F",f,h)}function Zz(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=iu(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=iu(n.unaryFilter.field);return An.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=iu(n.unaryFilter.field);return An.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=iu(n.unaryFilter.field);return An.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(iu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((r=>IO(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(t):Ze(30097,{filter:t})}function e5(t){return Bz[t]}function t5(t){return zz[t]}function n5(t){return Hz[t]}function ru(t){return{fieldPath:t.canonicalString()}}function iu(t){return er.fromServerFormat(t.fieldPath)}function DO(t){return t instanceof An?(function(n){if(n.op==="=="){if(LA(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NAN"}};if(PA(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LA(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NOT_NAN"}};if(PA(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(n.field),op:t5(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const r=n.getFilters().map((a=>DO(a)));return r.length===1?r[0]:{compositeFilter:{op:n5(n.op),filters:r}}})(t):Ze(54877,{filter:t})}function r5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,a,o=nt.min(),u=nt.min(),d=nr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.yt=e}}function a5(t){const e=Jz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Cn=new o5}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Xs.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class o5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Vn(jt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Vn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OO=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(OO,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pu(0)}static cr(){return new Pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="LruGarbageCollector",l5=1048576;function JA([t,e],[n,r]){const a=wt(t,n);return a===0?wt(e,r):a}class u5{constructor(e){this.Ir=e,this.buffer=new Vn(JA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();JA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(XA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xu(n)?Le(XA,"Ignoring IndexedDB error during garbage collection: ",n):await Wu(n)}await this.Vr(3e5)}))}}class d5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(qp.ce);const r=new u5(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(WA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,d,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(h=Date.now(),tu()<=Et.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function f5(t,e){return new d5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.changes=new dl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Cd(r.mutation,a,ei.empty(),Jt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=bt()){const a=Yo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=gd();return o.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,bt())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,r,a){let o=Ka();const u=Ad(),d=(function(){return Ad()})();return n.forEach(((f,h)=>{const g=r.get(h.key);a.has(h.key)&&(g===void 0||g.mutation instanceof co)?o=o.insert(h.key,h):g!==void 0?(u.set(h.key,g.mutation.getFieldMask()),Cd(g.mutation,h,g.mutation.getFieldMask(),Jt.now())):u.set(h.key,ei.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,g)=>u.set(h,g))),n.forEach(((h,g)=>d.set(h,new m5(g,u.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Ad();let a=new ln(((u,d)=>u-d)),o=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let g=r.get(f)||ei.empty();g=d.applyToLocalView(h,g),r.set(f,g);const _=(a.get(d.batchId)||bt()).add(f);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,g=f.value,_=dO();g.forEach((v=>{if(!o.has(v)){const b=yO(n.get(v),r.get(v));b!==null&&_.set(v,b),o=o.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,_))}return Ee.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return We.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):Ee.resolve(Yo());let d=zd,f=o;return u.next((h=>Ee.forEach(h,((g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(g)?Ee.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{f=f.insert(g,v)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,bt()))).next((g=>({batchId:d,changes:cO(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((r=>{let a=gd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=gd();return this.indexManager.getCollectionParents(e,o).next((d=>Ee.forEach(d,(f=>{const h=(function(_,v){return new cl(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((g=>{g.forEach(((_,v)=>{u=u.insert(_,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((f,h)=>{const g=h.getKey();u.get(g)===null&&(u=u.insert(g,Gn.newInvalidDocument(g)))}));let d=gd();return u.forEach(((f,h)=>{const g=o.get(f);g!==void 0&&Cd(g.mutation,h,ei.empty(),Jt.now()),Qp(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ti(a.createTime)}})(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:a5(a.bundledQuery),readTime:ti(a.readTime)}})(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.overlays=new ln(We.comparator),this.qr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return Ee.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const a=Yo(),o=n.length+1,u=new We(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Ee.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new ln(((h,g)=>h-g));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Yo(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const d=Yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,g)=>d.set(h,g))),!(d.size()>=a)););return Ee.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Lz(n,r));let o=this.qr.get(n);o===void 0&&(o=bt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.Qr=new Vn($n.$r),this.Ur=new Vn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new $n(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new We(new jt([])),r=new $n(n,e),a=new $n(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new jt([])),r=new $n(n,e),a=new $n(n,e+1);let o=bt();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new $n(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||wt(e.Yr,n.Yr)}static Kr(e,n){return wt(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vn($n.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Pz(o,n,r,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new $n(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ee.resolve(u)}lookupMutationBatch(e,n){return Ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?lw:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),a=new $n(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const d=this.Xr(u.Yr);o.push(d)})),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(wt);return n.forEach((a=>{const o=new $n(a,0),u=new $n(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(d=>{r=r.add(d.Yr)}))})),Ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;We.isDocumentKey(o)||(o=o.child(""));const u=new $n(new We(o),0);let d=new Vn(wt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),u),Ee.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){At(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ee.forEach(n.mutations,(a=>{const o=new $n(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new $n(n,0),a=this.Zr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.ri=e,this.docs=(function(){return new ln(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Ka();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Gn.newInvalidDocument(a))})),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ka();const u=n.path,d=new We(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||XB(WB(g),r)<=0||(a.has(g.key)||Qp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ze(9500)}ii(e,n){return Ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new w5(this)}getSize(e){return Ee.resolve(this.size)}}class w5 extends h5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.persistence=e,this.si=new dl((n=>cw(n)),dw),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new vw,this.targetCount=0,this.ai=Pu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Pr(n),Ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),Ee.waitFor(o).next((()=>a))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.ui={},this.overlays={},this.ci=new qp(0),this.li=!1,this.li=!0,this.hi=new v5,this.referenceDelegate=e(this),this.Pi=new b5(this),this.indexManager=new s5,this.remoteDocumentCache=(function(a){return new E5(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i5(n),this.Ii=new g5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const a=new S5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class S5 extends ZB{constructor(e){super(),this.currentSequenceNumber=e}}class _w{constructor(e){this.persistence=e,this.Ri=new vw,this.Vi=null}static mi(e){return new _w(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,(r=>{const a=We.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ap{constructor(e,n){this.persistence=e,this.pi=new dl((r=>nz(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=f5(this,n)}static mi(e,n){return new ap(e,n)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ee.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?Ee.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(r++,o.removeEntry(u,nt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tm(e.data.value)),n}br(e,n,r){return Ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Ee.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=bt(),a=bt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Ew(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r6()?8:ez(fr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new T5;return this.Ss(e,n,u).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(tu()<=Et.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(tu()<=Et.DEBUG&&Le("QueryEngine","Query:",nu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tu()<=Et.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(n))):Ee.resolve())}ys(e,n){if(FA(n))return Ee.resolve(null);let r=na(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ep(n,null,"F"),r=na(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=bt(...o);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,u,f.readTime)?this.ys(e,ep(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return FA(n)||a.isEqual(nt.min())?Ee.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?Ee.resolve(null):(tu()<=Et.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nu(n)),this.vs(e,u,n,QB(a,zd)).next((d=>d)))}))}Ds(e,n){let r=new Vn(lO(e));return n.forEach(((a,o)=>{Qp(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return tu()<=Et.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",nu(n)),this.ps.getDocumentsMatchingQuery(e,n,Xs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="LocalStore",A5=3e8;class C5{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new ln(wt),this.xs=new dl((o=>cw(o)),dw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function x5(t,e,n,r){return new C5(t,e,n,r)}async function kO(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],d=[];let f=bt();for(const h of a){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){d.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:u,addedBatchIds:d})))}))}))}function I5(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,g){const _=h.batch,v=_.keys();let b=Ee.resolve();return v.forEach((T=>{b=b.next((()=>g.getEntry(f,T))).next((x=>{const R=h.docVersions.get(T);At(R!==null,48541),x.version.compareTo(R)<0&&(_.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),g.addEntry(x)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=bt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function PO(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D5(t,e){const n=ot(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((g,_)=>{const v=a.get(_);if(!v)return;d.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,_))));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(nr.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),a=a.insert(_,b),(function(x,R,I){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=A5?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,b,g)&&d.push(n.Pi.updateTargetData(o,b))}));let f=Ka(),h=bt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(N5(o,u,e.documentUpdates).next((g=>{f=g.ks,h=g.qs}))),!r.isEqual(nt.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(g)}return Ee.waitFor(d).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(n.Ms=a,o)))}function N5(t,e,n){let r=bt(),a=bt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Ka();return n.forEach(((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(nt.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Le(ww,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function O5(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function M5(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,Ee.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Ls(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function V_(t,e,n){const r=ot(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Xu(u))throw u;Le(ww,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function ZA(t,e,n){const r=ot(t);let a=nt.min(),o=bt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,h,g){const _=ot(f),v=_.xs.get(g);return v!==void 0?Ee.resolve(_.Ms.get(v)):_.Pi.getTargetData(h,g)})(r,u,na(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:nt.min(),n?o:bt()))).next((d=>(k5(r,wz(e),d),{documents:d,Qs:o})))))}function k5(t,e,n){let r=t.Os.get(e)||nt.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class eC{constructor(){this.activeTargetIds=Cz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P5{constructor(){this.Mo=new eC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="ConnectivityMonitor";class nC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(tC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(tC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function j_(){return lm===null?lm=(function(){return 268435456+Math.round(2147483648*Math.random())})():lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="RestConnection",V5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Xm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=j_(),d=this.zo(e,n.toUriEncodedString());Le(Fv,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:h}=new URL(d),g=qu(h);return this.Jo(e,d,f,r,g).then((_=>(Le(Fv,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Du(Fv,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=V5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class F5 extends j5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=j_();return new Promise(((d,f)=>{const h=new LN;h.setWithCredentials(!0),h.listenOnce(VN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sm.NO_ERROR:const _=h.getResponseJson();Le(or,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Sm.TIMEOUT:Le(or,`RPC '${e}' ${u} timed out`),f(new Ie(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const v=h.getStatus();if(Le(or,`RPC '${e}' ${u} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b?.error;if(T&&T.status&&T.message){const x=(function(I){const O=I.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN})(T.status);f(new Ie(x,T.message))}else f(new Ie(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ie(ce.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Le(or,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);Le(or,`RPC '${e}' ${u} sending request:`,a),h.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=j_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=FN(),d=UN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=o.join("");Le(or,`Creating RPC '${e}' stream ${a}: ${g}`,f);const _=u.createWebChannel(g,f);this.I_(_);let v=!1,b=!1;const T=new U5({Yo:R=>{b?Le(or,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(v||(Le(or,`Opening RPC '${e}' stream ${a} transport.`),_.open(),v=!0),Le(or,`RPC '${e}' stream ${a} sending:`,R),_.send(R))},Zo:()=>_.close()}),x=(R,I,O)=>{R.listen(I,(B=>{try{O(B)}catch(j){setTimeout((()=>{throw j}),0)}}))};return x(_,pd.EventType.OPEN,(()=>{b||(Le(or,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),x(_,pd.EventType.CLOSE,(()=>{b||(b=!0,Le(or,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(_))})),x(_,pd.EventType.ERROR,(R=>{b||(b=!0,Du(or,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),T.a_(new Ie(ce.UNAVAILABLE,"The operation could not be completed")))})),x(_,pd.EventType.MESSAGE,(R=>{if(!b){const I=R.data[0];At(!!I,16349);const O=I,B=O?.error||O[0]?.error;if(B){Le(or,`RPC '${e}' stream ${a} received error:`,B);const j=B.status;let M=(function(D){const k=Tn[D];if(k!==void 0)return wO(k)})(j),V=B.message;M===void 0&&(M=ce.INTERNAL,V="Unknown error status: "+j+" with message "+B.message),b=!0,T.a_(new Ie(M,V)),_.close()}else Le(or,`RPC '${e}' stream ${a} received:`,I),T.u_(I)}})),x(d,jN.STAT_EVENT,(R=>{R.stat===C_.PROXY?Le(or,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===C_.NOPROXY&&Le(or,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){return new $z(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="PersistentStream";class LO{constructor(e,n,r,a,o,u,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Ga(n.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ie(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(rC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(rC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B5 extends LO{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return nt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?nt.min():u.readTime?ti(u.readTime):nt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=L_(this.serializer),n.addTarget=(function(o,u){let d;const f=u.target;if(d=O_(f)?{documents:Wz(o,f)}:{query:Xz(o,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=TO(o,u.resumeToken);const h=k_(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(nt.min())>0){d.readTime=rp(o,u.snapshotVersion.toTimestamp());const h=k_(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Zz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=L_(this.serializer),n.removeTarget=e,this.q_(n)}}class z5 extends LO{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Qz(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=L_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xO(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{}class $5 extends H5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,P_(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(ce.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,P_(n,r),a,u,d,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ga(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class G5{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{fl(this)&&(Le(il,"Restarting streams for network reachability change."),await(async function(f){const h=ot(f);h.Ea.add(4),await Rf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await tg(h)})(this))}))})),this.Ra=new q5(r,a)}}async function tg(t){if(fl(t))for(const e of t.da)await e(!0)}async function Rf(t){for(const e of t.da)await e(!1)}function VO(t,e){const n=ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Aw(n)?Rw(n):Ju(n).O_()&&Tw(n,e))}function Sw(t,e){const n=ot(t),r=Ju(n);n.Ia.delete(e),r.O_()&&jO(n,e),n.Ia.size===0&&(r.O_()?r.L_():fl(n)&&n.Ra.set("Unknown"))}function Tw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ju(t).Y_(e)}function jO(t,e){t.Va.Ue(e),Ju(t).Z_(e)}function Rw(t){t.Va=new Fz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ju(t).start(),t.Ra.ua()}function Aw(t){return fl(t)&&!Ju(t).x_()&&t.Ia.size>0}function fl(t){return ot(t).Ea.size===0}function UO(t){t.Va=void 0}async function K5(t){t.Ra.set("Online")}async function Y5(t){t.Ia.forEach(((e,n)=>{Tw(t,e)}))}async function Q5(t,e){UO(t),Aw(t)?(t.Ra.ha(e),Rw(t)):t.Ra.set("Unknown")}async function W5(t,e,n){if(t.Ra.set("Online"),e instanceof SO&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Le(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof Cm?t.Va.Ze(e):e instanceof bO?t.Va.st(e):t.Va.tt(e),!n.isEqual(nt.min()))try{const r=await PO(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const d=o.Va.Tt(u);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(h);g&&o.Ia.set(h,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,h)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(nr.EMPTY_BYTE_STRING,g.snapshotVersion)),jO(o,f);const _=new Ls(g.target,f,h,g.sequenceNumber);Tw(o,_)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Le(il,"Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Xu(e))throw e;t.Ea.add(1),await Rf(t),t.Ra.set("Offline"),n||(n=()=>PO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await tg(t)}))}function FO(t,e){return e().catch((n=>sp(t,n,e)))}async function ng(t){const e=ot(t),n=to(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lw;for(;X5(e);)try{const a=await O5(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,J5(e,a)}catch(a){await sp(e,a)}BO(e)&&zO(e)}function X5(t){return fl(t)&&t.Ta.length<10}function J5(t,e){t.Ta.push(e);const n=to(t);n.O_()&&n.X_&&n.ea(e.mutations)}function BO(t){return fl(t)&&!to(t).x_()&&t.Ta.length>0}function zO(t){to(t).start()}async function Z5(t){to(t).ra()}async function eH(t){const e=to(t);for(const n of t.Ta)e.ea(n.mutations)}async function tH(t,e,n){const r=t.Ta.shift(),a=pw.from(r,e,n);await FO(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await ng(t)}async function nH(t,e){e&&to(t).X_&&await(async function(r,a){if((function(u){return EO(u)&&u!==ce.ABORTED})(a.code)){const o=r.Ta.shift();to(r).B_(),await FO(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await ng(r)}})(t,e),BO(t)&&zO(t)}async function iC(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Le(il,"RemoteStore received new credentials");const r=fl(n);n.Ea.add(3),await Rf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tg(n)}async function rH(t,e){const n=ot(t);e?(n.Ea.delete(2),await tg(n)):e||(n.Ea.add(2),await Rf(n),n.Ra.set("Unknown"))}function Ju(t){return t.ma||(t.ma=(function(n,r,a){const o=ot(n);return o.sa(),new B5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:K5.bind(null,t),t_:Y5.bind(null,t),r_:Q5.bind(null,t),H_:W5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Aw(t)?Rw(t):t.Ra.set("Unknown")):(await t.ma.stop(),UO(t))}))),t.ma}function to(t){return t.fa||(t.fa=(function(n,r,a){const o=ot(n);return o.sa(),new z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z5.bind(null,t),r_:nH.bind(null,t),ta:eH.bind(null,t),na:tH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ng(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,d=new Cw(e,n,u,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xw(t,e){if(Ga("AsyncQueue",`${e}: ${t}`),Xu(t))return new Ie(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=gd(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.ga=new ln(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lu{constructor(e,n,r,a,o,u,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Lu(e,n,vu.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aH{constructor(){this.queries=sC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ot(n),o=a.queries;a.queries=sC(),o.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Ie(ce.ABORTED,"Firestore shutting down"))}}function sC(){return new dl((t=>oO(t)),Yp)}async function HO(t,e){const n=ot(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new iH,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=xw(u,`Initialization of query '${nu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Iw(n)}async function $O(t,e){const n=ot(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sH(t,e){const n=ot(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const d of u.Sa)d.Fa(a)&&(r=!0);u.wa=a}}r&&Iw(n)}function oH(t,e,n){const r=ot(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Iw(t){t.Ca.forEach((e=>{e.next()}))}var U_,oC;(oC=U_||(U_={})).Ma="default",oC.Cache="cache";class qO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==U_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.key=e}}class KO{constructor(e){this.key=e}}class lH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bt(),this.mutatedKeys=bt(),this.eu=lO(e),this.tu=new vu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aC,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,_)=>{const v=a.get(g),b=Qp(this.query,_)?_:null,T=!!v&&this.mutatedKeys.has(v.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;v&&b?v.data.isEqual(b.data)?T!==x&&(r.track({type:3,doc:b}),R=!0):this.su(v,b)||(r.track({type:2,doc:b}),R=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(d=!0)):!v&&b?(r.track({type:0,doc:b}),R=!0):v&&!b&&(r.track({type:1,doc:v}),R=!0,(f||h)&&(d=!0)),R&&(b?(u=u.add(b),o=x?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(b,T){const x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:R})}};return x(b)-x(T)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,u.length!==0||h?{snapshot:new Lu(this.query,e.tu,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new KO(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new GO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=bt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dw="SyncEngine";class uH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cH{constructor(e){this.key=e,this.hu=!1}}class dH{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new dl((d=>oO(d)),Yp),this.Iu=new Map,this.Eu=new Set,this.du=new ln(We.comparator),this.Au=new Map,this.Ru=new vw,this.Vu={},this.mu=new Map,this.fu=Pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fH(t,e,n=!0){const r=ZO(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await YO(r,e,n,!0),a}async function hH(t,e){const n=ZO(t);await YO(n,e,!0,!1)}async function YO(t,e,n,r){const a=await M5(t.localStore,na(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await mH(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&VO(t.remoteStore,a),d}async function mH(t,e,n,r,a){t.pu=(_,v,b)=>(async function(x,R,I,O){let B=R.view.ru(I);B.Cs&&(B=await ZA(x.localStore,R.query,!1).then((({documents:P})=>R.view.ru(P,B))));const j=O&&O.targetChanges.get(R.targetId),M=O&&O.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(B,x.isPrimaryClient,j,M);return uC(x,R.targetId,V.au),V.snapshot})(t,_,v,b);const o=await ZA(t.localStore,e,!0),u=new lH(e,o.Qs),d=u.ru(o.documents),f=Tf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=u.applyChanges(d,t.isPrimaryClient,f);uC(t,n,h.au);const g=new uH(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function pH(t,e,n){const r=ot(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Yp(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await V_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Sw(r.remoteStore,a.targetId),F_(r,a.targetId)})).catch(Wu)):(F_(r,a.targetId),await V_(r.localStore,a.targetId,!0))}async function gH(t,e){const n=ot(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sw(n.remoteStore,r.targetId))}async function yH(t,e,n){const r=TH(t);try{const a=await(function(u,d){const f=ot(u),h=Jt.now(),g=d.reduce(((b,T)=>b.add(T.key)),bt());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=Ka(),x=bt();return f.Ns.getEntries(b,g).next((R=>{T=R,T.forEach(((I,O)=>{O.isValidDocument()||(x=x.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,T))).next((R=>{_=R;const I=[];for(const O of d){const B=kz(O,_.get(O.key).overlayedDocument);B!=null&&I.push(new co(O.key,B,eO(B.value.mapValue),tr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,I,d)})).next((R=>{v=R;const I=R.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(b,R.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:cO(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,d,f){let h=u.Vu[u.currentUser.toKey()];h||(h=new ln(wt)),h=h.insert(d,f),u.Vu[u.currentUser.toKey()]=h})(r,a.batchId,n),await Af(r,a.changes),await ng(r.remoteStore)}catch(a){const o=xw(a,"Failed to persist write");n.reject(o)}}async function QO(t,e){const n=ot(t);try{const r=await D5(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?At(u.hu,14607):a.removedDocuments.size>0&&(At(u.hu,42227),u.hu=!1))})),await Af(n,r,e)}catch(r){await Wu(r)}}function lC(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const f=ot(u);f.onlineState=d;let h=!1;f.queries.forEach(((g,_)=>{for(const v of _.Sa)v.va(d)&&(h=!0)})),h&&Iw(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vH(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new ln(We.comparator);u=u.insert(o,Gn.newNoDocument(o,nt.min()));const d=bt().add(o),f=new Zp(nt.min(),new Map,new ln(wt),u,d);await QO(r,f),r.du=r.du.remove(o),r.Au.delete(e),Nw(r)}else await V_(r.localStore,e,!1).then((()=>F_(r,e,n))).catch(Wu)}async function _H(t,e){const n=ot(t),r=e.batch.batchId;try{const a=await I5(n.localStore,e);XO(n,r,null),WO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,a)}catch(a){await Wu(a)}}async function EH(t,e,n){const r=ot(t);try{const a=await(function(u,d){const f=ot(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let g;return f.mutationQueue.lookupMutationBatch(h,d).next((_=>(At(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(h,_)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g))).next((()=>f.localDocuments.getDocuments(h,g)))}))})(r.localStore,e);XO(r,e,n),WO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,a)}catch(a){await Wu(a)}}function WO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XO(t,e,n){const r=ot(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function F_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JO(t,r)}))}function JO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Nw(t))}function uC(t,e,n){for(const r of n)r instanceof GO?(t.Ru.addReference(r.key,e),wH(t,r)):r instanceof KO?(Le(Dw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JO(t,r.key)):Ze(19791,{wu:r})}function wH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(Dw,"New document in limbo: "+n),t.Eu.add(r),Nw(t))}function Nw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(jt.fromString(e)),r=t.fu.next();t.Au.set(r,new cH(n)),t.du=t.du.insert(n,r),VO(t.remoteStore,new Ls(na(fw(n.path)),r,"TargetPurposeLimboResolution",qp.ce))}}async function Af(t,e,n){const r=ot(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=Ew.As(f.targetId,h);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(f,h){const g=ot(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Ee.forEach(h,(v=>Ee.forEach(v.Es,(b=>g.persistence.referenceDelegate.addReference(_,v.targetId,b))).next((()=>Ee.forEach(v.ds,(b=>g.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))))))}catch(_){if(!Xu(_))throw _;Le(ww,"Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const b=g.Ms.get(v),T=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(v,x)}}})(r.localStore,o))}async function bH(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Le(Dw,"User change. New user:",e.toKey());const r=await kO(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ie(ce.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.Ls)}}function SH(t,e){const n=ot(t),r=n.Au.get(e);if(r&&r.hu)return bt().add(r.key);{let a=bt();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function ZO(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vH.bind(null,e),e.Pu.H_=sH.bind(null,e.eventManager),e.Pu.yu=oH.bind(null,e.eventManager),e}function TH(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_H.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EH.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return x5(this.persistence,new R5,e.initialUser,this.serializer)}Cu(e){return new MO(_w.mi,this.serializer)}Du(e){return new P5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class RH extends op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new MO((r=>ap.mi(r,n)),this.serializer)}}class B_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bH.bind(null,this.syncEngine),await rH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aH})()}createDatastore(e){const n=eg(e.databaseInfo.databaseId),r=(function(o){return new F5(o)})(e.databaseInfo);return(function(o,u,d,f){return new $5(o,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,d){return new G5(r,a,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>lC(this.syncEngine,n,0)),(function(){return nC.v()?new nC:new L5})())}createSyncEngine(e,n){return(function(a,o,u,d,f,h,g){const _=new dH(a,o,u,d,f,h);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ot(n);Le(il,"RemoteStore shutting down."),r.Ea.add(5),await Rf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ie(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(a,o){const u=ot(a),d={documents:o.map((_=>ip(u.serializer,_)))},f=await u.Ho("BatchGetDocuments",u.serializer.databaseId,jt.emptyPath(),d,o.length),h=new Map;f.forEach((_=>{const v=Kz(u.serializer,_);h.set(v.key.toString(),v)}));const g=[];return o.forEach((_=>{const v=h.get(_.toString());At(!!v,55234,{key:_}),g.push(v)})),g})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const a=We.fromPath(r);this.mutations.push(new _O(a,this.precondition(a)))})),await(async function(r,a){const o=ot(r),u={writes:a.map((d=>xO(o.serializer,d)))};await o.Go("Commit",o.serializer.databaseId,jt.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ze(50498,{Gu:e.constructor.name});n=nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ie(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(nt.min())?tr.exists(!1):tr.updateTime(n):tr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(nt.min()))throw new Ie(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(n)}return tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n,r,a,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=o,this.zu=r.maxAttempts,this.M_=new bw(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new AH(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Yu(a)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!bf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!EO(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class xH{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=lr.UNAUTHENTICATED,this.clientId=ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Le(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Le(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zv(t,e){t.asyncQueue.verifyOperationInProgress(),Le(no,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await kO(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IH(t);Le(no,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>iC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>iC(e.remoteStore,a))),t._onlineComponents=e}async function IH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(no,"Using user provided OfflineComponentProvider");try{await zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Du("Error using user provided cache. Falling back to memory cache: "+n),await zv(t,new op)}}else Le(no,"Using default OfflineComponentProvider"),await zv(t,new RH(void 0));return t._offlineComponents}async function Ow(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(no,"Using user provided OnlineComponentProvider"),await cC(t,t._uninitializedComponentsProvider._online)):(Le(no,"Using default OnlineComponentProvider"),await cC(t,new B_))),t._onlineComponents}function DH(t){return Ow(t).then((e=>e.syncEngine))}function NH(t){return Ow(t).then((e=>e.datastore))}async function tM(t){const e=await Ow(t),n=e.eventManager;return n.onListen=fH.bind(null,e.syncEngine),n.onUnlisten=pH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gH.bind(null,e.syncEngine),n}function OH(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,f,h){const g=new eM({next:v=>{g.Nu(),u.enqueueAndForget((()=>$O(o,_)));const b=v.docs.has(d);!b&&v.fromCache?h.reject(new Ie(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?h.reject(new Ie(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new qO(fw(d.path),g,{includeMetadataChanges:!0,qa:!0});return HO(o,_)})(await tM(t),t.asyncQueue,e,n,r))),r.promise}function MH(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,f,h){const g=new eM({next:v=>{g.Nu(),u.enqueueAndForget((()=>$O(o,_))),v.fromCache&&f.source==="server"?h.reject(new Ie(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new qO(d,g,{includeMetadataChanges:!0,qa:!0});return HO(o,_)})(await tM(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firestore.googleapis.com",fC=!0;class hC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rM,this.ssl=fC}else this.host=e.host,this.ssl=e.ssl??fC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l5)throw new Ie(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VB;switch(r.type){case"firstParty":return new BB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dC.get(n);r&&(Le("ComponentProvider","Removing Datastore"),dC.delete(n),r.terminate())})(this),Promise.resolve()}}function kH(t,e,n,r={}){t=wi(t,rg);const a=qu(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(YD(`https://${d}`),QD("Firestore",!0)),o.host!==rM&&o.host!==d&&Du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:d,ssl:a,emulatorOptions:r};if(!el(f,u)&&(t._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=lr.MOCK_USER;else{h=Y3(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ie(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new lr(_)}t._authCredentials=new jB(new zN(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wf(n,hn._jsonSchema))return new hn(e,r||null,new We(jt.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:Cn("string",hn._jsonSchemaVersion),referencePath:Cn("string")};class Gs extends Wa{constructor(e,n,r){super(e,n,fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new We(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Zu(t,e,...n){if(t=En(t),HN("collection","path",e),t instanceof rg){const r=jt.fromString(e,...n);return CA(r),new Gs(t,null,r)}{if(!(t instanceof hn||t instanceof Gs))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return CA(r),new Gs(t.firestore,null,r)}}function ua(t,e,...n){if(t=En(t),arguments.length===1&&(e=ow.newId()),HN("doc","path",e),t instanceof rg){const r=jt.fromString(e,...n);return AA(r),new hn(t,null,new We(r))}{if(!(t instanceof hn||t instanceof Gs))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return AA(r),new hn(t.firestore,t instanceof Gs?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="AsyncQueue";class pC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bw(this,"async_queue_retry"),this._c=()=>{const r=Bv();r&&Le(mC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xu(e))throw e;Le(mC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ga("INTERNAL UNHANDLED ERROR: ",gC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Cw.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ze(47125,{Pc:gC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fo extends rg{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new pC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pC(e),this._firestoreClient=void 0,await e}}}function PH(t,e){const n=typeof t=="object"?t:ZD(),r=typeof t=="string"?t:Xm,a=XE(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=G3("firestore");o&&kH(a,...o)}return a}function ig(t){if(t._terminated)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LH(t),t._firestoreClient}function LH(t){const e=t._freezeSettings(),n=(function(a,o,u,d){return new az(a,o,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(nr.fromBase64String(e))}catch(n){throw new Ie(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jr(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wf(e,Jr._jsonSchema))return Jr.fromBase64String(e.bytes)}}Jr._jsonSchemaVersion="firestore/bytes/1.0",Jr._jsonSchema={type:Cn("string",Jr._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ra._jsonSchemaVersion}}static fromJSON(e){if(wf(e,ra._jsonSchema))return new ra(e.latitude,e.longitude)}}ra._jsonSchemaVersion="firestore/geoPoint/1.0",ra._jsonSchema={type:Cn("string",ra._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ia._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wf(e,ia._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ia(e.vectorValues);throw new Ie(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ia._jsonSchemaVersion="firestore/vectorValue/1.0",ia._jsonSchema={type:Cn("string",ia._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^__.*__$/;class jH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sf(e,this.data,n,this.fieldTransforms)}}class iM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class kw{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aM(this.Ac)&&VH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eg(e)}Cc(e,n,r,a=!1){return new kw({Ac:e,methodName:n,Dc:r,path:er.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ec(t){const e=t._freezeSettings(),n=eg(t._databaseId);return new UH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pw(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);Lw("Data must be an object, but it was:",u,r);const d=uM(r,u);let f,h;if(o.merge)f=new ei(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=z_(e,_,n);if(!u.contains(v))throw new Ie(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dM(g,v)||g.push(v)}f=new ei(g),h=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,h=u.fieldTransforms;return new jH(new Rr(d),f,h)}class ag extends Mw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ag}}function sM(t,e,n,r){const a=t.Cc(1,e,n);Lw("Data must be an object, but it was:",a,r);const o=[],u=Rr.empty();uo(r,((f,h)=>{const g=Vw(e,f,n);h=En(h);const _=a.yc(g);if(h instanceof ag)o.push(g);else{const v=xf(h,_);v!=null&&(o.push(g),u.set(g,v))}}));const d=new ei(o);return new iM(u,d,a.fieldTransforms)}function oM(t,e,n,r,a,o){const u=t.Cc(1,e,n),d=[z_(e,r,n)],f=[a];if(o.length%2!=0)throw new Ie(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(z_(e,o[v])),f.push(o[v+1]);const h=[],g=Rr.empty();for(let v=d.length-1;v>=0;--v)if(!dM(h,d[v])){const b=d[v];let T=f[v];T=En(T);const x=u.yc(b);if(T instanceof ag)h.push(b);else{const R=xf(T,x);R!=null&&(h.push(b),g.set(b,R))}}const _=new ei(h);return new iM(g,_,u.fieldTransforms)}function lM(t,e,n,r=!1){return xf(n,t.Cc(r?4:3,e))}function xf(t,e){if(cM(t=En(t)))return Lw("Unsupported field value:",e,t),uM(t,e);if(t instanceof Mw)return(function(r,a){if(!aM(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const d of r){let f=xf(d,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xz(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Jt.fromDate(r);return{timestampValue:rp(a.serializer,o)}}if(r instanceof Jt){const o=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rp(a.serializer,o)}}if(r instanceof ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jr)return{bytesValue:TO(a.serializer,r._byteString)};if(r instanceof hn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yw(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ia)return(function(u,d){return{mapValue:{fields:{[JN]:{stringValue:ZN},[Jm]:{arrayValue:{values:u.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return mw(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${$p(r)}`)})(t,e)}function uM(t,e){const n={};return GN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,((r,a)=>{const o=xf(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function cM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof ra||t instanceof Jr||t instanceof hn||t instanceof Mw||t instanceof ia)}function Lw(t,e,n){if(!cM(n)||!$N(n)){const r=$p(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function z_(t,e,n){if((e=En(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Vw(t,e);throw lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const FH=new RegExp("[~\\*/\\[\\]]");function Vw(t,e,n){if(e.search(FH)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lp(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Ie(ce.INVALID_ARGUMENT,d+t+f)}function dM(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BH extends Qd{data(){return super.data()}}function sg(t,e){return typeof e=="string"?Vw(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jw{}class og extends jw{}function Vu(t,e,...n){let r=[];e instanceof jw&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((f=>f instanceof Uw)).length,d=o.filter((f=>f instanceof lg)).length;if(u>1||u>0&&d>0)throw new Ie(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class lg extends og{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=this._parse(e);return fM(e._query,n),new Wa(e.firestore,e.converter,M_(e._query,n))}_parse(e){const n=ec(e.firestore);return(function(o,u,d,f,h,g,_){let v;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){vC(_,g);const T=[];for(const x of _)T.push(yC(f,o,x));v={arrayValue:{values:T}}}else v=yC(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||vC(_,g),v=lM(d,u,_,g==="in"||g==="not-in");return An.create(h,g,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vs(t,e,n){const r=e,a=sg("where",t);return lg._create(a,r,n)}class Uw extends jw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const d=o.getFlattenedFilters();for(const f of d)fM(u,f),u=M_(u,f)})(e._query,n),new Wa(e.firestore,e.converter,M_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fw extends og{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fw(e,n)}_apply(e){const n=(function(a,o,u){if(a.startAt!==null)throw new Ie(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ie(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gd(o,u)})(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new cl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function If(t,e="asc"){const n=e,r=sg("orderBy",t);return Fw._create(r,n)}class Bw extends og{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Bw(e,n,r)}_apply(e){return new Wa(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}function HH(t){return YB("limit",t),Bw._create("limit",t,"F")}class zw extends og{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new zw(e,n,r)}_apply(e){const n=qH(e,this.type,this._docOrFields,this._inclusive);return new Wa(e.firestore,e.converter,(function(a,o){return new cl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function $H(...t){return zw._create("startAfter",t,!1)}function qH(t,e,n,r){if(n[0]=En(n[0]),n[0]instanceof Qd)return(function(o,u,d,f,h){if(!f)throw new Ie(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const _ of yu(o))if(_.field.isKeyField())g.push(Zm(u,f.key));else{const v=f.data.field(_.field);if(Gp(v))throw new Ie(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=_.field.canonicalString();throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}g.push(v)}return new ku(g,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=ec(t.firestore);return(function(u,d,f,h,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new Ie(ce.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<g.length;T++){const x=g[T];if(v[T].field.isKeyField()){if(typeof x!="string")throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof x}`);if(!hw(u)&&x.indexOf("/")!==-1)throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${x}' contains a slash.`);const R=u.path.child(jt.fromString(x));if(!We.isDocumentKey(R))throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const I=new We(R);b.push(Zm(d,I))}else{const R=lM(f,h,x);b.push(R)}}return new ku(b,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function yC(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Ie(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hw(e)&&n.indexOf("/")!==-1)throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!We.isDocumentKey(r))throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zm(t,new We(r))}if(n instanceof hn)return Zm(t,n._key);throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function vC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fM(t,e){const n=(function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hM{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Jm].arrayValue?.values?.map((r=>yn(r.doubleValue)));return new ia(n)}convertGeoPoint(e){return new ra(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hd(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);At(NO(r),9688,{name:e});const a=new $d(r.get(1),r.get(3)),o=new We(r.popFirst(5));return a.isEqual(n)||Ga(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class GH extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends Qd{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Cn("string",Ks._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class xm extends Ks{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new uu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xm(this._firestore,this._userDataWriter,r.key,r,new uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const f=new xm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const f=new xm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,g=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:KH(d.type),doc:f,oldIndex:h,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_u._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ow.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t){t=wi(t,hn);const e=wi(t.firestore,fo);return OH(ig(e),t._key).then((n=>WH(e,t,n)))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:Cn("string",_u._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class $w extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Df(t){t=wi(t,Wa);const e=wi(t.firestore,fo),n=ig(e),r=new $w(e);return zH(t._query),MH(n,t._query).then((a=>new _u(e,r,t,a)))}function qw(t,e,n){t=wi(t,hn);const r=wi(t.firestore,fo),a=Hw(t.converter,e,n);return ug(r,[Pw(ec(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,tr.none())])}function mM(t,e,n,...r){t=wi(t,hn);const a=wi(t.firestore,fo),o=ec(a);let u;return u=typeof(e=En(e))=="string"||e instanceof Cf?oM(o,"updateDoc",t._key,e,n,r):sM(o,"updateDoc",t._key,e),ug(a,[u.toMutation(t._key,tr.exists(!0))])}function pM(t){return ug(wi(t.firestore,fo),[new Jp(t._key,tr.none())])}function QH(t,e){const n=wi(t.firestore,fo),r=ua(t),a=Hw(t.converter,e);return ug(n,[Pw(ec(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function ug(t,e){return(function(r,a){const o=new ta;return r.asyncQueue.enqueueAndForget((async()=>yH(await DH(r),a,o))),o.promise})(ig(t),e)}function WH(t,e,n){const r=n.docs.get(e._key),a=new $w(t);return new Ks(t,a,e._key,r,new uu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={maxAttempts:5};function vd(t,e){if((t=En(t)).firestore!==e)throw new Ie(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ec(e)}get(e){const n=vd(e,this._firestore),r=new GH(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return Ze(24041);const o=a[0];if(o.isFoundDocument())return new Qd(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Qd(this._firestore,r,n._key,null,n.converter);throw Ze(18433,{doc:o})}))}set(e,n,r){const a=vd(e,this._firestore),o=Hw(a.converter,n,r),u=Pw(this._dataReader,"Transaction.set",a._key,o,a.converter!==null,r);return this._transaction.set(a._key,u),this}update(e,n,r,...a){const o=vd(e,this._firestore);let u;return u=typeof(n=En(n))=="string"||n instanceof Cf?oM(this._dataReader,"Transaction.update",o._key,n,r,a):sM(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,u),this}delete(e){const n=vd(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH extends JH{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vd(e,this._firestore),r=new $w(this._firestore);return super.get(e).then((a=>new Ks(this._firestore,r,n._key,a._document,new uu(!1,!1),n.converter)))}}function e$(t,e,n){t=wi(t,fo);const r={...XH,...n};return(function(o){if(o.maxAttempts<1)throw new Ie(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,u,d){const f=new ta;return o.asyncQueue.enqueueAndForget((async()=>{const h=await NH(o);new CH(o.asyncQueue,h,d,u,f).ju()})),f.promise})(ig(t),(a=>e(new ZH(t,a))),r)}(function(e,n=!0){(function(a){Qu=a})(Gu),xu(new tl("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new fo(new UB(r.getProvider("auth-internal")),new zB(u,r.getProvider("app-check-internal")),(function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(h.options.projectId,g)})(u,a),u);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Hs(bA,SA,e),Hs(bA,SA,"esm2020")})();const t$={apiKey:"AIzaSyBFbTqTqx9TAdzifihJVPWdDmeHC4gOzsU",authDomain:"forms-84b35.firebaseapp.com",projectId:"forms-84b35",storageBucket:"forms-84b35.firebasestorage.app",messagingSenderId:"654331594212",appId:"1:654331594212:web:6881af3f3000223320f3f1"},gM=JD(t$),Hv=MB(gM),hr=PH(gM),yM=E.createContext(void 0);function n$({children:t}){const[e,n]=E.useState(null),[r,a]=E.useState(!0);E.useEffect(()=>{const u=w9(Hv,async d=>{n(d),a(!1)});return()=>u()},[]);const o=E.useMemo(()=>({user:e,loading:r,admin:["eric","jackson"].includes(e?.email?.replace("@bllk.forms","")??""),signIn:(u,d)=>v9(Hv,u+"@bllk.forms",d),logout:()=>b9(Hv)}),[e,r]);return w.jsx(yM.Provider,{value:o,children:t})}function r$(){const t=E.useContext(yM);if(!t)throw new Error("useAuthContext must be used inside <AuthProvider>");return t}function Gw(){return r$()}var Nf=t=>t.type==="checkbox",Qo=t=>t instanceof Date,Sr=t=>t==null;const vM=t=>typeof t=="object";var In=t=>!Sr(t)&&!Array.isArray(t)&&vM(t)&&!Qo(t),_M=t=>In(t)&&t.target?Nf(t.target)?t.target.checked:t.target.value:t,i$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,EM=(t,e)=>t.has(i$(e)),a$=t=>{const e=t.constructor&&t.constructor.prototype;return In(e)&&e.hasOwnProperty("isPrototypeOf")},Kw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Kw&&(t instanceof Blob||r))&&(n||In(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!a$(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Pn(t[a]));else return t;return e}var cg=t=>/^\w*$/.test(t),vn=t=>t===void 0,Yw=t=>Array.isArray(t)?t.filter(Boolean):[],Qw=t=>Yw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,n)=>{if(!e||!In(t))return n;const r=(cg(e)?[e]:Qw(e)).reduce((a,o)=>Sr(a)?a:a[o],t);return vn(r)||r===t?vn(t[e])?n:t[e]:r},Xr=t=>typeof t=="boolean",Wt=(t,e,n)=>{let r=-1;const a=cg(e)?[e]:Qw(e),o=a.length,u=o-1;for(;++r<o;){const d=a[r];let f=n;if(r!==u){const h=t[d];f=In(h)||Array.isArray(h)?h:isNaN(+a[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const up={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Na={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wM=Pe.createContext(null);wM.displayName="HookFormContext";const Ww=()=>Pe.useContext(wM);var bM=(t,e,n,r=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const u=o;return e._proxyFormState[u]!==Mi.all&&(e._proxyFormState[u]=!r||Mi.all),n&&(n[u]=!0),t[u]}});return a};const Xw=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect;function s$(t){const e=Ww(),{control:n=e.control,disabled:r,name:a,exact:o}=t||{},[u,d]=Pe.useState(n._formState),f=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Xw(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!r&&d({...n._formState,...h})}}),[a,r,o]),Pe.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Pe.useMemo(()=>bM(u,n,f.current,!1),[u,n])}var Zr=t=>typeof t=="string",SM=(t,e,n,r,a)=>Zr(t)?(r&&e.watch.add(t),Ne(n,t,a)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Ne(n,o))):(r&&(e.watchAll=!0),n),H_=t=>Sr(t)||!vM(t);function ka(t,e,n=new WeakSet){if(H_(t)||H_(e))return t===e;if(Qo(t)&&Qo(e))return t.getTime()===e.getTime();const r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const o of r){const u=t[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=e[o];if(Qo(u)&&Qo(d)||In(u)&&In(d)||Array.isArray(u)&&Array.isArray(d)?!ka(u,d,n):u!==d)return!1}}return!0}function TM(t){const e=Ww(),{control:n=e.control,name:r,defaultValue:a,disabled:o,exact:u,compute:d}=t||{},f=Pe.useRef(a),h=Pe.useRef(d),g=Pe.useRef(void 0);h.current=d;const _=Pe.useMemo(()=>n._getWatch(r,f.current),[n,r]),[v,b]=Pe.useState(h.current?h.current(_):_);return Xw(()=>n._subscribe({name:r,formState:{values:!0},exact:u,callback:T=>{if(!o){const x=SM(r,n._names,T.values||n._formValues,!1,f.current);if(h.current){const R=h.current(x);ka(R,g.current)||(b(R),g.current=R)}else b(x)}}}),[n,o,r,u]),Pe.useEffect(()=>n._removeUnmounted()),v}function o$(t){const e=Ww(),{name:n,disabled:r,control:a=e.control,shouldUnregister:o,defaultValue:u}=t,d=EM(a._names.array,n),f=Pe.useMemo(()=>Ne(a._formValues,n,Ne(a._defaultValues,n,u)),[a,n,u]),h=TM({control:a,name:n,defaultValue:f,exact:!0}),g=s$({control:a,name:n,exact:!0}),_=Pe.useRef(t),v=Pe.useRef(void 0),b=Pe.useRef(a.register(n,{...t.rules,value:h,...Xr(t.disabled)?{disabled:t.disabled}:{}}));_.current=t;const T=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(g.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(g.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(g.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(g.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(g.errors,n)}}),[g,n]),x=Pe.useCallback(B=>b.current.onChange({target:{value:_M(B),name:n},type:up.CHANGE}),[n]),R=Pe.useCallback(()=>b.current.onBlur({target:{value:Ne(a._formValues,n),name:n},type:up.BLUR}),[n,a._formValues]),I=Pe.useCallback(B=>{const j=Ne(a._fields,n);j&&B&&(j._f.ref={focus:()=>B.focus&&B.focus(),select:()=>B.select&&B.select(),setCustomValidity:M=>B.setCustomValidity(M),reportValidity:()=>B.reportValidity()})},[a._fields,n]),O=Pe.useMemo(()=>({name:n,value:h,...Xr(r)||g.disabled?{disabled:g.disabled||r}:{},onChange:x,onBlur:R,ref:I}),[n,r,g.disabled,x,R,I,h]);return Pe.useEffect(()=>{const B=a._options.shouldUnregister||o,j=v.current;j&&j!==n&&!d&&a.unregister(j),a.register(n,{..._.current.rules,...Xr(_.current.disabled)?{disabled:_.current.disabled}:{}});const M=(V,P)=>{const D=Ne(a._fields,V);D&&D._f&&(D._f.mount=P)};if(M(n,!0),B){const V=Pn(Ne(a._options.defaultValues,n));Wt(a._defaultValues,n,V),vn(Ne(a._formValues,n))&&Wt(a._formValues,n,V)}return!d&&a.register(n),v.current=n,()=>{(d?B&&!a._state.action:B)?a.unregister(n):M(n,!1)}},[n,a,d,o]),Pe.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),Pe.useMemo(()=>({field:O,formState:g,fieldState:T}),[O,g,T])}const _C=t=>t.render(o$(t));var l$=(t,e,n,r,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:a||!0}}:{},Id=t=>Array.isArray(t)?t:[t],EC=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}};function RM(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const a=t[r],o=e[r];if(a&&In(a)&&o){const u=RM(a,o);In(u)&&(n[r]=u)}else t[r]&&(n[r]=o)}return n}var Or=t=>In(t)&&!Object.keys(t).length,Jw=t=>t.type==="file",ki=t=>typeof t=="function",cp=t=>{if(!Kw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AM=t=>t.type==="select-multiple",Zw=t=>t.type==="radio",u$=t=>Zw(t)||Nf(t),$v=t=>cp(t)&&t.isConnected;function c$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=vn(t)?r++:t[e[r++]];return t}function d$(t){for(const e in t)if(t.hasOwnProperty(e)&&!vn(t[e]))return!1;return!0}function Sn(t,e){const n=Array.isArray(e)?e:cg(e)?[e]:Qw(e),r=n.length===1?t:c$(t,n),a=n.length-1,o=n[a];return r&&delete r[o],a!==0&&(In(r)&&Or(r)||Array.isArray(r)&&d$(r))&&Sn(t,n.slice(0,-1)),t}var f$=t=>{for(const e in t)if(ki(t[e]))return!0;return!1};function CM(t){return Array.isArray(t)||In(t)&&!f$(t)}function $_(t,e={}){for(const n in t)CM(t[n])?(e[n]=Array.isArray(t[n])?[]:{},$_(t[n],e[n])):Sr(t[n])||(e[n]=!0);return e}function au(t,e,n){n||(n=$_(e));for(const r in t)CM(t[r])?vn(e)||H_(n[r])?n[r]=$_(t[r],Array.isArray(t[r])?[]:{}):au(t[r],Sr(e)?{}:e[r],n[r]):n[r]=!ka(t[r],e[r]);return n}const wC={value:!1,isValid:!1},bC={value:!0,isValid:!0};var xM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!vn(t[0].attributes.value)?vn(t[0].value)||t[0].value===""?bC:{value:t[0].value,isValid:!0}:bC:wC}return wC},IM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>vn(t)?t:e?t===""?NaN:t&&+t:n&&Zr(t)?new Date(t):r?r(t):t;const SC={isValid:!1,value:null};var DM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,SC):SC;function TC(t){const e=t.ref;return Jw(e)?e.files:Zw(e)?DM(t.refs).value:AM(e)?[...e.selectedOptions].map(({value:n})=>n):Nf(e)?xM(t.refs).value:IM(vn(e.value)?t.ref.value:e.value,t)}var h$=(t,e,n,r)=>{const a={};for(const o of t){const u=Ne(e,o);u&&Wt(a,o,u._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:r}},dp=t=>t instanceof RegExp,ud=t=>vn(t)?t:dp(t)?t.source:In(t)?dp(t.value)?t.value.source:t.value:t,RC=t=>({isOnSubmit:!t||t===Mi.onSubmit,isOnBlur:t===Mi.onBlur,isOnChange:t===Mi.onChange,isOnAll:t===Mi.all,isOnTouch:t===Mi.onTouched});const AC="AsyncFunction";var m$=t=>!!t&&!!t.validate&&!!(ki(t.validate)&&t.validate.constructor.name===AC||In(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AC)),p$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),CC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Dd=(t,e,n,r)=>{for(const a of n||Object.keys(t)){const o=Ne(t,a);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Dd(d,e))break}else if(In(d)&&Dd(d,e))break}}};function xC(t,e,n){const r=Ne(t,n);if(r||cg(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),u=Ne(e,o),d=Ne(t,o);if(u&&!Array.isArray(u)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var g$=(t,e,n,r)=>{n(t);const{name:a,...o}=t;return Or(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||Mi.all))},y$=(t,e,n)=>!t||!e||t===e||Id(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),v$=(t,e,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?r.isOnBlur:a.isOnBlur)?!t:(n?r.isOnChange:a.isOnChange)?t:!0,_$=(t,e)=>!Yw(Ne(t,e)).length&&Sn(t,e),E$=(t,e,n)=>{const r=Id(Ne(t,n));return Wt(r,"root",e[n]),Wt(t,n,r),t};function IC(t,e,n="validate"){if(Zr(t)||Array.isArray(t)&&t.every(Zr)||Xr(t)&&!t)return{type:n,message:Zr(t)?t:"",ref:e}}var Jl=t=>In(t)&&!dp(t)?t:{value:t,message:""},DC=async(t,e,n,r,a,o)=>{const{ref:u,refs:d,required:f,maxLength:h,minLength:g,min:_,max:v,pattern:b,validate:T,name:x,valueAsNumber:R,mount:I}=t._f,O=Ne(n,x);if(!I||e.has(x))return{};const B=d?d[0]:u,j=$=>{a&&B.reportValidity&&(B.setCustomValidity(Xr($)?"":$||""),B.reportValidity())},M={},V=Zw(u),P=Nf(u),D=V||P,k=(R||Jw(u))&&vn(u.value)&&vn(O)||cp(u)&&u.value===""||O===""||Array.isArray(O)&&!O.length,z=l$.bind(null,x,r,M),H=($,N,J,me=Na.maxLength,K=Na.minLength)=>{const ue=$?N:J;M[x]={type:$?me:K,message:ue,ref:u,...z($?me:K,ue)}};if(o?!Array.isArray(O)||!O.length:f&&(!D&&(k||Sr(O))||Xr(O)&&!O||P&&!xM(d).isValid||V&&!DM(d).isValid)){const{value:$,message:N}=Zr(f)?{value:!!f,message:f}:Jl(f);if($&&(M[x]={type:Na.required,message:N,ref:B,...z(Na.required,N)},!r))return j(N),M}if(!k&&(!Sr(_)||!Sr(v))){let $,N;const J=Jl(v),me=Jl(_);if(!Sr(O)&&!isNaN(O)){const K=u.valueAsNumber||O&&+O;Sr(J.value)||($=K>J.value),Sr(me.value)||(N=K<me.value)}else{const K=u.valueAsDate||new Date(O),ue=q=>new Date(new Date().toDateString()+" "+q),pe=u.type=="time",xe=u.type=="week";Zr(J.value)&&O&&($=pe?ue(O)>ue(J.value):xe?O>J.value:K>new Date(J.value)),Zr(me.value)&&O&&(N=pe?ue(O)<ue(me.value):xe?O<me.value:K<new Date(me.value))}if(($||N)&&(H(!!$,J.message,me.message,Na.max,Na.min),!r))return j(M[x].message),M}if((h||g)&&!k&&(Zr(O)||o&&Array.isArray(O))){const $=Jl(h),N=Jl(g),J=!Sr($.value)&&O.length>+$.value,me=!Sr(N.value)&&O.length<+N.value;if((J||me)&&(H(J,$.message,N.message),!r))return j(M[x].message),M}if(b&&!k&&Zr(O)){const{value:$,message:N}=Jl(b);if(dp($)&&!O.match($)&&(M[x]={type:Na.pattern,message:N,ref:u,...z(Na.pattern,N)},!r))return j(N),M}if(T){if(ki(T)){const $=await T(O,n),N=IC($,B);if(N&&(M[x]={...N,...z(Na.validate,N.message)},!r))return j(N.message),M}else if(In(T)){let $={};for(const N in T){if(!Or($)&&!r)break;const J=IC(await T[N](O,n),B,N);J&&($={...J,...z(N,J.message)},j(J.message),r&&(M[x]=$))}if(!Or($)&&(M[x]={ref:B,...$},!r))return M}}return j(!0),M};const w$={mode:Mi.onSubmit,reValidateMode:Mi.onChange,shouldFocusError:!0};function b$(t={}){let e={...w$,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ki(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=In(e.defaultValues)||In(e.values)?Pn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Pn(a),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...g};const v={array:EC(),state:EC()},b=e.criteriaMode===Mi.all,T=F=>Q=>{clearTimeout(h),h=setTimeout(F,Q)},x=async F=>{if(!e.disabled&&(g.isValid||_.isValid||F)){const Q=e.resolver?Or((await P()).errors):await k(r,!0);Q!==n.isValid&&v.state.next({isValid:Q})}},R=(F,Q)=>{!e.disabled&&(g.isValidating||g.validatingFields||_.isValidating||_.validatingFields)&&((F||Array.from(d.mount)).forEach(X=>{X&&(Q?Wt(n.validatingFields,X,Q):Sn(n.validatingFields,X))}),v.state.next({validatingFields:n.validatingFields,isValidating:!Or(n.validatingFields)}))},I=(F,Q=[],X,we,be=!0,ye=!0)=>{if(we&&X&&!e.disabled){if(u.action=!0,ye&&Array.isArray(Ne(r,F))){const Se=X(Ne(r,F),we.argA,we.argB);be&&Wt(r,F,Se)}if(ye&&Array.isArray(Ne(n.errors,F))){const Se=X(Ne(n.errors,F),we.argA,we.argB);be&&Wt(n.errors,F,Se),_$(n.errors,F)}if((g.touchedFields||_.touchedFields)&&ye&&Array.isArray(Ne(n.touchedFields,F))){const Se=X(Ne(n.touchedFields,F),we.argA,we.argB);be&&Wt(n.touchedFields,F,Se)}(g.dirtyFields||_.dirtyFields)&&(n.dirtyFields=au(a,o)),v.state.next({name:F,isDirty:H(F,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Wt(o,F,Q)},O=(F,Q)=>{Wt(n.errors,F,Q),v.state.next({errors:n.errors})},B=F=>{n.errors=F,v.state.next({errors:n.errors,isValid:!1})},j=(F,Q,X,we)=>{const be=Ne(r,F);if(be){const ye=Ne(o,F,vn(X)?Ne(a,F):X);vn(ye)||we&&we.defaultChecked||Q?Wt(o,F,Q?ye:TC(be._f)):J(F,ye),u.mount&&x()}},M=(F,Q,X,we,be)=>{let ye=!1,Se=!1;const je={name:F};if(!e.disabled){if(!X||we){(g.isDirty||_.isDirty)&&(Se=n.isDirty,n.isDirty=je.isDirty=H(),ye=Se!==je.isDirty);const it=ka(Ne(a,F),Q);Se=!!Ne(n.dirtyFields,F),it?Sn(n.dirtyFields,F):Wt(n.dirtyFields,F,!0),je.dirtyFields=n.dirtyFields,ye=ye||(g.dirtyFields||_.dirtyFields)&&Se!==!it}if(X){const it=Ne(n.touchedFields,F);it||(Wt(n.touchedFields,F,X),je.touchedFields=n.touchedFields,ye=ye||(g.touchedFields||_.touchedFields)&&it!==X)}ye&&be&&v.state.next(je)}return ye?je:{}},V=(F,Q,X,we)=>{const be=Ne(n.errors,F),ye=(g.isValid||_.isValid)&&Xr(Q)&&n.isValid!==Q;if(e.delayError&&X?(f=T(()=>O(F,X)),f(e.delayError)):(clearTimeout(h),f=null,X?Wt(n.errors,F,X):Sn(n.errors,F)),(X?!ka(be,X):be)||!Or(we)||ye){const Se={...we,...ye&&Xr(Q)?{isValid:Q}:{},errors:n.errors,name:F};n={...n,...Se},v.state.next(Se)}},P=async F=>{R(F,!0);const Q=await e.resolver(o,e.context,h$(F||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return R(F),Q},D=async F=>{const{errors:Q}=await P(F);if(F)for(const X of F){const we=Ne(Q,X);we?Wt(n.errors,X,we):Sn(n.errors,X)}else n.errors=Q;return Q},k=async(F,Q,X={valid:!0})=>{for(const we in F){const be=F[we];if(be){const{_f:ye,...Se}=be;if(ye){const je=d.array.has(ye.name),it=be._f&&m$(be._f);it&&g.validatingFields&&R([ye.name],!0);const xt=await DC(be,d.disabled,o,b,e.shouldUseNativeValidation&&!Q,je);if(it&&g.validatingFields&&R([ye.name]),xt[ye.name]&&(X.valid=!1,Q))break;!Q&&(Ne(xt,ye.name)?je?E$(n.errors,xt,ye.name):Wt(n.errors,ye.name,xt[ye.name]):Sn(n.errors,ye.name))}!Or(Se)&&await k(Se,Q,X)}}return X.valid},z=()=>{for(const F of d.unMount){const Q=Ne(r,F);Q&&(Q._f.refs?Q._f.refs.every(X=>!$v(X)):!$v(Q._f.ref))&&pt(F)}d.unMount=new Set},H=(F,Q)=>!e.disabled&&(F&&Q&&Wt(o,F,Q),!ka(q(),a)),$=(F,Q,X)=>SM(F,d,{...u.mount?o:vn(Q)?a:Zr(F)?{[F]:Q}:Q},X,Q),N=F=>Yw(Ne(u.mount?o:a,F,e.shouldUnregister?Ne(a,F,[]):[])),J=(F,Q,X={})=>{const we=Ne(r,F);let be=Q;if(we){const ye=we._f;ye&&(!ye.disabled&&Wt(o,F,IM(Q,ye)),be=cp(ye.ref)&&Sr(Q)?"":Q,AM(ye.ref)?[...ye.ref.options].forEach(Se=>Se.selected=be.includes(Se.value)):ye.refs?Nf(ye.ref)?ye.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(be)?Se.checked=!!be.find(je=>je===Se.value):Se.checked=be===Se.value||!!be)}):ye.refs.forEach(Se=>Se.checked=Se.value===be):Jw(ye.ref)?ye.ref.value="":(ye.ref.value=be,ye.ref.type||v.state.next({name:F,values:Pn(o)})))}(X.shouldDirty||X.shouldTouch)&&M(F,be,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&xe(F)},me=(F,Q,X)=>{for(const we in Q){if(!Q.hasOwnProperty(we))return;const be=Q[we],ye=F+"."+we,Se=Ne(r,ye);(d.array.has(F)||In(be)||Se&&!Se._f)&&!Qo(be)?me(ye,be,X):J(ye,be,X)}},K=(F,Q,X={})=>{const we=Ne(r,F),be=d.array.has(F),ye=Pn(Q);Wt(o,F,ye),be?(v.array.next({name:F,values:Pn(o)}),(g.isDirty||g.dirtyFields||_.isDirty||_.dirtyFields)&&X.shouldDirty&&v.state.next({name:F,dirtyFields:au(a,o),isDirty:H(F,ye)})):we&&!we._f&&!Sr(ye)?me(F,ye,X):J(F,ye,X),CC(F,d)&&v.state.next({...n,name:F}),v.state.next({name:u.mount?F:void 0,values:Pn(o)})},ue=async F=>{u.mount=!0;const Q=F.target;let X=Q.name,we=!0;const be=Ne(r,X),ye=it=>{we=Number.isNaN(it)||Qo(it)&&isNaN(it.getTime())||ka(it,Ne(o,X,it))},Se=RC(e.mode),je=RC(e.reValidateMode);if(be){let it,xt;const ji=Q.type?TC(be._f):_M(F),cn=F.type===up.BLUR||F.type===up.FOCUS_OUT,ca=!p$(be._f)&&!e.resolver&&!Ne(n.errors,X)&&!be._f.deps||v$(cn,Ne(n.touchedFields,X),n.isSubmitted,je,Se),Yn=CC(X,d,cn);Wt(o,X,ji),cn?(!Q||!Q.readOnly)&&(be._f.onBlur&&be._f.onBlur(F),f&&f(0)):be._f.onChange&&be._f.onChange(F);const pr=M(X,ji,cn),gr=!Or(pr)||Yn;if(!cn&&v.state.next({name:X,type:F.type,values:Pn(o)}),ca)return(g.isValid||_.isValid)&&(e.mode==="onBlur"?cn&&x():cn||x()),gr&&v.state.next({name:X,...Yn?{}:pr});if(!cn&&Yn&&v.state.next({...n}),e.resolver){const{errors:jn}=await P([X]);if(ye(ji),we){const yr=xC(n.errors,r,X),ii=xC(jn,r,yr.name||X);it=ii.error,X=ii.name,xt=Or(jn)}}else R([X],!0),it=(await DC(be,d.disabled,o,b,e.shouldUseNativeValidation))[X],R([X]),ye(ji),we&&(it?xt=!1:(g.isValid||_.isValid)&&(xt=await k(r,!0)));we&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&xe(be._f.deps),V(X,xt,it,pr))}},pe=(F,Q)=>{if(Ne(n.errors,Q)&&F.focus)return F.focus(),1},xe=async(F,Q={})=>{let X,we;const be=Id(F);if(e.resolver){const ye=await D(vn(F)?F:be);X=Or(ye),we=F?!be.some(Se=>Ne(ye,Se)):X}else F?(we=(await Promise.all(be.map(async ye=>{const Se=Ne(r,ye);return await k(Se&&Se._f?{[ye]:Se}:Se)}))).every(Boolean),!(!we&&!n.isValid)&&x()):we=X=await k(r);return v.state.next({...!Zr(F)||(g.isValid||_.isValid)&&X!==n.isValid?{}:{name:F},...e.resolver||!F?{isValid:X}:{},errors:n.errors}),Q.shouldFocus&&!we&&Dd(r,pe,F?be:d.mount),we},q=(F,Q)=>{let X={...u.mount?o:a};return Q&&(X=RM(Q.dirtyFields?n.dirtyFields:n.touchedFields,X)),vn(F)?X:Zr(F)?Ne(X,F):F.map(we=>Ne(X,we))},se=(F,Q)=>({invalid:!!Ne((Q||n).errors,F),isDirty:!!Ne((Q||n).dirtyFields,F),error:Ne((Q||n).errors,F),isValidating:!!Ne(n.validatingFields,F),isTouched:!!Ne((Q||n).touchedFields,F)}),Te=F=>{F&&Id(F).forEach(Q=>Sn(n.errors,Q)),v.state.next({errors:F?n.errors:{}})},fe=(F,Q,X)=>{const we=(Ne(r,F,{_f:{}})._f||{}).ref,be=Ne(n.errors,F)||{},{ref:ye,message:Se,type:je,...it}=be;Wt(n.errors,F,{...it,...Q,ref:we}),v.state.next({name:F,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&we&&we.focus&&we.focus()},Re=(F,Q)=>ki(F)?v.state.subscribe({next:X=>"values"in X&&F($(void 0,Q),X)}):$(F,Q,!0),ke=F=>v.state.subscribe({next:Q=>{y$(F.name,Q.name,F.exact)&&g$(Q,F.formState||g,Nt,F.reRenderRoot)&&F.callback({values:{...o},...n,...Q,defaultValues:a})}}).unsubscribe,Oe=F=>(u.mount=!0,_={..._,...F.formState},ke({...F,formState:_})),pt=(F,Q={})=>{for(const X of F?Id(F):d.mount)d.mount.delete(X),d.array.delete(X),Q.keepValue||(Sn(r,X),Sn(o,X)),!Q.keepError&&Sn(n.errors,X),!Q.keepDirty&&Sn(n.dirtyFields,X),!Q.keepTouched&&Sn(n.touchedFields,X),!Q.keepIsValidating&&Sn(n.validatingFields,X),!e.shouldUnregister&&!Q.keepDefaultValue&&Sn(a,X);v.state.next({values:Pn(o)}),v.state.next({...n,...Q.keepDirty?{isDirty:H()}:{}}),!Q.keepIsValid&&x()},st=({disabled:F,name:Q})=>{(Xr(F)&&u.mount||F||d.disabled.has(Q))&&(F?d.disabled.add(Q):d.disabled.delete(Q))},Mt=(F,Q={})=>{let X=Ne(r,F);const we=Xr(Q.disabled)||Xr(e.disabled);return Wt(r,F,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:F}},name:F,mount:!0,...Q}}),d.mount.add(F),X?st({disabled:Xr(Q.disabled)?Q.disabled:e.disabled,name:F}):j(F,!0,Q.value),{...we?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:ud(Q.min),max:ud(Q.max),minLength:ud(Q.minLength),maxLength:ud(Q.maxLength),pattern:ud(Q.pattern)}:{},name:F,onChange:ue,onBlur:ue,ref:be=>{if(be){Mt(F,Q),X=Ne(r,F);const ye=vn(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Se=u$(ye),je=X._f.refs||[];if(Se?je.find(it=>it===ye):ye===X._f.ref)return;Wt(r,F,{_f:{...X._f,...Se?{refs:[...je.filter($v),ye,...Array.isArray(Ne(a,F))?[{}]:[]],ref:{type:ye.type,name:F}}:{ref:ye}}}),j(F,!1,void 0,ye)}else X=Ne(r,F,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(EM(d.array,F)&&u.action)&&d.unMount.add(F)}}},ft=()=>e.shouldFocusError&&Dd(r,pe,d.mount),Ct=F=>{Xr(F)&&(v.state.next({disabled:F}),Dd(r,(Q,X)=>{const we=Ne(r,X);we&&(Q.disabled=we._f.disabled||F,Array.isArray(we._f.refs)&&we._f.refs.forEach(be=>{be.disabled=we._f.disabled||F}))},0,!1))},Zt=(F,Q)=>async X=>{let we;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let be=Pn(o);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:Se}=await P();n.errors=ye,be=Pn(Se)}else await k(r);if(d.disabled.size)for(const ye of d.disabled)Sn(be,ye);if(Sn(n.errors,"root"),Or(n.errors)){v.state.next({errors:{}});try{await F(be,X)}catch(ye){we=ye}}else Q&&await Q({...n.errors},X),ft(),setTimeout(ft);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},un=(F,Q={})=>{Ne(r,F)&&(vn(Q.defaultValue)?K(F,Pn(Ne(a,F))):(K(F,Q.defaultValue),Wt(a,F,Pn(Q.defaultValue))),Q.keepTouched||Sn(n.touchedFields,F),Q.keepDirty||(Sn(n.dirtyFields,F),n.isDirty=Q.defaultValue?H(F,Pn(Ne(a,F))):H()),Q.keepError||(Sn(n.errors,F),g.isValid&&x()),v.state.next({...n}))},Dt=(F,Q={})=>{const X=F?Pn(F):a,we=Pn(X),be=Or(F),ye=be?a:we;if(Q.keepDefaultValues||(a=X),!Q.keepValues){if(Q.keepDirtyValues){const Se=new Set([...d.mount,...Object.keys(au(a,o))]);for(const je of Array.from(Se))Ne(n.dirtyFields,je)?Wt(ye,je,Ne(o,je)):K(je,Ne(ye,je))}else{if(Kw&&vn(F))for(const Se of d.mount){const je=Ne(r,Se);if(je&&je._f){const it=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(cp(it)){const xt=it.closest("form");if(xt){xt.reset();break}}}}if(Q.keepFieldsRef)for(const Se of d.mount)K(Se,Ne(ye,Se));else r={}}o=e.shouldUnregister?Q.keepDefaultValues?Pn(a):{}:Pn(ye),v.array.next({values:{...ye}}),v.state.next({values:{...ye}})}d={mount:Q.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,u.watch=!!e.shouldUnregister,v.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:be?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!ka(F,a)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:be?{}:Q.keepDirtyValues?Q.keepDefaultValues&&o?au(a,o):n.dirtyFields:Q.keepDefaultValues&&F?au(a,F):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},gt=(F,Q)=>Dt(ki(F)?F(o):F,Q),Dn=(F,Q={})=>{const X=Ne(r,F),we=X&&X._f;if(we){const be=we.refs?we.refs[0]:we.ref;be.focus&&(be.focus(),Q.shouldSelect&&ki(be.select)&&be.select())}},Nt=F=>{n={...n,...F}},ge={control:{register:Mt,unregister:pt,getFieldState:se,handleSubmit:Zt,setError:fe,_subscribe:ke,_runSchema:P,_focusError:ft,_getWatch:$,_getDirty:H,_setValid:x,_setFieldArray:I,_setDisabledField:st,_setErrors:B,_getFieldArray:N,_reset:Dt,_resetDefaultValues:()=>ki(e.defaultValues)&&e.defaultValues().then(F=>{gt(F,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Ct,_subjects:v,_proxyFormState:g,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(F){u=F},get _defaultValues(){return a},get _names(){return d},set _names(F){d=F},get _formState(){return n},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:Oe,trigger:xe,register:Mt,handleSubmit:Zt,watch:Re,setValue:K,getValues:q,reset:gt,resetField:un,clearErrors:Te,unregister:pt,setError:fe,setFocus:Dn,getFieldState:se};return{...ge,formControl:ge}}function S$(t={}){const e=Pe.useRef(void 0),n=Pe.useRef(void 0),[r,a]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ki(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ki(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...d}=b$(t);e.current={...d,formState:r}}const o=e.current.control;return o._options=t,Xw(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),Pe.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Pe.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Pe.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Pe.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),Pe.useEffect(()=>{t.values&&!ka(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,a(u=>({...u}))):o._resetDefaultValues()},[o,t.values]),Pe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=bM(r,o),e.current}async function T$(t,e,n){const r=Vu(Zu(hr,"submissions"),Vs("formId","==",t),Vs("staffKey","==",e),Vs("dateKey","==",n),If("createdAt","asc"));return(await Df(r)).docs}async function R$(t,e,n){const r=`${t}__${n}__${e}`,a=ua(hr,"counters",r);return await e$(hr,async u=>{const d=await u.get(a),f=(d.exists()?d.data().value:0)??0;return u.set(a,{value:f+1},{merge:!0}),f+1})}async function A$(t){return QH(Zu(hr,"submissions"),t)}async function C$(t){const e=Zu(hr,"submissions"),n=[];t.formId&&n.push(Vs("formId","==",t.formId)),t.staffKey&&n.push(Vs("staffKey","==",t.staffKey)),t.createdFrom&&n.push(Vs("createdAt",">=",t.createdFrom)),t.createdTo&&n.push(Vs("createdAt","<",t.createdTo));const r=Vu(e,...n,If("createdAt","desc"),HH(t.pageSize??25)),a=await Df(t.after?Vu(r,$H(t.after)):r);return{items:a.docs.map(u=>{const d=u.data(),f=d.createdAt?.toDate?.()??d.createdAt??null;return{id:u.id,...d,createdAt:f}}),cursor:a.docs.length>0?a.docs[a.docs.length-1]:null}}function q_(t,e){if(!t)return!0;if("and"in t)return t.and.every(u=>q_(u,e));if("or"in t)return t.or.some(u=>q_(u,e));const n=e[t.field],r=t.op,a=t.value,o=Array.isArray(n);switch(r){case"eq":return typeof n=="boolean"?n?a==="true":a==="false":o?n.includes(a):n===a;case"neq":return o?!n.includes(a):n!==a;case"in":return Array.isArray(a)?o?n.some(u=>a.includes(u)):a.includes(n):!1;default:return!0}}function NM({formDef:t,staff:e,staffKey:n,dateKey:r,getNextSequence:a}){const{register:o,control:u,handleSubmit:d,reset:f,formState:{isSubmitting:h,errors:g}}=S$({defaultValues:{},shouldUnregister:!0}),_=TM({control:u}),v=({f:I})=>w.jsxs($e.Label,{children:[I.label,I.required?w.jsx("span",{className:"text-danger ms-1",children:"*"}):null]}),b=({id:I})=>g?.[I]?w.jsx("div",{className:"invalid-feedback d-block",children:g[I].message||"Required"}):null,T=I=>I.required?{required:"Required"}:void 0,x=I=>{if(!q_(I.showIf,_))return null;switch(I.type){case"text":return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsx($e.Control,{...o(I.id,{...T(I)}),placeholder:I.placeholder,isInvalid:!!g?.[I.id]}),w.jsx(b,{id:I.id})]},I.id);case"number":return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsx($e.Control,{type:"number",...o(I.id,{valueAsNumber:!0,...T(I)||{}}),placeholder:I.placeholder,isInvalid:!!g?.[I.id]}),w.jsx(b,{id:I.id})]},I.id);case"boolean":{const O=I.required?{validate:M=>M===!0||M===!1||"Required"}:void 0,B=I.switchLabel??"Yes",j=I.noLabel??"No";return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsx(_C,{name:I.id,control:u,defaultValue:void 0,rules:O,render:({field:M})=>{const V=M.value;return w.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[w.jsx($e.Check,{type:"radio",id:`${I.id}__yes`,name:I.id,inline:!0,label:B,checked:V===!0,onChange:()=>M.onChange(!0)}),w.jsx($e.Check,{type:"radio",id:`${I.id}__no`,name:I.id,inline:!0,label:j,checked:V===!1,onChange:()=>M.onChange(!1)}),w.jsx(Je,{variant:"outline-secondary",size:"sm",onClick:()=>M.onChange(void 0),children:"Clear"})]})}}),w.jsx(b,{id:I.id})]},I.id)}case"select":return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsxs($e.Select,{...o(I.id,{...T(I)}),isInvalid:!!g?.[I.id],children:[w.jsx("option",{value:"",children:"Select…"}),(I.options??[]).map(O=>w.jsx("option",{value:O,children:O},O))]}),w.jsx(b,{id:I.id})]},I.id);case"checklist":{const O=Array.isArray(I.options)?I.options:[],B=I.required?{validate:j=>Array.isArray(j)&&j.length>0||"Required"}:void 0;return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsx(_C,{name:I.id,control:u,defaultValue:[],rules:B,render:({field:j})=>w.jsx("div",{children:O.length===0?w.jsx("div",{className:"text-muted",children:"No options."}):O.map(M=>{const V=Array.isArray(j.value)&&j.value.includes(M);return w.jsx($e.Check,{type:"checkbox",id:`${I.id}__${M}`,label:M,checked:V,onChange:P=>{const D=new Set(Array.isArray(j.value)?j.value:[]);P.currentTarget.checked?D.add(M):D.delete(M),j.onChange(Array.from(D))}},M)})})}),w.jsx(b,{id:I.id})]},I.id)}default:return w.jsxs($e.Group,{className:"mb-3",children:[w.jsx(v,{f:I}),w.jsx($e.Control,{...o(I.id,{...T(I)}),isInvalid:!!g?.[I.id]}),w.jsx(b,{id:I.id})]},I.id)}},R=async I=>{let O;if(a)try{O=await a()}catch{}await A$({formId:t.id,period:t.period,dateKey:r,staff:e,staffKey:n,sequence:O,answers:I,createdAt:new Date}),alert("Submitted!"),f({})};return w.jsxs($e,{onSubmit:d(R),children:[w.jsx("h2",{className:"mb-2",children:t.title}),w.jsxs("div",{className:"text-muted mb-3",children:[t.period==="weekly"?"Week":"Date",": ",w.jsx("code",{children:r})," ","· Staff: ",w.jsx("strong",{children:e[0]})," & ",w.jsx("strong",{children:e[1]})]}),(t.sections??[]).map((I,O)=>w.jsxs("fieldset",{className:"mb-4",children:[I.title&&w.jsx("legend",{className:"h5",children:I.title}),(I.fields??[]).map(B=>x(B))]},O)),w.jsxs("div",{className:"text-muted mb-2",children:[w.jsx("span",{className:"text-danger",children:"*"})," required"]}),w.jsx(Je,{type:"submit",disabled:h,children:h?"Submitting…":"Submit"})]})}async function OM(t){const e=await YH(ua(hr,"forms",t));return e.exists()?{id:e.id,...e.data()}:null}async function MM(){const t=Vu(Zu(hr,"forms"),If("__name__"));return(await Df(t)).docs.map(n=>({id:n.id,...n.data()}))}async function x$(t,e){await qw(ua(hr,"forms",t),e,{merge:!1})}async function I$(t){await pM(ua(hr,"forms",t))}async function D$(){console.log("[staff] listing");try{const t=Vu(Zu(hr,"staff"),Vs("active","==",!0),If("name"));console.log("[staff] query",t);const e=await Df(t);return console.log("[staff] snap size",e.size),e.docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("[staff] listActiveStaff failed:",t?.code,t?.message,t),t}}async function N$(){const t=Vu(Zu(hr,"staff"),If("name"));return(await Df(t)).docs.map(n=>({id:n.id,...n.data()}))}async function O$(t,e=!0){const n=t.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").slice(0,40)||crypto.randomUUID();return await qw(ua(hr,"staff",n),{name:t,active:e}),n}async function M$(t,e){await mM(ua(hr,"staff",t),{name:e})}async function NC(t,e){await mM(ua(hr,"staff",t),{active:e})}async function k$(t){await pM(ua(hr,"staff",t))}async function P$(t){for(const e of t){const n=e.name.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").slice(0,40);await qw(ua(hr,"staff",n||crypto.randomUUID()),{name:e.name,active:e.active??!0},{merge:!0})}}function OC(t){return t.trim().toLowerCase().replace(/\s+/g," ")}function kM(t,e){const[n,r]=[OC(t),OC(e)].sort();return`${n}__${r}`}function MC(t=new Date){return t.toISOString().slice(0,10)}function L$(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=(e.getUTCDay()+6)%7;e.setUTCDate(e.getUTCDate()-n+3);const r=e.getUTCFullYear(),a=new Date(Date.UTC(r,0,4)),o=(a.getUTCDay()+6)%7;a.setUTCDate(a.getUTCDate()-o+3);const u=1+Math.round((e.getTime()-a.getTime())/6048e5);return{isoYear:r,week:u}}function kC(t=new Date){const{isoYear:e,week:n}=L$(t);return`${e}-W${String(n).padStart(2,"0")}`}function PC({formId:t}){const[e]=pE(),[n,r]=E.useState(null),[a,o]=E.useState(!0),[u,d]=E.useState(null),[f,h]=E.useState([]),[g,_]=E.useState(""),[v,b]=E.useState(""),[T,x]=E.useState([]),[R,I]=E.useState(!1);E.useEffect(()=>{const M=e.get("s");if(M){const[V,P]=M.split(",").map(D=>D.trim()).filter(Boolean);V&&_(V),P&&b(P)}},[]),E.useEffect(()=>{let M=!0;return(async()=>{try{o(!0);const V=await OM(t);if(!M)return;V?(r(V),d(null)):(d(`Form "${t}" not found.`),r(null))}catch(V){d(V?.message??"Failed to load form.")}finally{M&&o(!1)}})(),()=>{M=!1}},[t]),E.useEffect(()=>{let M=!0;return(async()=>{try{const V=await D$();if(!M)return;h(V.map(P=>({id:P.id,name:P.name})))}catch{}})(),()=>{M=!1}},[]);const O=!!g&&!!v&&g!==v,B=E.useMemo(()=>n?n.period==="weekly"?kC():MC():"",[n]),j=E.useMemo(()=>O?kM(g,v):"",[O,g,v]);return E.useEffect(()=>{let M=!0;(async()=>{if(!n||!O){x([]);return}I(!0);try{const V=n.period==="weekly"?kC():MC(),P=await T$(t,j,V);x(P.map(D=>({id:D.id,...D.data()})))}catch{x([])}finally{I(!1)}})()},[n,O,j,t]),w.jsxs(ol,{className:"py-4",children:[w.jsx(aa,{className:"mb-3",children:w.jsxs(_n,{children:[w.jsx("h1",{className:"h3 m-0",children:"Checklist"}),w.jsx("div",{className:"text-muted",children:t})]})}),a&&w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Loading form…"})]}),!a&&u&&w.jsx(Fs,{variant:"danger",children:u}),!a&&!u&&w.jsx(qt,{className:"mb-3",children:w.jsxs(qt.Body,{children:[w.jsx(qt.Title,{children:"Select on-duty staff"}),w.jsxs(aa,{className:"g-2",children:[w.jsxs(_n,{xs:12,md:6,children:[w.jsx($e.Label,{children:"Staff A"}),w.jsxs($e.Select,{value:g,onChange:M=>_(M.target.value),children:[w.jsx("option",{value:"",children:"Select…"}),f.map(M=>w.jsx("option",{value:M.name,children:M.name},M.id))]})]}),w.jsxs(_n,{xs:12,md:6,children:[w.jsx($e.Label,{children:"Staff B"}),w.jsxs($e.Select,{value:v,onChange:M=>b(M.target.value),children:[w.jsx("option",{value:"",children:"Select…"}),f.map(M=>w.jsx("option",{value:M.name,children:M.name},M.id))]})]})]}),g&&v&&g===v&&w.jsx("div",{className:"text-danger mt-2",children:"Pick two different people."}),w.jsxs("div",{className:"form-text mt-2",children:["Tip: deep link with ",w.jsx("code",{children:"?s=Alice,Bob"})," in the URL (print as a QR on the rig)."]})]})}),!a&&!u&&O&&n&&T.length>0&&w.jsx(qt,{className:"mb-3",children:w.jsxs(qt.Body,{children:[w.jsxs(qt.Title,{children:["Submissions for"," ",n.period==="weekly"?"this week":"today"]}),R?w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Loading…"})]}):T.length>0?w.jsx("div",{className:"table-responsive",children:w.jsxs(pf,{hover:!0,size:"sm",className:"m-0",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{width:80},children:"#"}),w.jsx("th",{children:"Created"}),w.jsx("th",{children:"Notes"})]})}),w.jsx("tbody",{children:T.map((M,V)=>w.jsxs("tr",{children:[w.jsx("td",{children:M.sequence??V+1}),w.jsx("td",{children:M.createdAt?.toDate?.().toLocaleString?.()??"—"}),w.jsx("td",{className:"text-muted",children:M.answers?.fuel_notes||M.answers?.defib_notes||"—"})]},M.id))})]})}):w.jsx("div",{className:"text-muted",children:"No submissions yet."})]})}),!a&&!u&&O&&n&&w.jsx(NM,{formDef:n,staff:[g,v],staffKey:j,dateKey:B,getNextSequence:n?async()=>R$(t,j,B):void 0})]})}function um({children:t,allowEmails:e=["eric@bllk.forms"]}){const{user:n,loading:r,signOut:a}=Gw(),o=mr();if(r)return w.jsxs("div",{className:"d-flex align-items-center gap-2 p-3",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Checking session…"})]});if(!n)return w.jsx(Px,{to:`/login?next=${encodeURIComponent(o.pathname+o.search)}`,replace:!0});const u=(n?.email??"").toLowerCase();return!e||e.length===0||e.map(f=>f.toLowerCase()).includes(u)?w.jsx(w.Fragment,{children:t}):w.jsxs("div",{className:"p-3",children:[w.jsxs(Fs,{variant:"danger",className:"mb-3",children:["You’re signed in as ",w.jsx("strong",{children:n.email||"unknown"}),", but you’re not authorized to access this page."]}),w.jsx(Je,{variant:"outline-secondary",onClick:()=>a?.()??Promise.resolve(),children:"Sign out"})]})}const qv={title:"Untitled Checklist",period:"daily",sections:[{title:"New Section",fields:[{_uid:crypto.randomUUID(),id:"example",type:"text",label:"Example field"}]}]};function Nr(t){return JSON.parse(JSON.stringify(t))}function LC(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,40)||"field"}function Gv(t,e,n){let r=1,a=e;const o=new Set(t.fields.filter(u=>u._uid!==n).map(u=>u.id));for(;o.has(a);)a=`${e}_${r++}`;return a}function cm(t){if(!t||typeof t!="object"||!["daily","weekly"].includes(t.period)||typeof t.title!="string"||!Array.isArray(t.sections))return!1;for(const e of t.sections){if(!e||typeof e!="object"||typeof e.title!="string"||!Array.isArray(e.fields))return!1;for(const n of e.fields)if(typeof n?.id!="string"||!["text","number","boolean","select","checklist"].includes(n.type)||typeof n.label!="string"||(n.type==="select"||n.type==="checklist")&&n.options&&!Array.isArray(n.options))return!1}return!0}function VC(t){return{title:t.title,period:t.period,sections:(t.sections??[]).map(e=>({title:e.title,fields:(e.fields??[]).map(n=>({_uid:crypto.randomUUID(),id:n.id,type:n.type,label:n.label,placeholder:n.placeholder,required:n.required,options:n.options,switchLabel:n.switchLabel,showIf:n.showIf}))}))}}function Zl(t){return{title:t.title,period:t.period,sections:t.sections.map(e=>({title:e.title,fields:e.fields.map(({_uid:n,...r})=>r)}))}}function V$(t){return!!t&&(Object.prototype.hasOwnProperty.call(t,"and")||Object.prototype.hasOwnProperty.call(t,"or"))}function j$(t){return t.and?"and":"or"}function U$(t){return t.and??t.or}function Go(t,e=[]){return t==="and"?{and:e}:{or:e}}function cd(){return{field:"",op:"eq",value:""}}function PM({value:t,onChange:e}){const n=()=>e(void 0);if(!t)return w.jsx("div",{className:"border rounded p-2 bg-body-secondary",children:w.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[w.jsx(Je,{size:"sm",onClick:()=>e(cd()),children:"+ Condition"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>e(Go("and",[cd()])),children:"+ AND Group"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>e(Go("or",[cd()])),children:"+ OR Group"})]})});if(!V$(t)){const g=t,_=g.op==="in",v=Array.isArray(g.value)?g.value.join("|"):g.value??"";return w.jsxs("div",{className:"border rounded p-2 bg-body-tertiary",children:[w.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-start",children:[w.jsx($e.Control,{placeholder:"field",value:g.field,onChange:b=>e({...g,field:b.target.value}),style:{maxWidth:200}}),w.jsxs($e.Select,{value:g.op,onChange:b=>{const T=b.target.value,x=T==="in"?Array.isArray(g.value)?g.value:[]:Array.isArray(g.value)?"":g.value??"";e({...g,op:T,value:x})},style:{maxWidth:110},children:[w.jsx("option",{value:"eq",children:"eq"}),w.jsx("option",{value:"neq",children:"neq"}),w.jsx("option",{value:"in",children:"in"})]}),w.jsx($e.Control,{placeholder:_?"a|b|c":"value",value:v,onChange:b=>{if(_){const T=b.target.value.split("|").map(x=>x.trim()).filter(Boolean);e({...g,value:T})}else e({...g,value:b.target.value})},style:{minWidth:200}}),w.jsx(Je,{size:"sm",variant:"outline-danger",onClick:n,children:"Remove"})]}),w.jsxs("div",{className:"form-text mt-1",children:["For checklist/array fields, ",w.jsx("code",{children:"eq"})," means “includes value”. Use ",w.jsx("code",{children:"in"})," for any-of."]})]})}const r=t,a=j$(r),o=U$(r),u=g=>e(Go(g,o)),d=(g,_)=>{const v=[...o];_?v[g]=_:v.splice(g,1),v.length===0?e(void 0):e(Go(a,v))},f=()=>e(Go(a,[...o,cd()])),h=g=>e(Go(a,[...o,Go(g,[cd()])]));return w.jsxs("div",{className:"border rounded p-2 bg-body-tertiary",children:[w.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx("span",{className:"fw-semibold text-uppercase small",children:"Group"}),w.jsxs(Vm,{size:"sm",children:[w.jsx(Je,{variant:a==="and"?"secondary":"outline-secondary",onClick:()=>u("and"),children:"AND"}),w.jsx(Je,{variant:a==="or"?"secondary":"outline-secondary",onClick:()=>u("or"),children:"OR"})]})]}),w.jsx("div",{className:"d-flex gap-2",children:w.jsx(Je,{size:"sm",variant:"outline-danger",onClick:()=>e(void 0),children:"Remove Group"})})]}),w.jsx("div",{className:"d-flex flex-column gap-2",children:o.map((g,_)=>w.jsx("div",{children:w.jsx(PM,{value:g,onChange:v=>d(_,v)})},_))}),w.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[w.jsx(Je,{size:"sm",onClick:f,children:"+ Condition"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>h("and"),children:"+ AND Group"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>h("or"),children:"+ OR Group"})]})]})}function F$(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[a,o]=E.useState(null),[u,d]=E.useState(Nr(qv)),[f,h]=E.useState(!1),[g,_]=E.useState({}),[v,b]=E.useState(null),[T,x]=E.useState(!1),[R,I]=E.useState(null),[O,B]=E.useState(!1),[j,M]=E.useState(""),[V,P]=E.useState({}),D=Ae=>P(ge=>({...ge,[Ae]:!ge[Ae]})),[k,z]=E.useState({}),H=Ae=>k[Ae._uid]??Ae.id,$=(Ae,ge)=>z(F=>({...F,[Ae._uid]:ge}));function N(Ae,ge,F){const Q=k[F._uid]??F.id??"",X=LC(Q);if(X===F.id){z(be=>({...be,[F._uid]:F.id}));return}let we;we=Gv(u.sections[Ae],X,F._uid),Ct(Ae,ge,{id:we}),z(be=>({...be,[F._uid]:we}))}const J=async()=>{r(!0);try{const Ae=await MM();e(Ae)}catch(Ae){b({variant:"danger",msg:Ae?.message??"Failed to load forms."}),e([])}finally{r(!1)}};E.useEffect(()=>{J()},[]);const me=async Ae=>{try{const ge=await OM(Ae);if(!ge)throw new Error("Form not found");const{id:F,...Q}=ge,X=cm(Q)?Q:Zl(qv),we=VC(X);o(Ae),d(Nr(we)),_({}),z({}),h(!1),b(null)}catch(ge){b({variant:"danger",msg:ge?.message??"Failed to load form."})}},K=()=>{o(null),d(Nr(qv)),_({}),z({}),h(!1),b(null)},[ue,pe]=E.useState("daily"),xe=E.useMemo(()=>!!u?.title&&(a||ue),[u?.title,a,ue]),q=async()=>{if(!xe)return;const Ae=a??ue.trim();if(!Ae){b({variant:"warning",msg:"Please enter a form ID."});return}const ge=Zl(u);if(!cm(ge)){b({variant:"warning",msg:"Form JSON is invalid. Fix errors first."});return}try{x(!0),await x$(Ae,ge),o(Ae),h(!1),b({variant:"success",msg:`Saved form "${Ae}".`}),await J()}catch(F){b({variant:"danger",msg:F?.message??"Failed to save form."})}finally{x(!1)}},se=async Ae=>{if(confirm(`Delete form "${Ae}"?`))try{I(Ae),await I$(Ae),a===Ae&&K(),b({variant:"success",msg:`Deleted "${Ae}".`}),await J()}catch(ge){b({variant:"danger",msg:ge?.message??"Failed to delete form."})}finally{I(null)}},Te=()=>{M(JSON.stringify(Zl(u),null,2)),B(!0)},fe=()=>{try{const Ae=JSON.parse(j);if(!cm(Ae)){b({variant:"warning",msg:"Invalid JSON shape."});return}const ge=VC(Ae);d(ge),_({}),z({}),h(!0),B(!1)}catch(Ae){b({variant:"danger",msg:Ae?.message??"Invalid JSON."})}},Re=()=>{const Ae=JSON.stringify(Zl(u),null,2),ge=new Blob([Ae],{type:"application/json"}),F=document.createElement("a");F.href=URL.createObjectURL(ge),F.download=`${a??"new-form"}.json`,document.body.appendChild(F),F.click(),F.remove()},ke=(Ae,ge)=>{d(F=>{const Q=Nr(F);return Q[Ae]=ge,Q}),h(!0)},Oe=(Ae,ge)=>{d(F=>{const Q=Nr(F);return Q.sections[Ae]={...Q.sections[Ae],...ge},Q}),h(!0)},pt=()=>{d(Ae=>{const ge=Nr(Ae);return ge.sections.push({title:`Section ${ge.sections.length+1}`,fields:[]}),ge}),h(!0)},st=Ae=>{d(ge=>{const F=Nr(ge);return F.sections.splice(Ae,1),F}),h(!0)},Mt=(Ae,ge)=>{d(F=>{const Q=Nr(F),X=Ae+ge;if(X<0||X>=Q.sections.length)return Q;const[we]=Q.sections.splice(Ae,1);return Q.sections.splice(X,0,we),Q}),h(!0)},ft=(Ae,ge)=>{d(F=>{const Q=Nr(F),X=Q.sections[Ae],we=ge==="boolean"?"OK?":ge==="number"?"Number":ge==="select"?"Select":ge==="checklist"?"Checklist":"Text",be=Gv(X,LC(we)),ye={_uid:crypto.randomUUID(),id:be,type:ge,label:we};return(ge==="select"||ge==="checklist")&&(ye.options=["Option A","Option B"]),ge==="boolean"&&(ye.switchLabel="Yes"),X.fields.push(ye),Q}),h(!0)},Ct=(Ae,ge,F)=>{d(Q=>{const X=Nr(Q);return X.sections[Ae].fields[ge]={...X.sections[Ae].fields[ge],...F},X}),h(!0)},Zt=(Ae,ge,F)=>{d(Q=>{const X=Nr(Q),we=X.sections[Ae].fields,be=ge+F;if(be<0||be>=we.length)return X;const[ye]=we.splice(ge,1);return we.splice(be,0,ye),X}),h(!0)},un=(Ae,ge)=>{d(F=>{const Q=Nr(F),X=Q.sections[Ae].fields[ge];return _(we=>{const be={...we};return delete be[X._uid],be}),Q.sections[Ae].fields.splice(ge,1),Q}),h(!0)},Dt=cm(Zl(u)),gt=Ae=>g[Ae._uid]??(Ae.options??[]).join(", "),Dn=(Ae,ge)=>_(F=>({...F,[Ae._uid]:ge})),Nt=(Ae,ge,F)=>{const X=gt(F).split(",").map(we=>we.trim()).filter(we=>we.length>0);Ct(Ae,ge,{options:X.length?X:void 0})};return w.jsxs(ol,{fluid:!0,className:"py-3",children:[w.jsxs(aa,{children:[w.jsxs(_n,{md:3,lg:2,className:"mb-3",children:[w.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[w.jsx("h2",{className:"h6 m-0",children:"Forms"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:J,children:"Refresh"})]}),w.jsx(qt,{children:w.jsx(qt.Body,{className:"p-0",children:n?w.jsxs("div",{className:"p-3 d-flex align-items-center gap-2",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Loading…"})]}):w.jsxs(w.Fragment,{children:[w.jsx(PR,{variant:"flush",children:t&&t.length>0?t.map(Ae=>w.jsxs(PR.Item,{as:"div",action:!0,active:a===Ae.id,onClick:()=>me(Ae.id),className:"d-flex justify-content-between align-items-center",children:[w.jsxs("div",{children:[w.jsx("div",{className:"fw-semibold",children:Ae.title}),w.jsxs("div",{className:"small text-muted",children:[w.jsx("code",{children:Ae.id})," ·"," ",w.jsx(Wo,{bg:Ae.period==="daily"?"primary":"secondary",children:Ae.period})]})]}),w.jsx(Je,{size:"sm",variant:"outline-danger",onClick:ge=>{ge.stopPropagation(),se(Ae.id)},disabled:R===Ae.id,children:R===Ae.id?"…":"Delete"})]},Ae.id)):w.jsx("div",{className:"p-3 text-muted",children:"No forms yet."})}),w.jsx("div",{className:"p-2",children:w.jsx(Je,{className:"w-100",onClick:K,children:"+ New form"})})]})})})]}),w.jsxs(_n,{md:5,lg:6,className:"mb-3",children:[v&&w.jsx(Fs,{variant:v.variant,onClose:()=>b(null),dismissible:!0,children:v.msg}),w.jsx(qt,{className:"mb-3",children:w.jsxs(qt.Body,{children:[w.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-end",children:[w.jsxs("div",{style:{minWidth:220},children:[w.jsx($e.Label,{className:"mb-1",children:"Form title"}),w.jsx($e.Control,{value:u.title,onChange:Ae=>ke("title",Ae.target.value),placeholder:"Daily Ambulance Checklist"})]}),w.jsxs("div",{style:{minWidth:180},children:[w.jsx($e.Label,{className:"mb-1",children:"Period"}),w.jsxs($e.Select,{value:u.period,onChange:Ae=>ke("period",Ae.target.value),children:[w.jsx("option",{value:"daily",children:"daily"}),w.jsx("option",{value:"weekly",children:"weekly"})]})]}),w.jsxs("div",{className:"ms-auto d-flex gap-2",children:[w.jsx(Je,{variant:"outline-secondary",onClick:Te,children:"JSON"}),w.jsx(Je,{variant:"outline-secondary",onClick:Re,children:"Export"}),!a&&w.jsxs(y_,{style:{width:240},children:[w.jsx(y_.Text,{children:"forms/"}),w.jsx($e.Control,{value:ue,onChange:Ae=>pe(Ae.target.value),placeholder:"daily"})]}),w.jsx(Je,{onClick:q,disabled:!xe||!Dt||T,children:T?"Saving…":a?"Save":"Create"})]})]}),!Dt&&w.jsx("div",{className:"text-danger mt-2",children:"Form has validation issues."}),f&&w.jsx("div",{className:"text-warning mt-1 small",children:"Unsaved changes"})]})}),u.sections.map((Ae,ge)=>w.jsxs(qt,{className:"mb-3",children:[w.jsxs(qt.Header,{className:"d-flex align-items-center justify-content-between",children:[w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>D(ge),"aria-expanded":!V[ge],children:V[ge]?"▶":"▼"}),w.jsx($e.Control,{value:Ae.title,onChange:F=>Oe(ge,{title:F.target.value}),style:{width:260}}),w.jsxs(Wo,{bg:"light",text:"dark",children:[Ae.fields.length," fields"]})]}),w.jsxs("div",{className:"d-flex gap-2",children:[w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>Mt(ge,-1),children:"↑"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>Mt(ge,1),children:"↓"}),w.jsx(Je,{size:"sm",variant:"outline-danger",onClick:()=>st(ge),children:"Remove"})]})]}),w.jsx(IE,{in:!V[ge],children:w.jsx("div",{children:w.jsxs(qt.Body,{children:[w.jsx("div",{className:"mb-2",children:w.jsxs(Vm,{children:[w.jsx(Je,{size:"sm",onClick:()=>ft(ge,"text"),children:"+ Text"}),w.jsx(Je,{size:"sm",onClick:()=>ft(ge,"number"),children:"+ Number"}),w.jsx(Je,{size:"sm",onClick:()=>ft(ge,"boolean"),children:"+ Boolean"}),w.jsx(Je,{size:"sm",onClick:()=>ft(ge,"select"),children:"+ Select"}),w.jsx(Je,{size:"sm",onClick:()=>ft(ge,"checklist"),children:"+ Checklist"})]})}),Ae.fields.length===0?w.jsx("div",{className:"text-muted",children:"No fields in this section."}):w.jsx("div",{className:"table-responsive",children:w.jsxs(pf,{hover:!0,size:"sm",className:"align-middle m-0",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{width:200},children:"Field ID"}),w.jsx("th",{style:{width:140},children:"Type"}),w.jsx("th",{style:{width:110},children:"Required"}),w.jsx("th",{style:{width:210},className:"text-end",children:"Actions"})]})}),w.jsx("tbody",{children:Ae.fields.map((F,Q)=>w.jsxs(E.Fragment,{children:[w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx($e.Control,{placeholder:"field_id",value:H(F),onChange:X=>$(F,X.target.value),onBlur:()=>N(ge,Q,F),onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),N(ge,Q,F))}})}),w.jsx("td",{children:w.jsxs($e.Select,{value:F.type,onChange:X=>Ct(ge,Q,{type:X.target.value}),children:[w.jsx("option",{value:"text",children:"text"}),w.jsx("option",{value:"number",children:"number"}),w.jsx("option",{value:"boolean",children:"boolean"}),w.jsx("option",{value:"select",children:"select"}),w.jsx("option",{value:"checklist",children:"checklist"})]})}),w.jsx("td",{className:"text-center",children:w.jsx($e.Check,{checked:!!F.required,onChange:X=>Ct(ge,Q,{required:X.currentTarget.checked})})}),w.jsxs("td",{className:"text-end",children:[w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>Zt(ge,Q,-1),className:"me-1",children:"↑"}),w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>Zt(ge,Q,1),className:"me-1",children:"↓"}),w.jsxs(em,{as:Vm,size:"sm",children:[w.jsx(Je,{variant:"outline-danger",onClick:()=>un(ge,Q),children:"Remove"}),w.jsx(em.Toggle,{split:!0,variant:"outline-secondary",id:`dup-${ge}-${Q}`}),w.jsx(em.Menu,{children:w.jsx(em.Item,{onClick:()=>d(X=>{const we=Nr(X),be=we.sections[ge],ye=Nr(be.fields[Q]);return ye._uid=crypto.randomUUID(),ye.id=Gv(be,ye.id),be.fields.splice(Q+1,0,ye),we}),children:"Duplicate"})})]})]})]}),w.jsx("tr",{children:w.jsx("td",{colSpan:4,children:w.jsxs("div",{className:"border rounded-3 p-3 bg-body-tertiary mb-2",children:[w.jsxs(aa,{className:"g-3",children:[w.jsxs(_n,{md:6,children:[w.jsx($e.Label,{className:"mb-1",children:"Label"}),w.jsx($e.Control,{className:"form-control-lg",placeholder:"Field label shown to crews",value:F.label,onChange:X=>Ct(ge,Q,{label:X.target.value})})]}),w.jsxs(_n,{md:6,children:[w.jsx($e.Label,{className:"mb-1",children:F.type==="select"||F.type==="checklist"?"Options (comma-separated)":F.type==="boolean"?"Yes label (optional)":"Placeholder (optional)"}),F.type==="select"||F.type==="checklist"?w.jsx($e.Control,{as:"textarea",rows:2,placeholder:"e.g. Oxygen, Trauma kit, Airway bag",value:gt(F),onChange:X=>Dn(F,X.target.value),onBlur:()=>Nt(ge,Q,F),onKeyDown:X=>{X.key==="Enter"&&(X.metaKey||X.ctrlKey)&&(X.preventDefault(),Nt(ge,Q,F))}}):F.type==="boolean"?w.jsx($e.Control,{placeholder:"e.g. Yes",value:F.switchLabel??"",onChange:X=>Ct(ge,Q,{switchLabel:X.target.value})}):w.jsx($e.Control,{placeholder:"e.g. Enter reading…",value:F.placeholder??"",onChange:X=>Ct(ge,Q,{placeholder:X.target.value})}),(F.type==="select"||F.type==="checklist")&&w.jsxs("div",{className:"form-text",children:["Press ",w.jsx("kbd",{children:"Ctrl"}),"/",w.jsx("kbd",{children:"Cmd"}),"+",w.jsx("kbd",{children:"Enter"})," to commit, or click out."]})]})]}),w.jsx("hr",{className:"my-3 opacity-25"}),w.jsx($e.Label,{className:"mb-1",children:"Show If"}),w.jsx(PM,{value:F.showIf,onChange:X=>Ct(ge,Q,{showIf:X})})]})})})]},F._uid))})]})})]})})})]},ge)),w.jsx("div",{className:"mb-4",children:w.jsx(Je,{variant:"outline-primary",onClick:pt,children:"+ Add section"})})]}),w.jsxs(_n,{md:4,lg:4,className:"mb-3",children:[w.jsxs(qt,{children:[w.jsxs(qt.Header,{className:"d-flex justify-content-between align-items-center",children:[w.jsx("div",{className:"fw-semibold",children:"Live preview"}),w.jsx(Wo,{bg:Dt?"success":"danger",children:Dt?"valid":"invalid"})]}),w.jsx(qt.Body,{children:w.jsx(NM,{formDef:{...Zl(u),id:a??"preview"},staff:["Alice","Bob"],staffKey:"alice__bob",dateKey:"2025-09-26"})})]}),w.jsx("div",{className:"text-muted small mt-2",children:"Preview uses demo staff and date; saving doesn’t use preview data."})]})]}),w.jsxs(Tr,{show:O,onHide:()=>B(!1),size:"lg",children:[w.jsx(Tr.Header,{closeButton:!0,children:w.jsx(Tr.Title,{children:"Form JSON"})}),w.jsxs(Tr.Body,{children:[w.jsx($e.Control,{as:"textarea",rows:18,value:j,onChange:Ae=>M(Ae.target.value),spellCheck:!1}),w.jsxs("div",{className:"small text-muted mt-2",children:["Paste JSON to import, or edit directly and click"," ",w.jsx("strong",{children:"Import"}),"."]})]}),w.jsxs(Tr.Footer,{children:[w.jsx(Je,{variant:"secondary",onClick:()=>B(!1),children:"Close"}),w.jsx(Je,{variant:"outline-primary",onClick:fe,children:"Import"})]})]})]})}function B$(){const t=Gw(),[e]=pE(),n=tf(),r=mr(),a=e.get("next")||"/",[o,u]=E.useState(""),[d,f]=E.useState(""),[h,g]=E.useState(!1),[_,v]=E.useState(null),[b,T]=E.useState(null);E.useEffect(()=>{!t.loading&&t.user&&n(a,{replace:!0,state:{from:r}})},[t.loading,t.user,n,a,r]);const x=async R=>{if(R.preventDefault(),!!t.signIn){T(null),v(null),g(!0);try{await t.signIn(o.trim(),d)}catch(I){T(I?.message??"username/password sign-in failed.")}finally{g(!1)}}};return w.jsx(ol,{className:"py-4",children:w.jsx(aa,{className:"justify-content-center",children:w.jsx(_n,{xs:12,md:6,lg:5,children:w.jsx(qt,{children:w.jsxs(qt.Body,{children:[w.jsx(qt.Title,{className:"mb-3",children:"Admin Sign In"}),(t.loading||h)&&w.jsx("div",{className:"d-flex align-items-center gap-2 mb-3",children:w.jsx(Ws,{animation:"border",size:"sm"})}),b&&w.jsx(Fs,{variant:"danger",onClose:()=>T(null),dismissible:!0,children:b}),_&&w.jsx(Fs,{variant:"info",onClose:()=>v(null),dismissible:!0,children:_}),t.error&&w.jsx(Fs,{variant:"warning",className:"mb-3",children:t.error}),t.user&&w.jsxs("div",{className:"mb-3",children:["Signed in as"," ",w.jsx("strong",{children:t.user.email?.replace("@bllk.forms","")??"unknown"}),t.signOut&&w.jsxs(w.Fragment,{children:[" · ",w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>t.signOut?.(),children:"Sign out"})]})]}),!t.loading&&w.jsxs($e,{onSubmit:x,className:"mb-3",children:[w.jsxs($e.Group,{className:"mb-2",children:[w.jsx($e.Label,{children:"Username"}),w.jsx($e.Control,{type:"text",autoComplete:"email",value:o,onChange:R=>u(R.target.value),required:!0})]}),w.jsxs($e.Group,{className:"mb-3",children:[w.jsx($e.Label,{children:"Password"}),w.jsx($e.Control,{type:"password",autoComplete:"current-password",value:d,onChange:R=>f(R.target.value),required:!0})]}),w.jsx("div",{className:"d-grid",children:w.jsx(Je,{type:"submit",disabled:h,children:h?"Signing in…":"Sign in"})})]})]})})})})})}function eb(t=new Date){const e=new Date(t);return e.setHours(0,0,0,0),e}function z$(t=new Date){const e=eb(t);return e.setDate(e.getDate()+1),e}function LM(t=new Date){const e=eb(t),r=(e.getDay()+6)%7;return e.setDate(e.getDate()-r),e}function H$(t=new Date){const e=LM(t);return e.setDate(e.getDate()+7),e}function $$(){const[t,e]=E.useState([]),[n,r]=E.useState(""),[a,o]=E.useState(""),[u,d]=E.useState(""),[f,h]=E.useState(""),[g,_]=E.useState(""),[v,b]=E.useState([]),[T,x]=E.useState(null),[R,I]=E.useState(!1),[O,B]=E.useState(null),[j,M]=E.useState(null);E.useEffect(()=>{(async()=>{try{const N=await MM();e(N)}catch(N){B({variant:"danger",msg:N?.message??"Failed to load forms."})}})()},[]);const V=E.useMemo(()=>{if(!a||!u||a===u)return"";const[N,J]=[a,u];return kM(N,J)},[a,u]),P=E.useMemo(()=>f?new Date(f+"T00:00:00"):void 0,[f]),D=E.useMemo(()=>g?new Date(g+"T00:00:00"):void 0,[g]),k=async(N=!0)=>{try{I(!0);const J=await C$({formId:n||void 0,staffKey:V||void 0,createdFrom:P,createdTo:D,pageSize:25,after:N?null:T});b(N?J.items:me=>me.concat(J.items)),x(J.cursor)}catch(J){B({variant:"danger",msg:J?.message??"Failed to query submissions."})}finally{I(!1)}},z=()=>{const N=eb(),J=z$();h(N.toISOString().slice(0,10)),_(J.toISOString().slice(0,10))},H=()=>{const N=LM(),J=H$();h(N.toISOString().slice(0,10)),_(J.toISOString().slice(0,10))},$=()=>{if(v.length===0)return;const N=Array.from(v.reduce((xe,q)=>(Object.keys(q.answers||{}).forEach(se=>xe.add(se)),xe),new Set)).sort(),me=[["id","createdAt","formId","period","dateKey","staffA","staffB","sequence",...N].join(",")];for(const xe of v){const q=xe.createdAt instanceof Date?xe.createdAt.toISOString():xe.createdAt??"",se=[xe.id,q,xe.formId,xe.period,xe.dateKey,xe.staff?.[0]??"",xe.staff?.[1]??"",xe.sequence??""],Te=N.map(fe=>{const Re=(xe.answers??{})[fe],ke=Re==null?"":typeof Re=="object"?JSON.stringify(Re):String(Re),Oe=/[",\n]/.test(ke),pt=ke.replace(/"/g,'""');return Oe?`"${pt}"`:pt});me.push([...se,...Te].join(","))}const K=new Blob([me.join(`
`)],{type:"text/csv;charset=utf-8"}),ue=URL.createObjectURL(K),pe=document.createElement("a");pe.href=ue,pe.download=`submissions-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(pe),pe.click(),pe.remove(),URL.revokeObjectURL(ue)};return w.jsxs(ol,{fluid:!0,className:"py-3",children:[w.jsxs(aa,{className:"mb-3 align-items-end",children:[w.jsxs(_n,{md:3,lg:3,children:[w.jsx($e.Label,{children:"Form"}),w.jsxs($e.Select,{value:n,onChange:N=>r(N.target.value),children:[w.jsx("option",{value:"",children:"All forms"}),t.map(N=>w.jsxs("option",{value:N.id,children:[N.title," (",N.id,")"]},N.id))]})]}),w.jsxs(_n,{md:3,lg:3,children:[w.jsx($e.Label,{children:"Staff A"}),w.jsx($e.Control,{value:a,onChange:N=>o(N.target.value),placeholder:"e.g., Alice"})]}),w.jsxs(_n,{md:3,lg:3,children:[w.jsx($e.Label,{children:"Staff B"}),w.jsx($e.Control,{value:u,onChange:N=>d(N.target.value),placeholder:"e.g., Bob"})]}),w.jsx(_n,{md:3,lg:3,className:"mt-2 mt-md-0",children:w.jsxs("div",{className:"d-flex gap-2",children:[w.jsxs("div",{style:{minWidth:140},children:[w.jsx($e.Label,{children:"From"}),w.jsx($e.Control,{type:"date",value:f,onChange:N=>h(N.target.value)})]}),w.jsxs("div",{style:{minWidth:140},children:[w.jsx($e.Label,{children:"To"}),w.jsx($e.Control,{type:"date",value:g,onChange:N=>_(N.target.value)})]})]})})]}),w.jsx(aa,{className:"mb-3",children:w.jsxs(_n,{className:"d-flex gap-2",children:[w.jsx(Je,{variant:"outline-secondary",onClick:z,children:"Today"}),w.jsx(Je,{variant:"outline-secondary",onClick:H,children:"This week"}),w.jsx(Je,{onClick:()=>k(!0),disabled:R,children:R?"Loading…":"Apply filters"}),w.jsxs(Je,{variant:"outline-primary",onClick:$,disabled:v.length===0,children:["Export CSV (",v.length,")"]})]})}),O&&w.jsx(Fs,{variant:O.variant,onClose:()=>B(null),dismissible:!0,children:O.msg}),w.jsxs(qt,{children:[w.jsx(qt.Body,{className:"p-0",children:R&&v.length===0?w.jsxs("div",{className:"p-3 d-flex align-items-center gap-2",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Loading…"})]}):v.length===0?w.jsx("div",{className:"p-3 text-muted",children:"No submissions."}):w.jsx("div",{className:"table-responsive",children:w.jsxs(pf,{hover:!0,size:"sm",className:"align-middle m-0",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{width:84},children:"#"}),w.jsx("th",{style:{width:210},children:"Created"}),w.jsx("th",{children:"Form"}),w.jsx("th",{children:"Staff"}),w.jsx("th",{children:"Date/Week"}),w.jsx("th",{children:"Peek"}),w.jsx("th",{style:{width:120}})]})}),w.jsx("tbody",{children:v.map((N,J)=>{const me=N.createdAt instanceof Date?N.createdAt.toLocaleString():typeof N.createdAt=="string"?N.createdAt:"",K=N.answers?.fuel_notes??N.answers?.defib_notes??N.answers?.notes??"";return w.jsxs("tr",{children:[w.jsx("td",{children:N.sequence??J+1}),w.jsx("td",{children:me}),w.jsx("td",{children:w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx(Wo,{bg:N.period==="weekly"?"secondary":"primary",children:N.period}),w.jsx("code",{children:N.formId})]})}),w.jsx("td",{children:N.staff?.[0]&&N.staff?.[1]?w.jsxs(w.Fragment,{children:[w.jsx("span",{children:N.staff[0]})," &"," ",w.jsx("span",{children:N.staff[1]})]}):w.jsx("span",{className:"text-muted",children:"—"})}),w.jsx("td",{children:w.jsx("code",{children:N.dateKey})}),w.jsx("td",{className:"text-muted",children:typeof K=="string"&&K.length>0?K.slice(0,60)+(K.length>60?"…":""):"—"}),w.jsx("td",{className:"text-end",children:w.jsx(Je,{size:"sm",variant:"outline-secondary",onClick:()=>M(N),children:"View"})})]},N.id)})})]})})}),T&&w.jsx(qt.Footer,{className:"d-flex justify-content-center",children:w.jsx(Je,{onClick:()=>k(!1),disabled:R,children:R?"Loading…":"Load more"})})]}),w.jsxs(Tr,{show:!!j,onHide:()=>M(null),size:"lg",children:[w.jsx(Tr.Header,{closeButton:!0,children:w.jsx(Tr.Title,{children:"Submission details"})}),w.jsx(Tr.Body,{children:j?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-2",children:[w.jsx("strong",{children:"ID:"})," ",w.jsx("code",{children:j.id})]}),w.jsxs("div",{className:"mb-2",children:[w.jsx("strong",{children:"Created:"})," ",j.createdAt instanceof Date?j.createdAt.toLocaleString():String(j.createdAt??"")]}),w.jsxs("div",{className:"mb-2",children:[w.jsx("strong",{children:"Form:"})," ",w.jsx("code",{children:j.formId})," ·"," ",w.jsx(Wo,{bg:j.period==="weekly"?"secondary":"primary",children:j.period})," ","· ",w.jsx("strong",{children:"Date/Week:"})," ",w.jsx("code",{children:j.dateKey})]}),w.jsxs("div",{className:"mb-2",children:[w.jsx("strong",{children:"Staff:"})," ",j.staff?.[0]??"—"," &"," ",j.staff?.[1]??"—"]}),j.sequence!=null&&w.jsxs("div",{className:"mb-2",children:[w.jsx("strong",{children:"Sequence:"})," ",j.sequence]}),w.jsx("hr",{}),w.jsx("pre",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:JSON.stringify(j.answers??{},null,2)})]}):null}),w.jsx(Tr.Footer,{children:w.jsx(Je,{variant:"secondary",onClick:()=>M(null),children:"Close"})})]})]})}function q$(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),[a,o]=E.useState(null),[u,d]=E.useState(""),[f,h]=E.useState(!1),[g,_]=E.useState(""),[v,b]=E.useState(null),[T,x]=E.useState(""),[R,I]=E.useState(!1),[O,B]=E.useState(`Alice,true
Bob,true`),j=async()=>{r(!0);try{const J=await N$();e(J)}catch(J){o({variant:"danger",msg:J?.message??"Failed to load staff."})}finally{r(!1)}};E.useEffect(()=>{j()},[]);const M=E.useMemo(()=>{const J=u.trim().toLowerCase();return t.filter(me=>(!f||me.active)&&(!J||me.name.toLowerCase().includes(J)))},[t,u,f]),V=async()=>{const J=g.trim();if(J)try{await O$(J,!0),_(""),o({variant:"success",msg:`Added "${J}".`}),await j()}catch(me){o({variant:"danger",msg:me?.message??"Failed to add staff."})}},P=async J=>{const me=T.trim();if(me)try{await M$(J,me),b(null),x(""),o({variant:"success",msg:"Name updated."}),await j()}catch(K){o({variant:"danger",msg:K?.message??"Failed to rename."})}},D=async(J,me)=>{try{await NC(J,me),await j()}catch(K){o({variant:"danger",msg:K?.message??"Failed to update active."})}},k=async(J,me)=>{if(confirm(`Delete "${me}"?`))try{await k$(J),o({variant:"success",msg:`Deleted "${me}".`}),await j()}catch(K){o({variant:"danger",msg:K?.message??"Failed to delete."})}},z=()=>{try{if(O.trim().startsWith("["))return JSON.parse(O).filter(K=>K.name&&typeof K.name=="string");const J=[];for(const me of O.split(`
`)){const K=me.trim();if(!K)continue;const[ue,pe]=K.split(",").map(xe=>xe.trim());J.push({name:ue,active:/^true$/i.test(pe??"true")})}return J}catch{return null}},H=async()=>{const J=z();if(!J||J.length===0){o({variant:"warning",msg:"Nothing to import or invalid format."});return}try{await P$(J),I(!1),o({variant:"success",msg:`Imported ${J.length} staff.`}),await j()}catch(me){o({variant:"danger",msg:me?.message??"Import failed."})}},$=()=>{const J=["name,active",...t.map(pe=>`${pe.name},${pe.active?"true":"false"}`)],me=new Blob([J.join(`
`)],{type:"text/csv;charset=utf-8"}),K=URL.createObjectURL(me),ue=document.createElement("a");ue.href=K,ue.download="staff.csv",document.body.appendChild(ue),ue.click(),ue.remove(),URL.revokeObjectURL(K)},N=async J=>{try{for(const me of t)me.active!==J&&await NC(me.id,J);o({variant:"success",msg:J?"All active.":"All deactivated."}),await j()}catch(me){o({variant:"danger",msg:me?.message??"Bulk update failed."})}};return w.jsxs(ol,{className:"py-3",children:[w.jsxs(aa,{className:"mb-3 align-items-end",children:[w.jsxs(_n,{md:5,children:[w.jsx($e.Label,{children:"Search"}),w.jsx($e.Control,{placeholder:"Search names…",value:u,onChange:J=>d(J.target.value)})]}),w.jsx(_n,{md:"auto",className:"mt-2 mt-md-0",children:w.jsx($e.Check,{type:"switch",id:"onlyActive",label:"Only active",checked:f,onChange:J=>h(J.currentTarget.checked)})}),w.jsxs(_n,{className:"mt-2 mt-md-0 d-flex gap-2 justify-content-end",children:[w.jsx(Je,{variant:"outline-secondary",onClick:()=>I(!0),children:"Import"}),w.jsx(Je,{variant:"outline-secondary",onClick:$,children:"Export"}),w.jsx(Je,{variant:"outline-success",onClick:()=>N(!0),children:"Activate all"}),w.jsx(Je,{variant:"outline-danger",onClick:()=>N(!1),children:"Deactivate all"})]})]}),a&&w.jsx(Fs,{variant:a.variant,onClose:()=>o(null),dismissible:!0,children:a.msg}),w.jsxs(qt,{className:"mb-3",children:[w.jsx(qt.Header,{children:"Add staff"}),w.jsx(qt.Body,{children:w.jsxs(aa,{className:"g-2 align-items-end",children:[w.jsxs(_n,{md:6,children:[w.jsx($e.Label,{children:"Name"}),w.jsx($e.Control,{placeholder:"e.g., Alice Smith",value:g,onChange:J=>_(J.target.value)})]}),w.jsx(_n,{md:"auto",children:w.jsx(Je,{onClick:V,disabled:!g.trim(),children:"Add"})})]})})]}),w.jsx(qt,{children:w.jsx(qt.Body,{className:"p-0",children:n?w.jsxs("div",{className:"p-3 d-flex align-items-center gap-2",children:[w.jsx(Ws,{animation:"border",size:"sm"}),w.jsx("span",{children:"Loading…"})]}):t.length===0?w.jsx("div",{className:"p-3 text-muted",children:"No staff yet."}):w.jsx("div",{className:"table-responsive",children:w.jsxs(pf,{hover:!0,className:"m-0 align-middle",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{width:32}}),w.jsx("th",{children:"Name"}),w.jsx("th",{style:{width:120},children:"Status"}),w.jsx("th",{style:{width:220}})]})}),w.jsx("tbody",{children:M.map(J=>{const me=v===J.id;return w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("span",{title:J.id,children:"•"})}),w.jsx("td",{children:me?w.jsxs(y_,{children:[w.jsx($e.Control,{value:T,onChange:K=>x(K.target.value),autoFocus:!0}),w.jsx(Je,{variant:"outline-secondary",onClick:()=>{b(null),x("")},children:"Cancel"}),w.jsx(Je,{onClick:()=>P(J.id),children:"Save"})]}):w.jsx("span",{className:J.active?"":"text-muted",children:J.name})}),w.jsx("td",{children:w.jsx(Wo,{bg:J.active?"success":"secondary",children:J.active?"Active":"Inactive"})}),w.jsx("td",{className:"text-end",children:!me&&w.jsxs(w.Fragment,{children:[w.jsx(Je,{size:"sm",className:"me-2",onClick:()=>{b(J.id),x(J.name)},children:"Rename"}),w.jsx(Je,{size:"sm",variant:J.active?"outline-warning":"outline-success",className:"me-2",onClick:()=>D(J.id,!J.active),children:J.active?"Deactivate":"Activate"}),w.jsx(Je,{size:"sm",variant:"outline-danger",onClick:()=>k(J.id,J.name),children:"Delete"})]})})]},J.id)})})]})})})}),w.jsxs(Tr,{show:R,onHide:()=>I(!1),size:"lg",children:[w.jsx(Tr.Header,{closeButton:!0,children:w.jsx(Tr.Title,{children:"Import staff"})}),w.jsxs(Tr.Body,{children:[w.jsxs("p",{className:"text-muted",children:["Paste CSV (",w.jsx("code",{children:"name,active"}),") — one per line — or JSON (",w.jsx("code",{children:"[{name, active}]"}),").",w.jsx("br",{}),"Active defaults to ",w.jsx("code",{children:"true"}),"."]}),w.jsx($e.Control,{as:"textarea",rows:12,value:O,onChange:J=>B(J.target.value),spellCheck:!1})]}),w.jsxs(Tr.Footer,{children:[w.jsx(Je,{variant:"secondary",onClick:()=>I(!1),children:"Cancel"}),w.jsx(Je,{onClick:H,children:"Import"})]})]})]})}function G$(){const{loading:t,admin:e}=Gw();return t?w.jsx(Da,{children:w.jsx("div",{children:"Loading authentication status..."})}):w.jsxs(Vx,{children:[w.jsx(Ki,{path:"/",element:w.jsx(Da,{children:!1})}),w.jsx(Ki,{path:"/daily",element:w.jsx(Da,{admin:e,children:w.jsx(PC,{formId:"daily"})})}),w.jsx(Ki,{path:"/weekly",element:w.jsx(Da,{admin:e,children:w.jsx(PC,{formId:"weekly"})})}),w.jsx(Ki,{path:"/admin/builder",element:w.jsx(um,{children:w.jsx(Da,{admin:!0,children:w.jsx(F$,{})})})}),w.jsx(Ki,{path:"/admin/submissions",element:w.jsx(um,{children:w.jsx(Da,{admin:!0,children:w.jsx($$,{})})})}),w.jsx(Ki,{path:"/admin/staff",element:w.jsx(um,{children:w.jsx(Da,{admin:!0,children:w.jsx(q$,{})})})}),w.jsx(Ki,{path:"/admin",element:w.jsx(um,{children:w.jsx(Da,{admin:!0,children:w.jsx(Da,{admin:!0,children:!1})})})}),w.jsx(Ki,{path:"/login",element:w.jsx(B$,{})})]})}Ek.createRoot(document.getElementById("root")).render(w.jsx(E.StrictMode,{children:w.jsx(x1,{basename:"/",children:w.jsx(n$,{children:w.jsx(G$,{})})})}));
